{"version":3,"sources":["webpack:///webpack/bootstrap 613d5e6646f841087ce4","webpack:///./server/boethius/~/lodash/index.js","webpack:///./server/boethius/src/constants.js","webpack:///./server/boethius/~/paper/dist/paper-core.js","webpack:///./server/boethius/src/utils/common.js","webpack:///./server/boethius/src/types.js","webpack:///./server/boethius/src/engraver.js","webpack:///./server/boethius/src/utils/timeUtils.js","webpack:///./server/boethius/src/utils/note.js","webpack:///./server/boethius/src/utils/placement.js","webpack:///./server/boethius/src/utils/line.js","webpack:///./server/boethius/src/views/Clef.js","webpack:///./server/boethius/~/teoria/lib/knowledge.js","webpack:///./server/boethius/src/utils/accidental.js","webpack:///./server/boethius/src/views/Note.js","webpack:///./server/boethius/~/teoria/lib/interval.js","webpack:///./server/boethius/src/utils/equality.js","webpack:///./server/boethius/src/views/Chord.js","webpack:///./server/boethius/src/views/Line.js","webpack:///./server/boethius/src/views/Measure.js","webpack:///./server/boethius/src/views/System.js","webpack:///./server/boethius/src/views/Voice.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./server/boethius/src/utils/system.js","webpack:///./server/boethius/src/views/ChordSymbol.js","webpack:///./server/boethius/src/views/Dynamic.js","webpack:///./server/boethius/src/views/Key.js","webpack:///./server/boethius/src/views/Rest.js","webpack:///./server/boethius/src/views/Score.js","webpack:///./server/boethius/src/views/TimeSignature.js","webpack:///./~/css-loader/lib/css-base.js","webpack:///./server/boethius-lang/src/palestrina/~/lodash/index.js","webpack:///./server/boethius/~/accidental-value/index.js","webpack:///./server/boethius/~/fraction.js/fraction.js","webpack:///./server/boethius/~/notecoord/index.js","webpack:///./server/boethius/~/teoria/index.js","webpack:///./server/boethius/~/teoria/lib/note.js","webpack:///./server/boethius/~/teoria/lib/vector.js","webpack:///./server/boethius/src/utils/chord.js","webpack:///./server/boethius/src/utils/geometry.js","webpack:///./server/boethius/src/utils/parser.js","webpack:///./server/boethius/src/views/Page.js","webpack:///./server/boethius/src/views/Repeat.js","webpack:///./server/boethius/src/views/Text.js","webpack:///./~/process/browser.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./server/boethius-lang/src/palestrina/src/scale.js","webpack:///./server/index.js","webpack:///./server/boethius/~/daccord/index.js","webpack:///./server/boethius/~/helmholtz/index.js","webpack:///./server/boethius/~/interval-coords/index.js","webpack:///./server/boethius/~/scientific-notation/index.js","webpack:///./server/boethius/~/teoria/lib/chord.js","webpack:///./server/boethius/~/teoria/lib/scale.js","webpack:///./server/boethius/~/teoria/lib/sugar.js","webpack:///./server/boethius/src/Scored.js","webpack:///./server/boethius/src/config.js","webpack:///./server/boethius/src/utils/barline.js","webpack:///./server/boethius/src/utils/diff.js","webpack:///./server/boethius/src/views/Slur.js","webpack:///./server/boethius/src/views/TimeContext.js","webpack:///./server/boethius/src/virtual-score.js","webpack:///./~/base64-js/index.js","webpack:///./~/buffer/index.js","webpack:///./~/buffer/~/isarray/index.js","webpack:///./server/boethius/styles/fonts.css","webpack:///./server/boethius/styles/index.css","webpack:///./server/boethius/styles/score.css","webpack:///./server/boethius/styles/fonts/gonvillealpha11.ttf","webpack:///./server/boethius/styles/fonts/gonvillepart1.ttf","webpack:///./~/ieee754/index.js","webpack:///./~/lodash/lodash.js","webpack:///./~/path-browserify/index.js","webpack:///./src/glorias-step.bth","webpack:///./~/style-loader/addStyles.js","webpack:///./~/style-loader/fixUrls.js","webpack:///./server/boethius/styles/index.css?be79","webpack:///./~/webfontloader/webfontloader.js","webpack:///./server/boethius-lang/lang/lang.js","webpack:///./server/boethius-lang/~/fraction.js/fraction.js","webpack:///./server/boethius-lang/src/ChordNode.js","webpack:///./server/boethius-lang/src/NoteNode.js","webpack:///./server/boethius-lang/src/RestNode.js","webpack:///./server/boethius-lang/src/main.js","webpack:///./server/boethius-lang/src/palestrina/~/fraction.js/fraction.js","webpack:///./server/boethius-lang/src/palestrina/src/chord.js","webpack:///./server/boethius-lang/src/palestrina/src/live.js","webpack:///./server/boethius-lang/src/palestrina/src/melody.js","webpack:///./server/boethius-lang/src/palestrina/src/palestrina.js","webpack:///./server/boethius-lang/src/time.js","webpack:///./src/glorias-step-layout.json","webpack:///./node/extend.js (ignored)","webpack:///./node/window.js (ignored)"],"names":["undefined","VERSION","BIND_FLAG","BIND_KEY_FLAG","CURRY_BOUND_FLAG","CURRY_FLAG","CURRY_RIGHT_FLAG","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","ARY_FLAG","REARG_FLAG","DEFAULT_TRUNC_LENGTH","DEFAULT_TRUNC_OMISSION","HOT_COUNT","HOT_SPAN","LARGE_ARRAY_SIZE","LAZY_FILTER_FLAG","LAZY_MAP_FLAG","FUNC_ERROR_TEXT","PLACEHOLDER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","weakMapTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChars","reHasRegExpChars","reComboMark","reEscapeChar","reEsTemplate","reFlags","reHasHexPrefix","reIsHostCtor","reIsUint","reLatin1","reNoMatch","reUnescapedString","reWords","upper","lower","contextProps","templateCounter","typedArrayTags","cloneableTags","deburredLetters","htmlEscapes","htmlUnescapes","objectTypes","regexpEscapes","stringEscapes","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","Object","freeSelf","self","freeWindow","window","moduleExports","root","baseCompareAscending","value","other","valIsNull","valIsUndef","valIsReflexive","othIsNull","othIsUndef","othIsReflexive","baseFindIndex","array","predicate","fromRight","length","index","baseIndexOf","fromIndex","indexOfNaN","baseIsFunction","baseToString","charsLeftIndex","string","chars","indexOf","charAt","charsRightIndex","compareAscending","object","criteria","compareMultiple","orders","objCriteria","othCriteria","ordersLength","result","order","deburrLetter","letter","escapeHtmlChar","chr","escapeRegExpChar","leadingChar","whitespaceChar","escapeStringChar","isObjectLike","isSpace","charCode","replaceHolders","placeholder","resIndex","sortedUniq","iteratee","seen","computed","trimmedLeftIndex","charCodeAt","trimmedRightIndex","unescapeHtmlChar","runInContext","context","_","defaults","pick","Array","Date","Error","Function","Math","Number","String","TypeError","arrayProto","prototype","objectProto","stringProto","fnToString","toString","hasOwnProperty","idCounter","objToString","oldDash","reIsNative","call","replace","ArrayBuffer","clearTimeout","parseFloat","pow","propertyIsEnumerable","Set","getNative","setTimeout","splice","Uint8Array","WeakMap","nativeCeil","ceil","nativeCreate","nativeFloor","floor","nativeIsArray","nativeIsFinite","isFinite","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","parseInt","nativeRandom","random","NEGATIVE_INFINITY","POSITIVE_INFINITY","MAX_ARRAY_LENGTH","MAX_ARRAY_INDEX","HALF_MAX_ARRAY_LENGTH","MAX_SAFE_INTEGER","metaMap","realNames","lodash","isArray","LazyWrapper","LodashWrapper","wrapperClone","baseLodash","chainAll","actions","__wrapped__","__actions__","__chain__","support","templateSettings","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","lazyClone","arrayCopy","lazyReverse","clone","lazyValue","dir","isArr","isRight","arrLength","view","getView","start","end","iteratees","iterLength","takeCount","baseWrapperValue","reverse","outer","iterIndex","data","type","MapCache","__data__","mapDelete","key","has","mapGet","mapHas","mapSet","SetCache","values","push","cacheIndexOf","cache","isObject","set","hash","cachePush","add","arrayConcat","othIndex","othLength","arrayEach","arrayEachRight","arrayEvery","arrayExtremum","comparator","exValue","current","arrayFilter","arrayMap","arrayPush","offset","arrayReduce","accumulator","initFromArray","arrayReduceRight","arraySome","arraySum","assignDefaults","objectValue","sourceValue","assignOwnDefaults","assignWith","customizer","props","keys","baseAssign","baseCopy","baseAt","collection","isNil","isArrayLike","propsLength","isIndex","baseCallback","func","thisArg","argCount","bindCallback","identity","baseMatches","property","baseMatchesProperty","baseClone","isDeep","stackA","stackB","initCloneArray","tag","isFunc","initCloneObject","initCloneByTag","baseForOwn","subValue","baseCreate","baseDelay","wait","args","apply","baseDifference","getIndexOf","isCommon","createCache","valuesLength","valuesIndex","baseEach","createBaseEach","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","baseFill","baseFilter","baseFind","eachFunc","retKey","baseFlatten","isStrict","isArguments","baseFor","createBaseFor","baseForRight","baseForIn","keysIn","baseFunctions","isFunction","baseGet","path","pathKey","toObject","baseIsEqual","isLoose","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","objIsWrapped","othIsWrapped","equalArrays","equalObjects","pop","baseIsMatch","matchData","noCustomizer","objValue","srcValue","baseMap","getMatchData","isKey","isStrictComparable","toPath","baseSlice","last","baseMerge","isSrcArr","baseMergeDeep","mergeFunc","isPlainObject","toPlainObject","baseProperty","basePropertyDeep","basePullAt","indexes","previous","baseRandom","baseReduce","initFromCollection","baseSetData","baseSome","baseSortBy","comparer","sort","baseSortByOrder","callback","getCallback","baseSum","baseUniq","isLarge","seenIndex","baseValues","baseWhile","isDrop","action","binaryIndex","retHighest","low","high","mid","binaryIndexBy","valIsNaN","isDef","isReflexive","setLow","arguments","bufferClone","buffer","byteLength","composeArgs","partials","holders","holdersLength","argsIndex","argsLength","leftIndex","leftLength","composeArgsRight","holdersIndex","rightIndex","rightLength","createAggregator","setter","initializer","createAssigner","assigner","restParam","sources","guard","isIterateeCall","getLength","isLength","iterable","keysFunc","createBindWrapper","Ctor","createCtorWrapper","wrapper","fn","createCompounder","words","deburr","thisBinding","createCurry","flag","curryFunc","arity","createWrapper","createDefaults","createExtremum","toIterable","createFind","createFindIndex","createFindKey","objectFunc","createFlow","funcs","thru","getFuncName","funcName","getData","isLaziable","plant","createForEach","arrayFunc","createForIn","createForOwn","createObjectMapper","isMapKeys","mapped","createPadDir","createPadding","createPartial","partialFunc","createReduce","createHybridWrapper","bitmask","partialsRight","holdersRight","argPos","ary","isAry","isBind","isBindKey","isCurry","isCurryBound","isCurryRight","argsHolders","newArgPos","newArity","newsHolders","newHoldersRight","newPartials","newPartialsRight","newData","setData","reorder","strLength","padLength","repeat","slice","createPartialWrapper","createRound","methodName","number","precision","createSortedIndex","mergeData","arrValue","othValue","name","message","objProps","objLength","othProps","skipCtor","objCtor","constructor","othCtor","noop","get","otherFunc","target","pairs","isNative","transforms","size","input","byteOffset","exec","lastIndex","invokePath","test","srcBitmask","newBitmask","isCombo","mergeDefaults","merge","pickByArray","pickByCallback","oldArray","count","lastCalled","stamp","now","remaining","shimKeys","allowIndexes","match","quote","chunk","compact","difference","drop","n","dropRight","dropRightWhile","dropWhile","fill","findIndex","findLastIndex","first","flatten","flattenDeep","initial","intersection","arrays","caches","lastIndexOf","pull","pullAt","remove","rest","sortedIndex","sortedLastIndex","take","takeRight","takeRightWhile","takeWhile","union","uniq","isSorted","unzip","group","unzipWith","without","xor","zip","zipObject","zipWith","chain","tap","interceptor","wrapperChain","wrapperCommit","wrapperConcat","wrapperPlant","parent","wrapperReverse","wrapped","wrapperToString","wrapperValue","at","countBy","every","filter","find","findLast","findWhere","forEach","forEachRight","groupBy","includes","isString","indexBy","invoke","isProp","map","partition","pluck","reduce","reduceRight","reject","sample","toArray","rand","shuffle","some","sortBy","sortByAll","sortByOrder","where","getTime","after","temp","before","bind","bindAll","methodNames","functions","bindKey","curry","curryRight","debounce","options","maxTimeoutId","timeoutId","trailingCall","maxWait","trailing","leading","cancel","complete","isCalled","id","delayed","maxDelayed","debounced","leadingCall","defer","delay","flow","flowRight","memoize","resolver","memoized","Cache","modArgs","negate","once","partial","partialRight","rearg","otherArgs","spread","throttle","wrap","cloneDeep","gt","gte","isBoolean","isDate","isElement","isEmpty","isEqual","isError","isMatch","isNaN","isNumber","isNull","isRegExp","isUndefined","lt","lte","assign","create","properties","defaultsDeep","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","defaultValue","invert","multiValue","isProto","skipIndexes","mapKeys","mapValues","omit","nested","transform","valuesIn","inRange","floating","noMin","noMax","camelCase","word","toLowerCase","toUpperCase","capitalize","endsWith","position","escape","escapeRegExp","kebabCase","pad","padLeft","padRight","radix","trim","snakeCase","startCase","startsWith","template","otherOptions","settings","imports","importsKeys","importsValues","isEscaping","isEvaluating","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","attempt","trimLeft","trimRight","trunc","omission","separator","search","newEnd","substring","unescape","pattern","e","matches","constant","matchesProperty","method","methodOf","mixin","isObj","noConflict","propertyOf","range","step","times","uniqueId","prefix","augend","addend","round","sum","backflow","collect","compose","each","eachRight","extend","methods","select","tail","unique","all","any","contains","eq","detect","foldl","foldr","head","include","inject","filtered","isFilter","takeName","dropName","operationName","createCallback","checkIteratee","retUnwrapped","lodashFunc","isHybrid","isLazy","useLazy","onlyLazy","chainName","names","commit","concat","run","toJSON","valueOf","define","constants","score","staff","system","slur","line","voice","measure","note","chord","chordSymbol","clef","timeSig","dynamic","page","text","font","clefs","treble","base","alto","timeSigs","common","half","accidentals","flat","b","doubleFlat","natural","sharp","doubleSharp","flags","eighth","down","up","sixteenth","thirtysecond","sixtyfourth","onehundredtwentyeighth","noteheads","solid","hollow","whole","rests","tenor","noteTypes","defaultLength","minLength","paper","require","document","Base","hidden","describe","getOwnPropertyDescriptor","defineProperty","iter","i","l","dst","src","obj","desc","dest","enumerable","beans","preserve","beansNames","field","val","res","prev","bean","writable","configurable","part","statics","ctor","proto","initialize","a","list","begin","_id","_class","_name","Formatter","instance","join","getClassName","importJSON","json","exportJSON","serialize","exclude","_prioritize","equals","obj1","obj2","read","amount","peek","__index","readIndex","_readIndex","readNull","__read","remain","readList","entry","readNamed","getNamed","hasObject","_filtered","_unfiltered","arg","_hasObject","hasNamed","prioritize","processed","handleKey","isPlainValue","asString","dictionary","isRoot","formatter","definitions","references","item","ref","unshift","_serialize","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","JSON","stringify","parse","useTarget","Item","Layer","insert","items","append","_index","removed","str","camelize","hyphenate","Emitter","on","types","_eventTypes","handlers","_callbacks","install","off","uninstall","emit","event","setTarget","currentTarget","stop","responds","attach","detach","fire","_installEvents","events","_events","PaperScope","applyMatrix","insertItems","handleSize","hitTolerance","project","projects","tools","palettes","_scopes","ctx","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","navigator","userAgent","os","platform","browser","v1","v2","rv","chrome","v","version","versionNumber","webkit","atom","_view","getPaper","execute","code","PaperScript","View","updateFocus","scope","that","setup","element","Project","createCanvas","width","height","getCanvas","activate","clear","handleAttribute","el","attr","getAttribute","hasAttribute","PaperScopeItem","_scope","_list","_reference","isActive","multiplier","pair","val1","val2","point","x","y","rectangle","Numerical","abscissas","weights","abs","sqrt","log2","log","LOG2E","EPSILON","MACHINE_EPSILON","clamp","getDiscriminant","c","split","hi","lo","D","E","ad","bd","cd","p","dp","q","dq","getNormalizationFactor","norm","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","KAPPA","isZero","integrate","f","w","A","B","m","Ax","findRoot","df","tolerance","fx","dx","nx","solveQuadratic","roots","x1","x2","Infinity","Q","R","boundless","minB","maxB","solveCubic","d","b1","c2","qd","x0","tmp","t","r","s","td","rd","UID","_pools","pool","Point","arg0","arg1","reading","hasY","_set","setAngle","angle","setLength","_angle","cos","sin","scale","getAngle","getAngleInRadians","PI","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","atan2","div","NaN","dot","acos","getQuadrant","getDirectedAngle","cross","getDistance","squared","normalize","rotate","center","subtract","matrix","_transformPoint","multiply","divide","modulo","isInside","Rectangle","isClose","isCollinear","isColinear","isOrthogonal","isInQuadrant","point1","point2","y1","y2","op","LinkedPoint","owner","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","selected","changeSelection","Size","hasHeight","size1","size2","LinkedSize","_width","_height","getWidth","setWidth","getHeight","setHeight","arg2","arg3","from","to","frm","next","rect","rt","getPoint","_dontLink","setPoint","getSize","setSize","_fixX","_fixY","_fixW","_fixH","getLeft","setLeft","left","getTop","setTop","top","getRight","setRight","right","getBottom","setBottom","bottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","setCenter","getArea","_containsRectangle","_containsPoint","intersects","touches","intersect","unite","expand","hor","ver","parts","xFirst","LinkedRectangle","internal","Matrix","ok","_a","_b","_c","_d","_tx","_ty","reset","tx","ty","_changed","getValues","_applyMatrix","mx","recursively","_setApplyMatrix","isIdentity","translate","shear","skew","toRadians","tan","a1","c1","d1","a2","b2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","det","inverted","concatenate","preConcatenate","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","bounds","j","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","rotation","scaling","skewing","getScaling","getRotation","applyToContext","prop","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","dy","u1","u2","epsilon","uMin","uMax","px","py","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","_selectionItems","_selectionCount","_updateVersion","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","children","getCurrentStyle","setCurrentStyle","style","getIndex","getOptions","getLayers","getActiveLayer","getSymbolDefinitions","ids","getItems","class","SymbolItem","definition","_definition","getSymbols","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","layer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","getItem","removeOn","sets","_removeSets","mousedrag","draw","pixelRatio","save","param","viewMatrix","matrices","updateMatrix","restore","strokeWidth","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","visible","blendMode","opacity","locked","guide","clipMask","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","fields","fontSize","Group","_defaults","symbol","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getPosition","getBounds","setPosition","getPivot","setPivot","getStrokeBounds","stroke","getHandleBounds","handle","getInternalBounds","hasMatrix","opts","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","cacheKey","cached","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","updateVersion","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","addChild","getChildren","setChildren","removeChildren","addChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","getResolution","topLeft","getTopLeft","bottomRight","getBottomRight","raster","Raster","canvas","setCanvas","_contains","_asPathItem","Path","getIntersections","hitTest","_hitTest","HitResult","hitTestAll","hitTestChildren","_exclude","child","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkBounds","pt","points","_hitTestSelf","hasFill","compare","matchObject","firstOnly","overlapping","inside","recursive","childMatrix","insertChildren","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","copyTo","namedArray","notifyParent","replaceWith","reverseChildren","isEditable","hasStroke","hasShadow","_getOrder","getList","list1","list2","hasChildren","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","_transformContent","fillColor","getFillColor","strokeColor","getStrokeColor","decomp","shearing","getter","_boundsGetter","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","fillStyle","toCanvasStyle","strokeStyle","lineWidth","getStrokeWidth","strokeJoin","getStrokeJoin","strokeCap","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","dashArray","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","shadowColor","getShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","globalMatrix","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","mainCtx","itemOffset","prevOffset","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","setTransform","_draw","dontFinish","process","_isUpdated","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","beginPath","arc","deltas","delta","moveTo","lineTo","closePath","fillRect","_clipItem","_getClipItem","isClipped","setClipped","clipped","Shape","radius","_type","_size","_radius","setType","setRadius","getType","getShape","setShape","getRadius","rad","toShape","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","bezierCurveTo","getFillRule","getCornerCenter","halfSize","corner","quadrant","isOnEllipseStroke","padding","vector","hitStroke","hitFill","strokeRadius","strokePadding","inner","createShape","Circle","Ellipse","ellipse","_readEllipse","crossOrigin","image","getElementById","setImage","setSource","_loaded","getSource","_image","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","getElement","getLoaded","u","getPpi","getImage","Event","DomEvent","load","error","naturalWidth","naturalHeight","_context","modify","setContext","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSubCanvas","getSubRaster","getAverageColor","PathItem","sampleSize","_sampleContext","clearRect","pixels","getImageData","channels","total","alpha","Color","getPixel","setPixel","components","_convert","_alpha","imageData","createImageData","putImageData","setImageData","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","setItem","_dontCenter","place","segments","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","_path","curves","_curves","curve","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getPath","getCurve","_segments","getCurves","getLocation","CurveLocation","_segment1","getNext","smooth","_first","_last","factor","getPrevious","p0","p1","p2","d1_a","d1_2a","d2_a","d2_2a","N","k","isLast","reversed","removeSegment","segment","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","location","divideAtTime","time","getTimeAt","_setHandles","tMin","tMax","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","io","o0","o1","o2","o3","isStraight","coord","v0","v3","getTimeOf","p3","geomEpsilon","getNearestTime","minDist","minT","refine","dist","flip","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","isHorizontal","getTangentAtTime","isVertical","getLocationAt","_isTime","getParameterAt","getOffsetAtTime","getLocationOf","getOffsetOf","loc","getOffset","getParameterOf","getNearestLocation","getNearestPoint","_evaluateMethods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","len","a3","d3","serpentine","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","locations","overlap","excludeStart","excludeEnd","loc1","getPointAtTime","loc2","_intersection","addCurveIntersections","recursion","calls","fatLineEpsilon","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","getConvexHull","tMinClip","tMaxClip","clipConvexHull","tMinNew","tMaxNew","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","getLoopIntersection","info","curves1","curves2","matrix1","matrix2","_returnFirst","length1","length2","values2","curve1","values1","path1","getSquaredLineLength","timeEpsilon","straightBoth","l1","l2","i1","i2","_overlap","_distance","_setCurve","_time","_next","_previous","_version","_curve","_segment","_setSegment","getSegment","_offset","_curveOffset","trySegment","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","curve2","isCrossing","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","getPointAt","v4","a4","hasOverlap","found","path2","expanded","compound","pathData","isClockwise","setClockwise","clockwise","setPathData","relative","control","getCoord","command","move","cubicCurveTo","quadraticCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","matched","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flattener","PathFlattener","PathFitter","fit","_default","loop","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","shape","pos1","pos2","end1","end2","start2","numSegments","cap","hitCurves","isCloseEnough","checkSegmentPoint","seg","anchor","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","drawHandles","pX","pY","drawHandle","hX","hY","drawSegments","drawSegment","dashLength","drawPart","getCurrentSegment","moveBy","curveTo","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","z","out","_in","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","prevCoords","processSegment","joinBounds","addPoint","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","normal","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","check","operators","preparePath","resolve","resolveCrossings","reorient","createResult","computeBoolean","operation","computeStrokeBoolean","_path1","_path2","operator","crossings","divideLocations","_overlapsOnly","propagateWinding","_winding","tracePaths","reorientPaths","addPath","linkIntersections","clearCurveHandles","lookup","container","sorted","entry1","getInteriorPoint","containerWinding","entry2","clearLater","results","clearCurves","clearLookup","renormalizeLocs","prevCurve","prevTime","origTime","newCurve","getWinding","dontFlip","ia","pv","pa","po","windingEpsilon","qualityEpsilon","paL","paR","quality","vPrev","vClose","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","windingZero","curveLength","SQRT1_2","wind","starts","isValid","_visited","isStart","visitPath","getCrossingSegments","collectStarts","nextInter","_prev","inter1","inter2","over1","over2","valid","finished","branches","branch","visited","shift","firstSegment","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","_get","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","C","X","b0","b3","detC0C1","alpha1","alpha2","detC0X","detXC1","c0","segLength","eps","degree","maxDist","P","TextItem","content","_content","_lines","setContent","getContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","PointText","lines","getLeading","getFontStyle","textAlign","getJustification","fillText","strokeText","numLines","justification","getTextWidth","gray","rgb","hsb","hsl","gradient","componentParsers","colorCache","colorCtx","fromCSS","hsbIndices","converters","g","h","achromatic","t3s","t3","parser","_components","Gradient","_removeOwner","_addOwner","_properties","argType","parsers","stops","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","col","isGradient","toCSS","hex","_stops","origin","destination","canvasGradient","_radial","highlight","createRadialGradient","createLinearGradient","addColorStop","_color","_types","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","fillRule","strokeScaling","shadowOffset","selectedColor","groupDefaults","fontFamily","fontWeight","textDefaults","_values","isColor","isPoint","old","_dontMerge","childValue","Font","WindingRule","isStyle","style1","style2","secondary","defaults2","value1","value2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","DomElement","handlePrefix","prefixes","suffix","getStyles","doc","ownerDocument","defaultView","getComputedStyle","viewport","body","html","documentElement","getBoundingClientRect","clientLeft","clientTop","pageXOffset","scrollLeft","pageYOffset","scrollTop","getViewportBounds","innerWidth","clientWidth","innerHeight","clientHeight","isInvisible","isInView","getPrefixed","setPrefixed","addEventListener","removeEventListener","pos","targetTouches","changedTouches","pageX","clientX","pageY","clientY","getTarget","srcElement","getRelatedTarget","relatedTarget","toElement","requestAnimationFrame","nativeRequest","requested","callbacks","timer","handleCallbacks","setInterval","getCanvasSize","setAttribute","_viewEvents","none","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","resize","setViewSize","Stats","_stats","stats","domElement","appendChild","_element","_pixelRatio","devicePixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","native","virtual","node","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","update","_handleFrame","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","parentNode","createElement","removeChild","getZoom","setZoom","zoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","dragging","mouseDown","handleMouseMove","_handleMouseEvent","mousedown","mousemove","mouseup","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","nodeName","scroll","called","prevented","fallbacks","doubleclick","wasInView","overView","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","emitMouseEvent","prevPoint","stopItem","stopped","mouseEvent","MouseEvent","fallback","emitMouseEvents","hitItem","itemEventsMap","click","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","mouse","substr","drag","preventDefault","_handleKeyEvent","character","keyEvent","KeyEvent","sign","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","stopPropagation","getTimeStamp","timeStamp","getModifiers","Key","modifiers","keyLookup","charLookup","keyMap","charMap","metaFixMap","downKey","alt","meta","capsLock","space","option","mac","getKey","keyIdentifier","fromCharCode","keyCode","keydown","altKey","metaKey","ctrlKey","keypress","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","Tool","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","distance","Http","request","xhr","XMLHttpRequest","open","url","async","mimeType","overrideMimeType","onload","status","responseText","onerror","send","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","screen","overlay","darken","lighten","exclusion","hue","saturation","luminosity","average","negation","mode","srcContext","dstContext","srcCanvas","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","href","attributes","createElementNS","namespace","getAttributeNS","setAttributeNS","SvgStyles","true","false","attribute","toSVG","fromSVG","exportFilter","getTransform","coordinates","attrs","trans","exportGroup","childNode","exportSVG","exportRaster","embedImages","exportPath","matchShapes","exportShape","exportCompoundPath","exportSymbolItem","definitionItem","viewBox","overflow","exportGradient","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportText","textContent","exporters","applyStyle","visibility","svgs","__id","typeId","exportDefinitions","defs","insertBefore","firstChild","XMLSerializer","serializeToString","exporter","onExport","setOptions","rootSize","getValue","allowNull","allowPercent","convertValue","importGroup","nodes","childNodes","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importPath","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","circle","applyTransform","applyOpacity","gradientTransform","setVisible","display","percent","styles","tagName","nextSibling","importer","onImport","expandShapes","importSVG","DOMParser","parseFromString","File","reader","FileReader","readAsText","Symbol","PlacedSymbol","ar","partitionBy","coll","previousValue","acc","newValue","partitionWhen","doTimes","ret","colls","elms","mapDeep","deepColl","flatColl","itemIdx","section","arr","juxt","fns","reductions","reducer","init","idx","isEven","isOdd","Constructor","isType","isChord","isChordSymbol","isClef","isDynamic","isLine","isMeasure","isNote","isRest","isScore","isSlur","isSystem","isTimeSignature","isVoice","isRepeat","isText","isMarking","isPitched","hasDuration","placement","lineUtils","noteUtils","chordUtils","getYpositionFunc","num","centerY","lineSpacing","drawLegerLines","noteHead","centerLine","getNoteHeadCenter","legerLines","yPositionFunc","yPos","leftCenter","Scored","config","rightCenter","barlineTypes","final","staves","xPos","firstLine","lastLine","barGroup","thickBar","thinBar","dots","drawRepeatDots","default","bar","drawBarline","barlineFn","drawLine","lineArray","lineNames","lastSegment","drawSystemBar","drawClef","margin","bass","drawBounds","drawTimeSig","beats","bot","drawHead","noteheadChar","drawDots","dotArr","layout","dot1","dot2","drawRepeat","linePosition","drawStaccato","staccato","drawTenuto","halfWidth","tenuto","drawAccidental","accidental","drawFlag","dur","stemDirection","flagName","flagOffsets","getFlagOffset","direction","drawRest","calculateBeamFulcrumAndVector","stemPoints","stemDirections","firstPoint","maxBeamAngle","minStemLength","stepSpacing","minStemPoints","defaultStemPoint","ys","minPoint","fulcrum","handleBeam","beam","duration","previousDuration","nextDuration","yDiff","lastBeam","BEAM_DIFF","p16","durationToBeams","numBeams","durations","stemLengths","getStemLength","beams","nextItem","calculateStemPoint","drawStem","getStemPoint","drawTuplets","voiceDirection","tuplet","numerator","fromX","toX","highestPoint","lowestPoint","leftPoint","rightPoint","numberPosition","leftDangle","leftBracket","rightDangle","rightBracket","drawDynamic","dynamicValue","dynamicText","drawChordSymbol","absoluteToRelativeDuration","parseSignature","signature","sig","nums","getMeasure","measureDuration","getBeat","beatTime","measures","beat","getMeasureNumber","lastMeasure","getMeasureDuration","startsAt","measureView","baseTime","beatType","getTimeNumber","measureEndsAt","getMeasureByTime","getTimeSigDuration","calculateTupletDuration","tupletDenominator","compareTimes","m1","m2","compareByPosition","compareByTime","time1","time2","splitByMeasure","sortByKey","splitByTime","calculateDuration","mul","sortedTimes","sumDurations","f4","f8","f16","f32","f64","f128","f256","durationTable","toFraction","freeze","noteValues","getSteps","n1","n2","note1","note2","octaveDiff","octave","noteDiff","centerLineValue","octaveHeight","steps","pitch","noteDistance","stemLength","yOffset","sumSteps","notes","getAverageStemDirection","averageDirection","arrayToString","parsePitch","nameAndAccidental","hasPitch","pitches","getPitches","timeUtils","noteNameToDegreeObj","clefBases","lineNamesObj","noteNameToDegree","getClefBase","getLineNames","calculateAccidentalYpos","calculateNoteYpos","clefBase","diffY","getNoteHeadOffset","getArticulationPoint","lineup","placeAt","cursor","xOffset","getYOffset","offsetFn","alignNoteHeads","commonShortestDuration","getStaffSpace","shortestDuration","accidentalTopOffsets","getAccidentalTop","getAccidentalBottom","calculateDefaultAccidentalPosition","calculateTimeLength","noteHeadWidth","markings","voiceItems","getMarkingWidth","marking","clefLength","keyLength","timeSigLength","markingsLength","voiceItemLengths","totalVoiceItemsLength","calculateCursor","leftBarline","barlines","placeMarking","lineCenter","scaleCursor","oldCursor","newCursor","lineGetter","lineGroup","positions","diffs","getLineItems","voices","voiceConfig","getTimeFrame","getTimeContexts","allItems","contextAt","calculateMeasureLengths","itemsInMeasure","measureLengths","durationed","durationedLength","positionMarkings","repeats","getCenterLineValue","TYPE","Clef","render","centerLineValues","intervals","unison","second","fourth","fifth","sixth","seventh","intervalFromFifth","intervalsIndex","fifths","A4","qualityLong","M","AA","dd","alterations","perfect","minor","symbols","chordShort","stepNumber","intervalSolfege","equal","getAccidental","affect","dropAccidental","parsedPitch","createAccidentalContext","diatonics1","diatonics2","diatonic","createAccidentalContexts","contexts","chords","chordNotes","getAccidentalContexts","engraver","Note","pitchClass","portato","renderAccidental","renderStem","accidentalGroup","renderDots","needsStem","getStemDirection","stemPoint","needsFlag","drawGroupBounds","stem","noteHeadCenterY","dotGroups","drawArticulations","stacato","legato","knowledge","toCoord","Interval","semitones","sub","qualityValue","is","simple","ignore","isCompound","octaves","qual","lng","interval","greater","semi","isemi","smaller","between","sInterval","item1","item2","equalType","equalItem","noteEquals","restEquals","clefEquals","dynamicEquals","UP","DOWN","Chord","inversion","parseChildren","renderAccidentals","startingXPos","accidentalGroups","renderOrder","translationDepth","neighbor","noteGroups","translationFn","xTranslation","translated","higher","rightMostNote","getBaseNote","firstSteps","lastSteps","midi","baseNote","calculateAverageMeasureLength","lineLength","renderLedgerLines","pitched","getMarking","getMarkingAtTime","markingsOfType","createMeasures","DEFAULTBAR","REPEATBAR","Measure","barType","previousBarlinePosition","rightBarline","barline","numMeasures","explicitMeasures","measureMarkings","cur","previousMeasure","System","lineHeights","indentation","renderTimeContexts","timeContexts","systemGroup","getLineHeights","timeContextGroups","timeContext","timeLengths","calculateTimeLengths","minLineLength","lineGroups","noteScale","cursorFn","renderLines","measureGroups","renderMeasures","possibleNextPositions","totalMarkingLength","measureScale","measureLength","lineCenters","cursors","placeTimes","startTime","endTime","lineItems","lineVoice","itemsByMeasure","beamings","findBeaming","getAllStemDirections","stemAndBeam","tupletGroups","renderTuplets","renderArticulations","measureNumber","renderMeasureNumber","timeLength","lineIndices","previousTime","currentTime","voiceIndex","defaultHeight","heights","lengths","groups","previousGroup","measureGroup","calculateAndSetTimes","previousItem","Voice","nextBeaming","groupingTime","splitIndex","denominator","groupingDurations","beatStructure","groupingTimes","groupingTimeIndex","beaming","remainingItems","groupTuplets","groupings","previousTuplet","grouping","longestDuration","currentTupletDuration","maxTupletDuration","tuplets","inclusive","timeFrame","comparison","iterator","iterate","done","breakDurations","timeIndex","getStaffItems","measureTimes","addDefaultMeasureLengths","defaultMeasureLengths","getTimeFromContext","nextTimes","ctxs","nextTime","nexts","iterateByTime","ChordSymbol","Dynamic","keyToPitches","flatSteps","sharpSteps","SHARP","FLAT","nameToSignature","clefValue","clefToPosition","yTranslate","Rest","scoreToMeasures","createLineTimeContext","partitionBySystem","Score","pageWidth","pageHeight","title","systems","pages","parseTitle","chordSymbols","scoreGroup","systemsToRender","startMeasures","startTimes","voiceTimeFrames","isVoiceUsed","slurs","groupSlurs","slurStartTime","slurred","slurEndTime","systemBreak","isEnd","of","systemTimeContexts","createTimeContexts","systemContext","firstTime","startContext","getStartContext","systemTimeContext","systemOffset","titleGroup","xTranslate","systemGroups","endMeasure","systemMeasures","systemTranslation","staffSpacing","slurGroups","linesVoice","lineTimes","sym","symbolTime","contextTime","systemIdx","shouldPartition","getLineByVoice","beatStructures","TimeSignature","accidentalValues","accidentalNumber","accidentalInterval","MAX_CYCLE_LEN","throwInvalidParam","LN10","modpow","cycleLen","rem","cycleStart","rem1","rem2","gcd","Fraction","places","excludeWhole","zeros","cycLen","cycOff","Scale","intervalConstructor","noteConstructor","fromString","fromKey","fromFrequency","fromMIDI","chordConstructor","scaleConstructor","tonic","teoria","scientific","helmholtz","ch","accidentalValue","white","fq","concertPitch","chroma","transpose","padchar","padcount","enharmonics","oneaccidental","limit","solfege","showOctaves","scaleDegree","durationName","durationInSeconds","bpm","beatUnit","secs","dont","cents","originalFq","getOverlappingNotes","getAccidentalOrdering","ordering","getLinePoint","parseLayout","typeToConstructor","timeSignatures","convertTimeSig","makeLine","makePages","makeSystems","modeAcc","convertKey","Page","REGULAR","INVERSE","Repeat","Text","music","cb","fontLoader","custom","families","active","innerHTML","getElementsByClassName","scored","musicToScoredObjects","SYMBOLS","parsing","additionals","chordLength","explicitMajor","setChord","sub3","sub2","token","intPos","accval","octaveFirst","octaveLast","pAlts","mAlts","baseIntervals","alts","format","noteName","daccord","_voicing","bassInterval","voicing","resetVoicing","dominant","additional","subdominant","parallel","chordType","scales","aeolian","blues","chromatic","dorian","doubleharmonic","harmonicminor","ionian","locrian","lydian","majorpentatonic","melodicminor","minorpentatonic","mixolydian","phrygian","harmonicchromatic","major","flamenco","scaleName","composition","timeSignature","Config","FONT_SIZE","FONT_FAMILY","defaultConfig","minWidth","fontSizeToNoteHeadWidth","fontSizeToNoteHeadHeight","fontSizeToNoteHeadYOffset","lineDistance","configuration","processConfig","fontSizeToLineSpacing","BREAK","dur1","dur2","pIterable","nIterable","pFrame","nFrame","pTime","getFrameTime","nTime","frame","currentNum","nextNum","Slur","firstItem","lastItem","getSlurPoint","getSlurHandle","firstStem","s1Begin","s1End","s1Handle","slur1","lastStem","s2End","s2Begin","s2Handle","slur2","incoming","bottomCenter","yVec","TimeContext","itemGroups","renderTime","pitchedItems","dynamics","rootY","widestItem","placeY","alignToNoteHead","minCursor","symbolCursor","symbolGroups","symbolGroup","markingCursor","durationedCursor","renderItem","renderNote","renderChord","RENDERALL","voiceDiff","diffAllVoices","heightsDiff","systemHeights","stave","startContexts","previousVoices","nextVoices","createVoiceScoredObjects"],"mappings":"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B,GAAiC,UAAUpF,OAAV,EAAmB;AACnD,QACO,KAAKrmB,IAAL,KAAcqmB,QAAQrmB,IAAtB,IACN,KAAK/J,KAAL,KAAeowB,QAAQpwB,KADjB,IAEA,KAAK+vB,OAAL,KAAiBK,QAAQL,OAFzB,IAGA,qBAAQ,KAAKihF,aAAb,EAA4B5gF,QAAQ4gF,aAApC,CAJP;AAMA,CAPD;;kBASe6F,a;;;;;;ACvDf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD,IAAI;AACJ;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD,cAAc;;AAEnE;AACA;;;;;;;;sDC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C;AAC3C;AACA,2DAA2D;;AAE3D;AACA,mDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,0BAA0B,MAAM,aAAa,OAAO;;AAEpD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,eAAe;AACf,eAAe;AACf;;AAEA;AACA;AACA,UAAU;AACV,SAAS;AACT,SAAS;AACT,WAAW;AACX,UAAU;AACV,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,EAAE;AACf,aAAa,EAAE;AACf,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,EAAE;AACf,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,EAAE;AACf,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,UAAU;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,EAAE;AACf,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,MAAM;AACN;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;;AAEA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,kBAAkB;AACjC,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,OAAO,WAAW;AACjC,iBAAiB,OAAO;AACxB;AACA;AACA,4BAA4B;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,oCAAoC,6BAA6B,EAAE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,iBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,iBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,6BAA6B;AAC5C,eAAe,UAAU;AACzB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA,0DAA0D,2BAA2B,EAAE;;AAEvF;AACA,+DAA+D,wBAAwB,EAAE;AACzF,gBAAgB;AAChB,OAAO;;AAEP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C,wCAAwC;AACxC,+DAA+D;AAC/D,iEAAiE;AACjE;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA;AACA,wCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,eAAe;AAC9B;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,eAAe;AAC9B;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,qBAAqB;AACpC;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU,yCAAyC;AACtE;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,uBAAuB,UAAU,GAAG,UAAU,IAAI,UAAU;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA;AACA,wCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,oCAAoC;AAC9C,UAAU;AACV;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,eAAe,uBAAuB;AACtC,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,gBAAgB,SAAS,GAAG,SAAS,GAAG,SAAS;AACjD,eAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,+BAA+B;AACzC,UAAU,+BAA+B;AACzC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,4DAA4D;AAC9F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,qCAAqC;AACpD;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU;AACV;AACA;AACA;AACA,uBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU,8CAA8C;AACxD,UAAU;AACV;AACA;AACA;AACA,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,UAAU,+CAA+C;AACzD,UAAU,gDAAgD;AAC1D,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,+BAA+B,2BAA2B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,UAAU,8CAA8C;AACxD,UAAU;AACV;AACA;AACA,oCAAoC,4BAA4B;AAChE;AACA;AACA,oCAAoC,6BAA6B;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,4BAA4B;AACtC,UAAU;AACV;AACA;AACA;AACA,cAAc,UAAU,4BAA4B,YAAY,8BAA8B;AAC9F;AACA;AACA;AACA,QAAQ;AACR,cAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA;AACA,QAAQ;AACR,cAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,sBAAsB;AACrC;AACA,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA,UAAU,mBAAmB;AAC7B,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU,gDAAgD;AAC1D,UAAU,+CAA+C;AACzD,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,4BAA4B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,cAAc,iBAAiB,EAAE;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,aAAa;AAC5B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA,QAAQ,IAAI;AACZ,cAAc,iBAAiB;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU,+CAA+C;AACzD,UAAU;AACV;AACA;AACA;AACA,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,mCAAmC;AAC7C,UAAU;AACV;AACA;AACA;AACA,sBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B,UAAU,oBAAoB;AAC9B,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,yDAAyD;AACxE;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,6BAA6B;AAC5C,eAAe,UAAU;AACzB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,kEAAkE;AAC5E,UAAU;AACV;AACA;AACA,+BAA+B,6BAA6B;AAC5D;AACA;AACA,+BAA+B,mBAAmB;AAClD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oBAAoB,iCAAiC;AACrD,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kCAAkC;AAChE;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,qBAAqB;AACpC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,mCAAmC,6DAA6D;AAChG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,UAAU,mBAAmB;AAC7B,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,UAAU,mBAAmB;AAC7B,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,iCAAiC,kBAAkB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,0BAA0B,YAAY;AACtC;AACA;AACA,0BAA0B,YAAY;AACtC;AACA;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B,cAAc;AACd;AACA,iBAAiB,SAAS;AAC1B,cAAc;AACd;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,mBAAmB,mBAAmB,GAAG,iBAAiB;AAC1D;AACA;AACA;AACA,mBAAmB,YAAY,GAAG,YAAY;AAC9C;AACA;AACA;AACA,cAAc,WAAW,8BAA8B,GAAG,4BAA4B;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA,iBAAiB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACvE,cAAc;AACd;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,iBAAiB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACvE,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA,mBAAmB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACzE,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA,uBAAuB,UAAU,mBAAmB,EAAE,GAAG,UAAU,4BAA4B,EAAE;AACjG,cAAc,UAAU,8BAA8B;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,qBAAqB,6BAA6B;AAClD,qBAAqB;AACrB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,qBAAqB,6BAA6B;AAClD,qBAAqB;AACrB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,6BAA6B,4BAA4B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB,OAAO,OAAO,SAAS,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA,QAAQ;AACR,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,uBAAuB;AACtC;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA,qBAAqB,+BAA+B;AACpD,qBAAqB;AACrB;AACA;AACA;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,8BAA8B;AAC7C;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,8BAA8B;AAC7C;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB,QAAQ,OAAO,+BAA+B,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC,qBAAqB,UAAU;AAC/B;AACA;AACA,sEAAsE,2BAA2B,EAAE;AACnG,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,4DAA4D;AAC5D,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,0CAA0C,OAAO;AACjD,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,2CAA2C,YAAY;AACvD,0CAA0C,QAAQ;AAClD,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA,qDAAqD,2BAA2B,EAAE;AAClF,wCAAwC,aAAa,eAAe,EAAE;AACtE,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,wDAAwD,qCAAqC;AAC7F;AACA;AACA;AACA;AACA,0DAA0D,qBAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;;AAExC,4CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA,4CAA4C;;AAE5C;AACA,uDAAuD;AACvD;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,+BAA+B,iCAAiC;AAChE,cAAc;AACd;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC,aAAa,QAAQ,QAAQ,UAAU,SAAS,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,8CAA8C;AACxD,UAAU;AACV;AACA;AACA,kCAAkC,6BAA6B;AAC/D,eAAe,6CAA6C;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,mBAAmB;AAC7B,UAAU;AACV;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,OAAO,OAAO,qBAAqB,EAAE,EAAE;AACjD,UAAU,OAAO,OAAO,qBAAqB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB,GAAG,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA8B,qDAAqD;AACnF;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,OAAO,OAAO,SAAS,EAAE,EAAE;AACrC,UAAU,OAAO,OAAO,SAAS,EAAE;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,uBAAuB;AACtC,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA,UAAU,SAAS;AACnB,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,iCAAiC,sEAAsE;AACvG;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,8DAA8D;AACjG;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,4DAA4D;AAClF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,yCAAyC;AAC7D;AACA,KAAK;;AAEL,sEAAsE,uCAAuC;;AAE7G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AAAA;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;AC9jYD,I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A6D,iCAApD,EAAoD;AAAA,+BAAhDshC,UAAgD;AAAA,QAAhDA,UAAgD,mCAArC,eAAqC;AAAA,8BAApBp3B,SAAoB;AAAA,QAApBA,SAAoB,kCAAV,OAAU;;AAC3F,SAAKnhD,KAAL,GAAaA,KAAb;AACA,SAAKi3C,QAAL,GAAgBA,QAAhB;AACA,SAAKshC,UAAL,GAAkBA,UAAlB;AACA,SAAKp3B,SAAL,GAAiBA,SAAjB;AACH,CALD;;AAOAm6D,KAAK/2G,SAAL,CAAewF,IAAf,GAAsB,oBAAUA,IAAV,CAAewmB,IAArC;;AAEA+qF,KAAK/2G,SAAL,CAAeghG,MAAf,GAAwB,YAAY;AAChC,WAAO,IAAI,oBAAMruD,KAAV,CAAgB;AACnBr7B,cAAM,oBAAU9R,IAAV,CAAewmB,IADF;AAEnByhB,kBAAU,CAAC,IAAI,oBAAMshC,SAAV,CAAoB;AAC3BT,qBAAS,KAAK7yE,KADa;AAE3Bu4E,wBAAY,KAAKA,UAFU;AAG3BthC,sBAAU,KAAKA,QAHY;AAI3BkK,uBAAW,KAAKA;AAJW,SAApB,CAAD;AAFS,KAAhB,CAAP;AASH,CAVD;;kBAYem6D,I;;;;;;ACxBf;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACnLtC;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAWA;;;;;;;;;;AC9FA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,IAAMC,QAAQ,0CAAd;;AAEA,SAASlyG,KAAT,CAAgBmyG,EAAhB,EAAoB;AAChB,QAAIC,aAAa,wBAAQlxD,IAAR,CAAa;AAC1BmxD,gBAAQ;AACJC,sBAAU,CAAC,UAAD,EAAa,eAAb;AADN,SADkB;AAI1BC,gBAAQJ;AAJkB,KAAb,CAAjB;AAMH;;AAED,SAASn+E,YAAT,CAAuBO,EAAvB,EAA2B;AACvBA,OAAGi+E,SAAH,GAAe,kDAAf;;AAEA,WAAO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CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC5vDA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;ACJA;AACA;;;AAGA;AACA,qCAAsC,4BAA4B,iEAA8E,GAAG,gBAAgB,iCAAiC,iEAAgF,GAAG,OAAO,4BAA4B,mBAAmB,GAAG;;AAEhV;;;;;;;ACPA;AACA;AACA;AACA;;AAEA;AACA,uCAAwC,2BAA2B,GAAG,aAAa,2BAA2B,GAAG,kBAAkB,iBAAiB,GAAG,mBAAmB,kBAAkB,GAAG,+BAA+B,sBAAsB,gCAAgC,gBAAgB,gBAAgB,+BAA+B,GAAG,qBAAqB,eAAe,oBAAoB,KAAK,oBAAoB,kBAAkB,GAAG,uBAAuB,gBAAgB,gBAAgB,GAAG,0BAA0B,yBAAyB,iBAAiB,aAAa,eAAe,iBAAiB,GAAG,2BAA2B,yBAAyB,iBAAiB,kBAAkB,eAAe,GAAG,UAAU,uBAAuB,GAAG,UAAU,uBAAuB,GAAG,UAAU,sBAAsB,GAAG,UAAU,sBAAsB,GAAG;;AAEj2B;;;;;;;ACRA;AACA;;;AAGA;AACA,sPAAuP,iBAAiB,gBAAgB,GAAG,wBAAwB,gBAAgB,iBAAiB,GAAG,YAAY,uBAAuB,iBAAiB,mBAAmB,2BAA2B,cAAc,gBAAgB,GAAG,gBAAgB,uBAAuB,kBAAkB,mBAAmB,2BAA2B,cAAc,eAAe,GAAG,qBAAqB,kBAAkB,GAAG,wBAAwB,mBAAmB,gBAAgB,iBAAiB,GAAG;;AAE1tB;;;;;;;ACPA,gF;;;;;;ACAA,gF;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,QAAQ,WAAW;;AAEnB;AACA;AACA,QAAQ,UAAU;;AAElB;AACA;;;;;;;sDCnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C;AAC3C;AACA,2DAA2D;;AAE3D;AACA,+CAA+C;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB,yBAAyB;AACzB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,MAAM,aAAa,OAAO;;AAEpD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,EAAE;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2CAA2C,GAAG;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,eAAe;AACf;;AAEA;AACA;AACA,UAAU;AACV,SAAS;AACT,SAAS;AACT,WAAW;AACX,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,aAAa,MAAM;AACnB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,SAAS;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,aAAa,QAAQ;AACrB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,aAAa,QAAQ;AACrB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,EAAE;AACf,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,aAAa,QAAQ;AACrB;AACA,aAAa,SAAS;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe,EAAE;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA,oCAAoC,6BAA6B,EAAE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,EAAE;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,6BAA6B;AAC5C,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB,OAAO;;AAEP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,mBAAmB;AAClC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,gBAAgB,QAAQ;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,gBAAgB,QAAQ;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,OAAO,WAAW;AACjC,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,WAAW;AACjC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,WAAW;AACjC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,+CAA+C;AACpF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,oEAAoE;AACpE;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C,wCAAwC;AACxC,+DAA+D;AAC/D,iEAAiE;AACjE;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS,GAAG,SAAS,KAAK,SAAS;AAC3D,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB;AAC5D;AACA,mCAAmC,iBAAiB;AACpD,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,4CAA4C,kBAAkB,EAAE;AAChE;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,uCAAuC,kBAAkB,EAAE;AAC3D;AACA;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,uCAAuC,2BAA2B,EAAE;AACpE;AACA;AACA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,2CAA2C,4BAA4B,EAAE;AACzE;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,SAAS,KAAK,SAAS,GAAG,SAAS;AAC7D,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB;AAC5D,sBAAsB,iBAAiB,GAAG,iBAAiB;AAC3D;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,qBAAqB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AAClE;AACA,4BAA4B,SAAS,GAAG,SAAS;AACjD;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,qBAAqB,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB;AAC9E;AACA,8BAA8B,iBAAiB;AAC/C;AACA,eAAe,iBAAiB,GAAG,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,qBAAqB;AACpC,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA,iCAAiC,SAAS,eAAe,YAAY,EAAE;AACvE;AACA;AACA;AACA,iCAAiC,SAAS;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA,qCAAqC,SAAS,eAAe,YAAY,EAAE;AAC3E;AACA;AACA;AACA,qCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,4CAA4C,kBAAkB,EAAE;AAChE;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,uCAAuC,kBAAkB,EAAE;AAC3D;AACA;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS,KAAK,SAAS,GAAG,SAAS;AACtD,eAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB;AAC5D,sBAAsB,iBAAiB,GAAG,iBAAiB;AAC3D;AACA;AACA,eAAe,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB;AACxE;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS,GAAG,SAAS,GAAG,SAAS;AACnD,eAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB;AAChF;AACA;AACA,eAAe,iBAAiB,GAAG,iBAAiB;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,KAAK,SAAS,GAAG,SAAS;AACpD,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB;AAC5D,sBAAsB,iBAAiB,GAAG,iBAAiB;AAC3D;AACA;AACA,eAAe,iBAAiB,GAAG,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc,OAAO,QAAQ,SAAS,GAAG,SAAS,GAAG;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,+BAA+B;AACzC,UAAU,+BAA+B;AACzC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,8BAA8B;;AAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,+CAA+C;AACzD,UAAU;AACV;AACA;AACA;AACA,uBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,UAAU,8CAA8C;AACxD,UAAU;AACV;AACA;AACA,oCAAoC,kBAAkB,EAAE;AACxD;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,UAAU,+CAA+C;AACzD,UAAU,gDAAgD;AAC1D,UAAU;AACV;AACA;AACA,kCAAkC,mBAAmB,EAAE;AACvD;AACA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,sBAAsB;AACrC;AACA,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,4BAA4B;AACtC,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR,cAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA,cAAc,UAAU,4BAA4B,YAAY,8BAA8B;AAC9F;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA,UAAU,mBAAmB;AAC7B,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,qCAAqC;AACpD;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,gDAAgD;AAC1D,UAAU,+CAA+C;AACzD,UAAU;AACV;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,cAAc,iBAAiB,EAAE;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA,QAAQ,IAAI;AACZ,cAAc,8BAA8B;AAC5C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,UAAU,+CAA+C;AACzD,UAAU;AACV;AACA;AACA,oCAAoC,kBAAkB,EAAE;AACxD;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,mCAAmC;AAC7C,UAAU;AACV;AACA;AACA;AACA,sBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,yBAAyB;AACxC;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA,qCAAqC,eAAe,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oBAAoB,iCAAiC;AACrD,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,QAAQ;AACvB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,kDAAkD,kBAAkB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,qBAAqB;AACpC,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,QAAQ;AACvB;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,oBAAoB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,6BAA6B,mBAAmB,cAAc,EAAE,EAAE;AAClE;AACA;AACA,6BAA6B,mBAAmB,cAAc,EAAE,EAAE;AAClE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,iCAAiC,kBAAkB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA,kDAAkD,kBAAkB,EAAE;AACtE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,0BAA0B,SAAS;AACnC;AACA;AACA,0BAA0B,SAAS;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B,cAAc;AACd;AACA,iBAAiB,SAAS;AAC1B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,GAAG,SAAS,GAAG,SAAS;AAClD,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,GAAG,SAAS,GAAG,SAAS;AAClD,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC,iBAAiB,MAAM;AACvB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,mBAAmB,SAAS,GAAG,SAAS,GAAG,SAAS;AACpD,cAAc;AACd;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,uBAAuB,OAAO,SAAS,EAAE,GAAG,OAAO,iBAAiB,EAAE;AACtE,cAAc,OAAO,iBAAiB;AACtC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,qBAAqB,6BAA6B;AAClD,qBAAqB;AACrB;AACA;AACA,qCAAqC,mBAAmB,EAAE;AAC1D;AACA;AACA;AACA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,qBAAqB,6BAA6B;AAClD,qBAAqB;AACrB;AACA;AACA,yCAAyC,mBAAmB,EAAE;AAC9D;AACA;AACA;AACA,6BAA6B,4BAA4B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB,OAAO,SAAS;AACrC,6BAA6B,gBAAgB,SAAS,GAAG;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA,8BAA8B,gBAAgB,SAAS,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,KAAK;AACpB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB,QAAQ,OAAO,oBAAoB,EAAE;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,qBAAqB,+BAA+B;AACpD,qBAAqB;AACrB;AACA;AACA,uCAAuC,cAAc,EAAE;AACvD,cAAc,2BAA2B;AACzC;AACA;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,gBAAgB,SAAS,GAAG,SAAS;AACrC;AACA;AACA;AACA,gBAAgB,SAAS,GAAG,SAAS;AACrC;AACA;AACA;AACA,cAAc,QAAQ,iBAAiB,GAAG,iBAAiB;AAC3D;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA,gCAAgC;AAChC,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB,QAAQ,OAAO,+BAA+B,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO,WAAW;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA,QAAQ,IAAI;AACZ,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA,cAAc,QAAQ,QAAQ,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ,QAAQ,EAAE;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA,iDAAiD,cAAc,EAAE;AACjE;AACA;AACA;AACA,iDAAiD,sBAAsB,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO,WAAW;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,KAAK;AACvC;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,eAAe,gBAAgB;AAC/B,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC,qBAAqB,UAAU;AAC/B;AACA;AACA,sEAAsE,2BAA2B,EAAE;AACnG,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,4DAA4D;AAC5D,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA,qDAAqD,2BAA2B,EAAE;AAClF,wCAAwC,aAAa,eAAe,EAAE;AACtE,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,wDAAwD,qCAAqC;AAC7F;AACA;AACA;AACA;AACA,0DAA0D,qBAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,YAAY;AACvD,0CAA0C,QAAQ;AAClD,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA,4CAA4C;;AAE5C;AACA,uDAAuD;AACvD;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,+BAA+B,iCAAiC;AAChE,cAAc;AACd;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC,aAAa,QAAQ,QAAQ,UAAU,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B,UAAU;AACV;AACA;AACA,qCAAqC,mBAAmB,cAAc,EAAE,EAAE;AAC1E,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA,eAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,8CAA8C;AACxD,UAAU;AACV;AACA;AACA;AACA,mCAAmC,mCAAmC;AACtE,eAAe,8CAA8C;AAC7D;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,yBAAyB;AACnC,UAAU;AACV;AACA;AACA,oCAAoC,iBAAiB;AACrD,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,yBAAyB;AACnC,UAAU;AACV;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,OAAO,qBAAqB,EAAE;AACxC,UAAU,OAAO,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,QAAQ;AACvB,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB,GAAG,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,qDAAqD;AACjF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,OAAO,SAAS,EAAE;AAC5B,UAAU,OAAO,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA,qCAAqC,YAAY,EAAE;AACnD,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AACpE;AACA,sCAAsC,YAAY,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA,qCAAqC,YAAY,EAAE;AACnD,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AACpE;AACA,qCAAqC,YAAY,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK,MAAM,iBAAiB;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,4DAA4D;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,yCAAyC;AAC7D;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AAAA;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;AC3rhBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,IAAI;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,8BAA8B;AAClE;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sBAAsB;AACrD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;;;;;;;AC/NA,mBAAmB,od;;;;;;ACAnB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA,kBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,gCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oDAAoD,IAAI;AACxD;AACA;AACA,oBAAoB;AACpB,SAAS;AACT,oBAAoB;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iCAAiC;AACjC,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL,qDAAqD;AACrD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB,qLAAqL,IAAI;AAClN,aAAa,WAAW;AACxB,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,CAAC;;;AAGD;AACA;AACA;AACA,6BAA6B,0CAA0C;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC90BA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,mBAAmB;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA,eAAe;;AAEf;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B;AAC7B;AACA;AACA,WAAW,yBAAyB;AACpC;AACA;;AAEA,mCAAmC;AACnC;AACA,WAAW,6CAA6C;;AAExD,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,iDAAiD;AAC5D;AACA;AACA;AACA,WAAW,iDAAiD;AAC5D;AACA;AACA;AACA;AACA;;AAEA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,OAAO;;AAE1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,UAAU;AACV;;AAEA,UAAU;AACV;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,WAAW;AAC9B;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,mBAAmB,SAAS,OAAO;AACnC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,8BAA8B;AAC9B,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,yBAAyB,WAAW;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,yBAAyB,WAAW;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,EAAE;;AAEV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4EAA4E;AAC5E,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,qDAAqD,GAAG,EAAE;AAC1D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA,iBAAiB;AACjB;AACA,gBAAgB;AAChB;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC;AAClC,gBAAgB;;AAEhB,gDAAgD;AAChD,qBAAqB;;AAErB,kCAAkC;AAClC,4CAA4C;;AAE5C;AACA,gBAAgB;;AAEhB;AACA,mDAAmD;;AAEnD,qBAAqB,YAAY;;AAEjC;AACA;AACA,SAAS;AACT;AACA,cAAc;AACd;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA;AACA,SAAS,kBAAkB;AAC3B;AACA,SAAS,mBAAmB;AAC5B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AAAA;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA,CAAC;;;;;;;;AC1wBD;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC,uDAAuD,6BAA6B;AACpF;AACA;;AAEA;AACA,2BAA2B,SAAS,YAAY;AAChD;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACvBA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA,2BAA2B,SAAS,WAAW;AAC/C;;AAEA;;;;;;;;ACjBA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;;AAEA;AACA,2BAA2B,SAAS,WAAW;AAC/C;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;ACrBe;AACc;AACf;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,mBAAmB;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;;AAEA,6BAA6B;;AAE7B;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC;AACvC;AACA;AACA,qBAAqB,yBAAyB;AAC9C;AACA;;AAEA,6CAA6C;AAC7C;AACA,qBAAqB,6CAA6C;;AAElE,2CAA2C;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,iDAAiD;AACtE;AACA;AACA;AACA,qBAAqB,iDAAiD;AACtE;AACA;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,OAAO;;AAE9B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,cAAc,a;AACd;;AAEA,cAAc,a;AACd;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,WAAW;AAClC;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uBAAuB,SAAS,OAAO;AACvC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,QAAQ;AACvB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,oCAAoC;AACpC,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA,6BAA6B,WAAW;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,6BAA6B,WAAW;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,EAAE;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kFAAkF;AAClF,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,yDAAyD,GAAG,EAAE;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb,sE;AACA,gC;AACA,2B;AACA;;AAEA,8BAA8B;AAC9B;AACA,yBAAyB;AACzB;AACA,wBAAwB;AACxB;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC,sBAAsB;;AAEtB,sDAAsD;AACtD,2BAA2B;;AAE3B,wCAAwC;AACxC,kDAAkD;;AAElD;AACA,sBAAsB;;AAEtB;AACA,yDAAyD;;AAEzD,2BAA2B,YAAY;;AAEvC;AACA;AACA,iBAAiB;AACjB;AACA,wBAAwB;AACxB;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA,mDAAmD;AACnD;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AAAA;AACT,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA,CAAC;;;;;;;;;;;;;;;;;;ACntBD;AAAA;AACA;AACoB;;AAEpB,eAAe;AACf,iBAAiB;AACjB,eAAe;AACf,kBAAkB;AAClB,oBAAoB;;AAEpB;AACA,sBAAsB;AACtB;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;;AAWA;;;;;;;;;;;AC5CA;AAAA;AACA;;AAEA;AACA,gBAAgB,OAAO;AACvB,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA,yBAAyB,mCAAmC;AAC5D;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B,WAAW;AACX;;AAEA;AACA;;AAEA;AACA,QAAQ,KAAK,UAAU,KAAK;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,iEAAoB;AACpB,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iEAAoB;AACpB,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iEAAoB;AACpB,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAoBA;;;;;;;;;;;;;;;AC9MA;AAAA;;AAEA;AACA;AACA;AACA;;AAEQ;;AAER;AACA,sBAAsB;AACtB;;;;;;;;;;;ACXA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,gBAAgB,UAAU;AAC1B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,KAAK;AACL;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AC1FA,e;;;;;;ACAA,e","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 94);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 613d5e6646f841087ce4","/**\n * @license\n * lodash 3.10.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.10.1';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns)\n   * and those outlined by [`EscapeRegExpPattern`](http://ecma-international.org/ecma-262/6.0/#sec-escaperegexppattern).\n   */\n  var reRegExpChars = /^[:!,]|[\\\\^$.*+?()[\\]{}|\\/]|(^[0-9a-fA-Fnrtuvx])|([\\n\\r\\u2028\\u2029])/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](http://ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'isFinite',\n    'parseFloat', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled regexes. */\n  var regexpEscapes = {\n    '0': 'x30', '1': 'x31', '2': 'x32', '3': 'x33', '4': 'x34',\n    '5': 'x35', '6': 'x36', '7': 'x37', '8': 'x38', '9': 'x39',\n    'A': 'x41', 'B': 'x42', 'C': 'x43', 'D': 'x44', 'E': 'x45', 'F': 'x46',\n    'a': 'x61', 'b': 'x62', 'c': 'x63', 'd': 'x64', 'e': 'x65', 'f': 'x66',\n    'n': 'x6e', 'r': 'x72', 't': 'x74', 'u': 'x75', 'v': 'x76', 'x': 'x78'\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it's the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsNull = value === null,\n          valIsUndef = value === undefined,\n          valIsReflexive = value === value;\n\n      var othIsNull = other === null,\n          othIsUndef = other === undefined,\n          othIsReflexive = other === other;\n\n      if ((value > other && !othIsNull) || !valIsReflexive ||\n          (valIsNull && !othIsUndef && othIsReflexive) ||\n          (valIsUndef && othIsReflexive)) {\n        return 1;\n      }\n      if ((value < other && !valIsNull) || !othIsReflexive ||\n          (othIsNull && !valIsUndef && valIsReflexive) ||\n          (othIsUndef && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it's not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of a value to another\n   * and stable sort them.\n   *\n   * If `orders` is unspecified, all valuess are sorted in ascending order. Otherwise,\n   * a value is sorted in ascending order if its corresponding order is \"asc\", and\n   * descending if \"desc\".\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        var order = orders[index];\n        return result * ((order === 'asc' || order === true) ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.escapeRegExp` to escape characters for inclusion in compiled regexes.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @param {string} leadingChar The capture group for a leading character.\n   * @param {string} whitespaceChar The capture group for a whitespace character.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeRegExpChar(chr, leadingChar, whitespaceChar) {\n    if (leadingChar) {\n      chr = regexpEscapes[chr];\n    } else if (whitespaceChar) {\n      chr = stringEscapes[chr];\n    }\n    return '\\\\' + chr;\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = context.ArrayBuffer,\n        clearTimeout = context.clearTimeout,\n        parseFloat = context.parseFloat,\n        pow = Math.pow,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = getNative(context, 'Set'),\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = context.Uint8Array,\n        WeakMap = getNative(context, 'WeakMap');\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeCreate = getNative(Object, 'create'),\n        nativeFloor = Math.floor,\n        nativeIsArray = getNative(Array, 'isArray'),\n        nativeIsFinite = context.isFinite,\n        nativeKeys = getNative(Object, 'keys'),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = getNative(Date, 'now'),\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = 4294967295,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /**\n     * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = 9007199254740991;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that retrieve a single value or may return a\n     * primitive value will automatically end the chain returning the unwrapped\n     * value. Explicit chaining may be enabled using `_.chain`. The execution of\n     * chained methods is lazy, that is, execution is deferred until `_#value`\n     * is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization strategy which merge iteratee calls; this can help\n     * to avoid the creation of intermediate data structures and greatly reduce the\n     * number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defaultsDeep`,\n     * `defer`, `delay`, `difference`, `drop`, `dropRight`, `dropRightWhile`,\n     * `dropWhile`, `fill`, `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`,\n     * `matchesProperty`, `memoize`, `merge`, `method`, `methodOf`, `mixin`,\n     * `modArgs`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `restParam`,\n     * `reverse`, `set`, `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`,\n     * `sortByOrder`, `splice`, `spread`, `take`, `takeRight`, `takeRightWhile`,\n     * `takeWhile`, `tap`, `throttle`, `thru`, `times`, `toArray`, `toPlainObject`,\n     * `transform`, `union`, `uniq`, `unshift`, `unzip`, `unzipWith`, `values`,\n     * `valuesIn`, `where`, `without`, `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clone`, `cloneDeep`,\n     * `deburr`, `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`,\n     * `floor`, `get`, `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`,\n     * `inRange`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isError`, `isFinite` `isFunction`, `isMatch`,\n     * `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`, `isPlainObject`,\n     * `isRegExp`, `isString`, `isUndefined`, `isTypedArray`, `join`, `kebabCase`,\n     * `last`, `lastIndexOf`, `lt`, `lte`, `max`, `min`, `noConflict`, `noop`,\n     * `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `repeat`, `result`, `round`, `runInContext`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`,\n     * `startsWith`, `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`,\n     * `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = arrayCopy(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = arrayCopy(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = arrayCopy(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || arrLength < LARGE_ARRAY_SIZE || (arrLength == length && takeCount == length)) {\n        return baseWrapperValue((isRight && isArr) ? array.reverse() : array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a new array joining `array` with `other`.\n     *\n     * @private\n     * @param {Array} array The array to join.\n     * @param {Array} other The other array to join.\n     * @returns {Array} Returns the new concatenated array.\n     */\n    function arrayConcat(array, other) {\n      var index = -1,\n          length = array.length,\n          othIndex = -1,\n          othLength = other.length,\n          result = Array(length + othLength);\n\n      while (++index < length) {\n        result[index] = array[index];\n      }\n      while (++othIndex < othLength) {\n        result[index++] = other[othIndex];\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\n     * with one argument: (value).\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function arrayExtremum(array, iteratee, comparator, exValue) {\n      var index = -1,\n          length = array.length,\n          computed = exValue,\n          result = computed;\n\n      while (++index < length) {\n        var value = array[index],\n            current = +iteratee(value);\n\n        if (comparator(current, computed)) {\n          computed = current;\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * Appends the elements of `values` to `array`.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to append.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayPush(array, values) {\n      var index = -1,\n          length = values.length,\n          offset = array.length;\n\n      while (++index < length) {\n        array[offset + index] = values[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for callback\n     * shorthands and `this` binding..\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array, iteratee) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +iteratee(array[length]) || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var index = -1,\n          props = keys(source),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr ? collection.length : 0,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          object.prototype = prototype;\n          var result = new object;\n          object.prototype = undefined;\n        }\n        return result || {};\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index|key, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(collection, iteratee, comparator, exValue) {\n      var computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = +iteratee(value, index, collection);\n        if (comparator(current, computed) || (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict, result) {\n      result || (result = []);\n\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, isDeep, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      if (pathKey !== undefined && pathKey in toObject(object)) {\n        path = [pathKey];\n      }\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[path[index++]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} matchData The propery names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = toObject(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        var key = matchData[0][0],\n            value = matchData[0][1];\n\n        return function(object) {\n          if (object == null) {\n            return false;\n          }\n          return object[key] === value && (value !== undefined || (key in toObject(object)));\n        };\n      }\n      return function(object) {\n        return baseIsMatch(object, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(srcValue),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === srcValue\n          ? (srcValue !== undefined || (key in object))\n          : baseIsEqual(srcValue, object[key], undefined, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n          props = isSrcArr ? undefined : keys(source);\n\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((result !== undefined || (isSrcArr && !(key in object))) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = indexes[length];\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + nativeFloor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= LARGE_ARRAY_SIZE,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var action = actions[index];\n        result = action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if ((retHighest ? (computed <= value) : (computed < value)) && computed !== null) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isDef = computed !== undefined,\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsNull) {\n          setLow = isReflexive && isDef && (retHighest || computed != null);\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || isDef);\n        } else if (computed == null) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      var result = new ArrayBuffer(buffer.byteLength),\n          view = new Uint8Array(result);\n\n      view.set(new Uint8Array(buffer));\n      return result;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(leftLength + argsLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a `_.countBy`, `_.groupBy`, `_.indexBy`, or `_.partition` function.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 ? sources[length - 2] : undefined,\n            guard = length > 2 ? sources[2] : undefined,\n            thisArg = length > 1 ? sources[length - 1] : undefined;\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : undefined;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    function createCache(values) {\n      return (nativeCreate && Set) ? new SetCache(values) : null;\n    }\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors.\n        // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = undefined;\n        }\n        var result = createWrapper(func, flag, undefined, undefined, undefined, undefined, undefined, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.defaults` or `_.defaultsDeep` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Function} Returns the new defaults function.\n     */\n    function createDefaults(assigner, customizer) {\n      return restParam(function(args) {\n        var object = args[0];\n        if (object == null) {\n          return object;\n        }\n        args.push(customizer);\n        return assigner.apply(undefined, args);\n      });\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(comparator, exValue) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = undefined;\n        }\n        iteratee = getCallback(iteratee, thisArg, 3);\n        if (iteratee.length == 1) {\n          collection = isArray(collection) ? collection : toIterable(collection);\n          var result = arrayExtremum(collection, iteratee, comparator, exValue);\n          if (!(collection.length && result === exValue)) {\n            return result;\n          }\n        }\n        return baseExtremum(collection, iteratee, comparator, exValue);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var wrapper,\n            length = arguments.length,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper') {\n            wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, undefined, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n          Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : undefined,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : undefined,\n                newHoldersRight = isCurry ? undefined : argsHolders,\n                newPartials = isCurry ? args : undefined,\n                newPartialsRight = isCurry ? undefined : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtorWrapper(func);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, nativeCeil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.ceil`, `_.floor`, or `_.round` function.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        precision = precision === undefined ? 0 : (+precision || 0);\n        if (precision) {\n          precision = pow(10, precision);\n          return func(number * precision) / precision;\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var callback = getCallback(iteratee);\n        return (iteratee == null && callback === baseCallback)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, callback(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index],\n            result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n        if (result !== undefined) {\n          if (result) {\n            continue;\n          }\n          return false;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (isLoose) {\n          if (!arraySome(other, function(othValue) {\n                return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              })) {\n            return false;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      var skipCtor = isLoose;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key],\n            result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = func.name,\n          array = realNames[result],\n          length = array ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Gets the propery names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = pairs(object),\n          length = result.length;\n\n      while (length--) {\n        result[length][2] = isStrictComparable(result[length][1]);\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = object == null ? undefined : object[key];\n      return isNative(value) ? value : undefined;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      if (!(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      var other = lodash[funcName];\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function mergeDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length;\n\n      var allowIndexes = !!length && isLength(length) &&\n        (isArray(object) || isArguments(object));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(nativeFloor(size) || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of unique `array` values not included in the other\n     * provided arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return (isObjectLike(array) && isArrayLike(array))\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value);\n        if (index < length &&\n            (value === value ? (value === array[index]) : (array[index] !== array[index]))) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values that are included in all of the provided\n     * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    var intersection = restParam(function(arrays) {\n      var othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(length),\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          result = [];\n\n      while (othIndex--) {\n        var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\n        caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\n      }\n      var array = arrays[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          var othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all of the provided arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it is invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? undefined : isSorted;\n        isSorted = false;\n      }\n      var callback = getCallback();\n      if (!(iteratee == null && callback === baseCallback)) {\n        iteratee = callback(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? arrayPush(baseDifference(result, array), baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 2 ? arrays[length - 2] : undefined,\n          thisArg = length > 1 ? arrays[length - 1] : undefined;\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a new array joining a wrapped array with any additional arrays\n     * and/or values.\n     *\n     * @name concat\n     * @memberOf _\n     * @category Chain\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var wrapped = _(array).concat(2, [3], [[4]]);\n     *\n     * console.log(wrapped.value());\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    var wrapperConcat = restParam(function(values) {\n      values = baseFlatten(values);\n      return this.thru(function(array) {\n        return arrayConcat(isArray(array) ? array : [toObject(array)], values);\n      });\n    });\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapped = wrapped.plant(other);\n     *\n     * otherWrapped.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n\n      var interceptor = function(value) {\n        return (wrapped && wrapped.__dir__ < 0) ? value : value.reverse();\n      };\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(interceptor);\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex <= length && collection.indexOf(target, fromIndex) > -1)\n        : (!!length && getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it is\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `sortByAll`,\n     * and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var index = -1,\n          result = toArray(collection),\n          length = result.length,\n          lastIndex = length - 1;\n\n      n = nativeMin(n < 0 ? 0 : (+n || 0), length);\n      while (++index < n) {\n        var rand = baseRandom(index, lastIndex),\n            value = result[rand];\n\n        result[rand] = result[index];\n        result[index] = value;\n      }\n      result.length = n;\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      return sample(collection, POSITIVE_INFINITY);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. If `orders` is unspecified, all\n     * values are sorted in ascending order. Otherwise, a value is sorted in\n     * ascending order if its corresponding order is \"asc\", and descending if \"desc\".\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], ['asc', 'desc']), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = undefined;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = undefined;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the debounced function return the result of the last\n     * `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = !!options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        lastCalled = 0;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function complete(isCalled, id) {\n        if (id) {\n          clearTimeout(id);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = undefined;\n          }\n        }\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          complete(trailingCall, maxTimeoutId);\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        complete(trailing, timeoutId);\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = undefined;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that runs each argument through a corresponding\n     * transform function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms] The functions to transform\n     * arguments, specified as individual functions or arrays of functions.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var modded = _.modArgs(function(x, y) {\n     *   return [x, y];\n     * }, square, doubled);\n     *\n     * modded(1, 2);\n     * // => [1, 4]\n     *\n     * modded(5, 10);\n     * // => [25, 20]\n     */\n    var modArgs = restParam(function(func, transforms) {\n      transforms = baseFlatten(transforms);\n      if (typeof func != 'function' || !arrayEvery(transforms, baseIsFunction)) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = transforms.length;\n      return restParam(function(args) {\n        var index = nativeMin(args.length, length);\n        while (index--) {\n          args[index] = transforms[index](args[index]);\n        }\n        return func.apply(this, args);\n      });\n    });\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed invocations. Provide an options object to indicate\n     * that `func` should be invoked on the leading and/or trailing edge of the\n     * `wait` timeout. Subsequent calls to the throttled function return the\n     * result of the last `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, undefined, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      return typeof customizer == 'function'\n        ? baseClone(value, isDeep, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, isDeep);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      return typeof customizer == 'function'\n        ? baseClone(value, true, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, true);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    function gt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    function gte(value, other) {\n      return value >= other;\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @alias eq\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](http://ecma-international.org/ecma-262/6.0/#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return isObject(value) && objToString.call(value) == funcTag;\n    }\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      return baseIsMatch(object, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (isFunction(value)) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reIsHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      var Ctor;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\n          (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObject(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`, else `false`.\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    function lt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    function lte(value, other) {\n      return value <= other;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = undefined;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = createDefaults(assign, assignDefaults);\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n     * // => { 'user': { 'name': 'barney', 'age': 36 } }\n     *\n     */\n    var defaultsDeep = createDefaults(merge, mergeDefaults);\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value at `path` of `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), path + '');\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        if (object == null) {\n          return false;\n        }\n        path = last(path);\n        result = hasOwnProperty.call(object, path);\n      }\n      return result || (isLength(object.length) && isIndex(path, object.length) &&\n        (isArray(object) || isArguments(object)));\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = undefined;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object == null ? undefined : object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || isArguments(object)) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      object = toObject(object);\n\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it is invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : object[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : object[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it is created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == lastIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) ? Ctor.prototype : undefined);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = undefined;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, escapeRegExpChar)\n        : (string || '(?:)');\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = nativeFloor(mid),\n          rightLength = nativeCeil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n      // Chrome fails to trim leading <BOM> whitespace characters.\n      // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n      if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      string = trim(string);\n      return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = undefined;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = undefined;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = undefined;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, true));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` on a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path on `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj ? keys(source) : undefined,\n            methodNames = (props && props.length) ? baseFunctions(source, props) : undefined;\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              return func.apply(object, arrayPush([this.value()], arguments));\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      root._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function that returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), path + '');\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = undefined;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = nativeFloor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Calculates `n` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Calculates `n` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(gt, NEGATIVE_INFINITY);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(lt, POSITIVE_INFINITY);\n\n    /**\n     * Calculates `n` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return iteratee.length == 1\n        ? arraySum(isArray(collection) ? collection : toIterable(collection), iteratee)\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.modArgs = modArgs;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.floor = floor;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.eq = isEqual;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__;\n        if (filtered && !index) {\n          return new LazyWrapper(this);\n        }\n        n = n == null ? 1 : nativeMax(nativeFloor(n) || 0, 0);\n\n        var result = this.clone();\n        if (filtered) {\n          result.__takeCount__ = nativeMin(result.__takeCount__, n);\n        } else {\n          result.__views__.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type != LAZY_MAP_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var result = this.clone();\n        result.__iteratees__.push({ 'iteratee': getCallback(iteratee, thisArg, 1), 'type': type });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate, thisArg) {\n      return this.reverse().takeWhile(predicate, thisArg).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(POSITIVE_INFINITY);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName),\n          lodashFunc = lodash[retUnwrapped ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName];\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var args = retUnwrapped ? [1] : arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var interceptor = function(value) {\n          return (retUnwrapped && chainAll)\n            ? lodashFunc(value, 1)[0]\n            : lodashFunc.apply(undefined, arrayPush([value], args));\n        };\n\n        var action = { 'func': thru, 'args': [interceptor], 'thisArg': undefined },\n            onlyLazy = isLazy && !isHybrid;\n\n        if (retUnwrapped && !chainAll) {\n          if (onlyLazy) {\n            value = value.clone();\n            value.__actions__.push(action);\n            return func.call(value);\n          }\n          return lodashFunc.call(undefined, this.value())[0];\n        }\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push(action);\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(undefined, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.concat = wrapperConcat;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Rhino with CommonJS support.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/lodash/index.js","const constants = {\n\ttype: {\n\t\tscore: \"score\",\n\t\tstaff: \"staff\",\n\t\tsystem: \"system\",\n\t\tslur: \"slur\",\n\t\tline: \"line\",\n\t\tvoice: \"voice\",\n\t\tmeasure: \"measure\",\n\t\tnote: \"note\",\n\t\trest: \"rest\",\n\t\tchord: \"chord\",\n\t\tchordSymbol: \"chordSymbol\",\n\t\tclef: \"clef\",\n\t\tkey: \"key\",\n\t\ttimeSig: \"timeSig\",\n\t\tdynamic: \"dynamic\",\n\t\tpage: \"page\",\n\t\trepeat: \"repeat\",\n\t\ttext: \"text\"\n\t},\n\tfont: {\n\t\tclefs: {\n\t\t\ttreble: '9',\n\t\t\tbase: '8',\n\t\t\talto: '7'\n\t\t},\n\t\ttimeSigs: {\n\t\t\tcommon: '\\u00AB',\n\t\t\thalf: '\\u00AA'\n\t\t},\n\t\taccidentals: {\n\t\t\tflat: 'O',\n\t\t\tb: 'O',\n\t\t\tdoubleFlat: 'X',\n\t\t\tnatural: 'p',\n\t\t\tsharp: '\\u2655',\n\t\t\t\"#\": '\\u2655',\n\t\t\tdoubleSharp: '\\u2653' // this is html entity hex. in gonvillepart1.svg it is html entity decimal\n\t\t},\n\t\tflags: { // Stem direction and flag direction are the same. If a stem points up then it gets an up flag.\n\t\t\teighth: {\n\t\t\t\tdown: '\\u265F', // cmd-1\n\t\t\t\tup: '\\u00A1'\n\t\t\t},\n\t\t\tsixteenth: {\n\t\t\t\tdown: '\\u00A2',\n\t\t\t\tup: '\\u00A3'\n\t\t\t},\n\t\t\tthirtysecond: {\n\t\t\t\tdown: '\\u00A4',\n\t\t\t\tup: '\\u00A5'\n\t\t\t},\n\t\t\tsixtyfourth: {\n\t\t\t\tdown: '\\u00A6',\n\t\t\t\tup: '\\u00A7'\n\t\t\t},\n\t\t\tonehundredtwentyeighth: {\n\t\t\t\tdown: '\\u00A8',\n\t\t\t\tup: '\\u00A9'\n\t\t\t}\n\t\t},\n\t\tnoteheads: {\n\t\t\tsolid: '_',\n\t\t\thollow: '`',\n\t\t\twhole: '\\u2654'\n\t\t},\n\t\trests: {\n\t\t\t1: '\\u265E',\n\t\t\t2: '\\u265B',\n\t\t\t4: '~',\n\t\t\t8: '\\u0074', // \\u0074 was a pedal dot in the original gonvillepart1.svg\n\t\t\t16: '\\u265C',\n\t\t\t32: '\\u2657',\n\t\t\t64: '\\u2658',\n\t\t\t128: '\\u2659'\n\t\t}\n\t},\n\tclefs: {\n\t\ttreble: \"treble\",\n\t\tbase: \"base\",\n\t\talto: \"alto\",\n\t\ttenor: \"tenor\"\n\t},\n\tnoteTypes: [0.5, 1, 2, 4, 8, 16, 32, 64, 128],\n\tmeasure: {\n\t\tdefaultLength: 200,\n\t\tminLength: 75\n\t}\n};\n\nexport default constants;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/constants.js","/*!\n * Paper.js v0.10.3 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2016, Juerg Lehni & Jonathan Puckey\n * http://scratchdisk.com/ & http://jonathanpuckey.com/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Wed Mar 8 10:43:28 2017 +0100\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2016 Juerg Lehni\n * http://scratchdisk.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * http://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/window.js');\n\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res))\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, true, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this, true);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}, true).inject({\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t},\n\n\tstatics: {\n\n\t\texports: {\n\t\t\tenumerable: true\n\t\t},\n\n\t\textend: function extend() {\n\t\t\tvar res = extend.base.apply(this, arguments),\n\t\t\t\tname = res.prototype._class;\n\t\t\tif (name && !Base.exports[name])\n\t\t\t\tBase.exports[name] = res;\n\t\t\treturn res;\n\t\t},\n\n\t\tequals: function(obj1, obj2) {\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1 && obj1.equals)\n\t\t\t\treturn obj1.equals(obj2);\n\t\t\tif (obj2 && obj2.equals)\n\t\t\t\treturn obj2.equals(obj1);\n\t\t\tif (obj1 && obj2\n\t\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\t\tvar length = obj1.length;\n\t\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\twhile (length--) {\n\t\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\t\tlength = keys.length;\n\t\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\twhile (length--) {\n\t\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tread: function(list, start, options, amount) {\n\t\t\tif (this === Base) {\n\t\t\t\tvar value = this.peek(list, start);\n\t\t\t\tlist.__index++;\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tvar proto = this.prototype,\n\t\t\t\treadIndex = proto._readIndex,\n\t\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\t\tlength = list.length,\n\t\t\t\tobj = list[begin];\n\t\t\tamount = amount || length - begin;\n\t\t\tif (obj instanceof this\n\t\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\t\tif (readIndex)\n\t\t\t\t\tlist.__index = begin + 1;\n\t\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t\t}\n\t\t\tobj = Base.create(proto);\n\t\t\tif (readIndex)\n\t\t\t\tobj.__read = true;\n\t\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t\t: list) || obj;\n\t\t\tif (readIndex) {\n\t\t\t\tlist.__index = begin + obj.__read;\n\t\t\t\tobj.__read = undefined;\n\t\t\t}\n\t\t\treturn obj;\n\t\t},\n\n\t\tpeek: function(list, start) {\n\t\t\treturn list[list.__index = start || list.__index || 0];\n\t\t},\n\n\t\tremain: function(list) {\n\t\t\treturn list.length - (list.__index || 0);\n\t\t},\n\n\t\treadList: function(list, start, options, amount) {\n\t\t\tvar res = [],\n\t\t\t\tentry,\n\t\t\t\tbegin = start || 0,\n\t\t\t\tend = amount ? begin + amount : list.length;\n\t\t\tfor (var i = begin; i < end; i++) {\n\t\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\n\t\treadNamed: function(list, name, start, options, amount) {\n\t\t\tvar value = this.getNamed(list, name),\n\t\t\t\thasObject = value !== undefined;\n\t\t\tif (hasObject) {\n\t\t\t\tvar filtered = list._filtered;\n\t\t\t\tif (!filtered) {\n\t\t\t\t\tfiltered = list._filtered = Base.create(list[0]);\n\t\t\t\t\tfiltered._unfiltered = list[0];\n\t\t\t\t}\n\t\t\t\tfiltered[name] = undefined;\n\t\t\t}\n\t\t\treturn this.read(hasObject ? [value] : list, start, options, amount);\n\t\t},\n\n\t\tgetNamed: function(list, name) {\n\t\t\tvar arg = list[0];\n\t\t\tif (list._hasObject === undefined)\n\t\t\t\tlist._hasObject = list.length === 1 && Base.isPlainObject(arg);\n\t\t\tif (list._hasObject)\n\t\t\t\treturn name ? arg[name] : list._filtered || arg;\n\t\t},\n\n\t\thasNamed: function(list, name) {\n\t\t\treturn !!this.getNamed(list, name);\n\t\t},\n\n\t\tfilter: function(dest, source, exclude, prioritize) {\n\t\t\tvar processed;\n\n\t\t\tfunction handleKey(key) {\n\t\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t\t!(processed && key in processed)) {\n\t\t\t\t\tvar value = source[key];\n\t\t\t\t\tif (value !== undefined)\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (prioritize) {\n\t\t\t\tvar keys = {};\n\t\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\t\thandleKey(key);\n\t\t\t\t\t\tkeys[key] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprocessed = keys;\n\t\t\t}\n\n\t\t\tObject.keys(source._unfiltered || source).forEach(handleKey);\n\t\t\treturn dest;\n\t\t},\n\n\t\tisPlainValue: function(obj, asString) {\n\t\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t\t|| asString && typeof obj === 'string';\n\t\t},\n\n\t\tserialize: function(obj, options, compact, dictionary) {\n\t\t\toptions = options || {};\n\n\t\t\tvar isRoot = !dictionary,\n\t\t\t\tres;\n\t\t\tif (isRoot) {\n\t\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\t\tdictionary = {\n\t\t\t\t\tlength: 0,\n\t\t\t\t\tdefinitions: {},\n\t\t\t\t\treferences: {},\n\t\t\t\t\tadd: function(item, create) {\n\t\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ref;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (obj && obj._serialize) {\n\t\t\t\tres = obj._serialize(options, dictionary);\n\t\t\t\tvar name = obj._class;\n\t\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\t\tres.unshift(name);\n\t\t\t\t}\n\t\t\t} else if (Array.isArray(obj)) {\n\t\t\t\tres = [];\n\t\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\t\tres[i] = Base.serialize(obj[i], options, compact,\n\t\t\t\t\t\t\tdictionary);\n\t\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\t\tres = {};\n\t\t\t\tvar keys = Object.keys(obj);\n\t\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\t\tdictionary);\n\t\t\t\t}\n\t\t\t} else if (typeof obj === 'number') {\n\t\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t\t} else {\n\t\t\t\tres = obj;\n\t\t\t}\n\t\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t\t: res;\n\t\t},\n\n\t\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\t\tvar res = json,\n\t\t\t\tisFirst = !_data,\n\t\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t\t_data = _data || {};\n\t\t\tif (Array.isArray(json)) {\n\t\t\t\tvar type = json[0],\n\t\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\t\treturn _data.dictionary[type];\n\t\t\t\t}\n\t\t\t\ttype = Base.exports[type];\n\t\t\t\tres = [];\n\t\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t\t}\n\t\t\t\tif (type) {\n\t\t\t\t\tvar args = res;\n\t\t\t\t\tif (create) {\n\t\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres = Base.create(type.prototype);\n\t\t\t\t\t\ttype.apply(res, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (Base.isPlainObject(json)) {\n\t\t\t\tres = {};\n\t\t\t\tif (_setDictionary)\n\t\t\t\t\t_data.dictionary = res;\n\t\t\t\tfor (var key in json)\n\t\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t\t}\n\t\t\treturn hasDictionary ? res[1] : res;\n\t\t},\n\n\t\texportJSON: function(obj, options) {\n\t\t\tvar json = Base.serialize(obj, options);\n\t\t\treturn options && options.asString === false\n\t\t\t\t\t? json\n\t\t\t\t\t: JSON.stringify(json);\n\t\t},\n\n\t\timportJSON: function(json, target) {\n\t\t\treturn Base.deserialize(\n\t\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\t\tif (Base.isPlainObject(arg))\n\t\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\t\ttarget = null;\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t});\n\t\t},\n\n\t\tsplice: function(list, items, index, remove) {\n\t\t\tvar amount = items && items.length,\n\t\t\t\tappend = index === undefined;\n\t\t\tindex = append ? list.length : index;\n\t\t\tif (index > list.length)\n\t\t\t\tindex = list.length;\n\t\t\tfor (var i = 0; i < amount; i++)\n\t\t\t\titems[i]._index = index + i;\n\t\t\tif (append) {\n\t\t\t\tlist.push.apply(list, items);\n\t\t\t\treturn [];\n\t\t\t} else {\n\t\t\t\tvar args = [index, remove];\n\t\t\t\tif (items)\n\t\t\t\t\targs.push.apply(args, items);\n\t\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\t\tremoved[i]._index = undefined;\n\t\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\t\tlist[i]._index = i;\n\t\t\t\treturn removed;\n\t\t\t}\n\t\t},\n\n\t\tcapitalize: function(str) {\n\t\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\t\treturn match.toUpperCase();\n\t\t\t});\n\t\t},\n\n\t\tcamelize: function(str) {\n\t\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\t\treturn chr.toUpperCase();\n\t\t\t});\n\t\t},\n\n\t\thyphenate: function(str) {\n\t\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t\t}\n\t}\n});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, func);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) === false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis.palettes = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = n === 'trident' ? 'msie' : n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.10.3\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t\tpaper.PaperScript.execute(code, this, options);\n\t\tView.updateFocus();\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools,\n\t\t\tpalettes = this.palettes;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t\tfor (var i = palettes.length - 1; i >= 0; i--)\n\t\t\tpalettes[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(arguments);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\ttolerance = Base.read(arguments);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar point1 = Point.read(arguments),\n\t\t\t\tpoint2 = Point.read(arguments);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar point1 = Point.read(arguments),\n\t\t\t\tpoint2 = Point.read(arguments);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner.changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar type = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tBase.filter(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(arguments, 'from'),\n\t\t\t\tnext = Base.peek(arguments),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined\n\t\t\t\t\t|| Base.hasNamed(arguments, 'to')) {\n\t\t\t\tvar to = Point.readNamed(arguments, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = arguments.__index;\n\t\t}\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (this._fixX)\n\t\t\tthis.x += (this.width - size.width) * this._fixX;\n\t\tif (this._fixY)\n\t\t\tthis.y += (this.height - size.height) * this._fixY;\n\t\tthis.width = size.width;\n\t\tthis.height = size.height;\n\t\tthis._fixW = 1;\n\t\tthis._fixH = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fixW)\n\t\t\tthis.width -= left - this.x;\n\t\tthis.x = left;\n\t\tthis._fixX = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fixH)\n\t\t\tthis.height -= top - this.y;\n\t\tthis.y = top;\n\t\tthis._fixY = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (this._fixX !== undefined && this._fixX !== 1)\n\t\t\tthis._fixW = 0;\n\t\tif (this._fixW)\n\t\t\tthis.x = right - this.width;\n\t\telse\n\t\t\tthis.width = right - this.x;\n\t\tthis._fixX = 1;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (this._fixY !== undefined && this._fixY !== 1)\n\t\t\tthis._fixH = 0;\n\t\tif (this._fixH)\n\t\t\tthis.y = bottom - this.height;\n\t\telse\n\t\t\tthis.height = bottom - this.y;\n\t\tthis._fixY = 1;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width * 0.5;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tthis.x = x - this.width * 0.5;\n\t\tthis._fixX = 0.5;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height * 0.5;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tthis.y = y - this.height * 0.5;\n\t\tthis._fixY = 0.5;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\treturn rect.x + rect.width > this.x\n\t\t\t\t&& rect.y + rect.height > this.y\n\t\t\t\t&& rect.x < this.x + this.width\n\t\t\t\t&& rect.y < this.y + this.height;\n\t},\n\n\ttouches: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\treturn rect.x + rect.width >= this.x\n\t\t\t\t&& rect.y + rect.height >= this.y\n\t\t\t\t&& rect.x <= this.x + this.width\n\t\t\t\t&& rect.y <= this.y + this.height;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner.changeSelection) {\n\t\t\t\t\towner.changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar count = arguments.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, arguments);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(9);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, true, Base.pick(recursively, true),\n\t\t\t\t\t_setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar scale = Point.read(arguments),\n\t\t\tcenter = Point.read(arguments, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar shear = Point.read(arguments),\n\t\t\tcenter = Point.read(arguments, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar skew = Point.read(arguments),\n\t\t\tcenter = Point.read(arguments, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn (this.decompose() || {}).scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn (this.decompose() || {}).rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(Line.getSignedDistance(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true));\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\treturn vx === 0 ? vy > 0 ? x - px : px - x\n\t\t\t\t : vy === 0 ? vx < 0 ? y - py : py - y\n\t\t\t\t : ((x-px) * vy - (y-py) * vx) / Math.sqrt(vx * vx + vy * vy);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif (selection & 1 && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert === false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert === true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed =\n\t\t\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 40)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(128);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tname = '_' + name;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[name];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[name]) {\n\t\t\t\tthis[name] = value;\n\t\t\t\tthis._changed(name === '_locked'\n\t\t\t\t\t\t? 128 : 129);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(129);\n\t\t\t}\n\t\t}\n\t},\n\n\tchangeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis.changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis.changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(129);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(1024);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar position = this._position,\n\t\t\tctor = _dontLink ? Point : LinkedPoint;\n\t\tif (!position) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tposition = this._position = pivot\n\t\t\t\t\t? this._matrix._transformPoint(pivot)\n\t\t\t\t\t: this.getBounds().getCenter(true);\n\t\t}\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar bounds = this._getCachedBounds(hasMatrix && matrix, opts);\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(bounds.x, bounds.y, bounds.width,\n\t\t\t\t\t\tbounds.height, this, 'setBounds')\n\t\t\t\t: bounds;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getCachedBounds: function(matrix, options) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix)) && [\n\t\t\t\toptions.stroke ? 1 : 0,\n\t\t\t\toptions.handle ? 1 : 0,\n\t\t\t\tinternal ? 1 : 0\n\t\t\t].join('');\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && this._bounds && cacheKey in this._bounds)\n\t\t\treturn this._bounds[cacheKey].rect.clone();\n\t\tvar bounds = this._getBounds(matrix || _matrix, options);\n\t\tif (cacheKey) {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar cached = this._bounds[cacheKey] = {\n\t\t\t\trect: bounds.clone(),\n\t\t\t\tinternal: options.internal\n\t\t\t};\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty()) {\n\t\t\t\t\tvar rect = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options);\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle();\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.initialize.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix,\n\t\t\tupdateVersion = this._project._updateVersion;\n\t\tif (matrix && matrix._updateVersion !== updateVersion)\n\t\t\tmatrix = null;\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t\tmatrix._updateVersion = updateVersion;\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(resolution, insert) {\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tsize = new Size(bottomRight.subtract(topLeft)),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\tif (!size.isZero()) {\n\t\t\tvar canvas = CanvasProvider.getCanvas(size.multiply(scale)),\n\t\t\t\tctx = canvas.getContext('2d'),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t\traster.setCanvas(canvas);\n\t\t}\n\t\traster.transform(new Matrix().translate(topLeft.add(size.divide(2)))\n\t\t\t\t.scale(1 / scale));\n\t\tif (insert === undefined || insert)\n\t\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\treturn !!this._contains(\n\t\t\t\tthis._matrix._inverseTransform(Point.read(arguments)));\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(arguments),\n\t\t\t\tHitResult.getOptions(arguments));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar point = Point.read(arguments),\n\t\t\toptions = HitResult.getOptions(arguments),\n\t\t\tall = [];\n\t\tthis._hitTest(point, Base.set({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix.inverted()._shiftless()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkBounds(type, part) {\n\t\t\tvar pt = bounds['get' + part]();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that,\n\t\t\t\t\t\t{ name: Base.hyphenate(part), point: pt });\n\t\t\t}\n\t\t}\n\n\t\tif (checkSelf && (options.center || options.bounds) && this._parent) {\n\t\t\tbounds = this.getInternalBounds();\n\t\t\tif (options.center) {\n\t\t\t\tres = checkBounds('center', 'Center');\n\t\t\t}\n\t\t\tif (!res && options.bounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkBounds('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix.inverted()._shiftless()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (!item) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\tthis._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\tcopyTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this.clone(false));\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function() {\n\t\tvar children = this._children;\n\t\treturn !children || !children.length;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar value = (rotate ? Base : Point).read(arguments),\n\t\t\tcenter = Point.read(arguments, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyMatrix, _applyRecursively,\n\t\t\t_setApplyMatrix) {\n\t\tif (matrix && matrix.isIdentity())\n\t\t\tmatrix = null;\n\t\tvar _matrix = this._matrix,\n\t\t\tapplyMatrix = (_applyMatrix || this._applyMatrix)\n\t\t\t\t\t&& ((!_matrix.isIdentity() || matrix)\n\t\t\t\t\t\t|| _applyMatrix && _applyRecursively && this._children);\n\t\tif (!matrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (matrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix);\n\t\t}\n\t\tif (applyMatrix = applyMatrix && this._transformContent(_matrix,\n\t\t\t\t\t_applyRecursively, _setApplyMatrix)) {\n\t\t\tvar pivot = this._pivot,\n\t\t\t\tstyle = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(_matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(_matrix);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tthis._changed(9);\n\t\tvar decomp = bounds && matrix && matrix.decompose();\n\t\tif (decomp && !decomp.shearing && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar getter = this._boundsGetter,\n\t\t\t\trect = bounds[getter && getter.getBounds || getter || 'getBounds'];\n\t\t\tif (rect)\n\t\t\t\tthis._position = rect.getCenter(true);\n\t\t\tthis._bounds = bounds;\n\t\t} else if (matrix && position) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].transform(matrix, true, applyRecursively,\n\t\t\t\t\t\tsetApplyMatrix);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tglobalMatrix._updateVersion = updateVersion;\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = this._opacity,\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height)\n\t\t\t\treturn;\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish)\n\t\t\tctx.clip();\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar point = this.getPosition(true),\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}));\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 1026) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(\n\t\t\t\tmatrix && matrix.appended(clipItem._matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props) {\n\t\tthis._initialize(props);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2)));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = new Shape(Base.getNamed(args));\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\treturn item.translate(point);\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar center = Point.readNamed(arguments, 'center'),\n\t\t\t\tradius = Base.readNamed(arguments, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targuments);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar rect = Rectangle.readNamed(arguments, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(arguments, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, arguments);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar ellipse = Shape._readEllipse(arguments),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, arguments);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\n\tinitialize: function Raster(object, position) {\n\t\tif (!this._initialize(object,\n\t\t\t\tposition !== undefined && Point.read(arguments, 1))) {\n\t\t\tvar image = typeof object === 'string'\n\t\t\t\t\t? document.getElementById(object) : object;\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(object);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element)\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(521);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(modify) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (modify) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(513);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcolor = Color.read(arguments),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tsetImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx) {\n\t\tvar element = this.getElement();\n\t\tif (element) {\n\t\t\tctx.globalAlpha = this._opacity;\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar res = this._definition._item._hitTest(point, options, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values) {\n\t\t\tvalues.enumerable = true;\n\t\t\tthis.inject(values);\n\t\t}\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn Base.set({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(25);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(129);\n\t\t}\n\t},\n\n\tchangeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner.changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] - padding,\n\t\t\tmaxPad = max[coord] + padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, padding);\n\t\t\t\tadd(v3, padding);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, p1, c2, t2, p2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 == null)\n\t\t\tt1 = c1.getTimeOf(p1);\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 == null)\n\t\t\t\tt2 = c2.getTimeOf(p2);\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1,\n\t\t\t\t\t\tp1 || c1.getPointAtTime(t1), overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2,\n\t\t\t\t\t\tp2 || c2.getPointAtTime(t2), overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t, null,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u, null);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uMax - uMin) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uMax - uMin >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor(var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\tvar p2 = Curve.getPoint(v2, t2);\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1, flip ? p2 : p1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2, flip ? p1 : p2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include, c1, null, pt, c2, null, pt);\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0], null,\n\t\t\t\t\t\t\tc2, overlap[1], null, true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getLoopIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0], null,\n\t\t\t\t\tc1, roots[1], null);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar self = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues2 = [],\n\t\t\tarrays = [],\n\t\t\tlocations,\n\t\t\tcurrent;\n\t\tfor (var i = 0; i < length2; i++)\n\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvar curve1 = curves1[i],\n\t\t\t\tvalues1 = self ? values2[i] : curve1.getValues(matrix1),\n\t\t\t\tpath1 = curve1.getPath();\n\t\t\tif (path1 !== current) {\n\t\t\t\tcurrent = path1;\n\t\t\t\tlocations = [];\n\t\t\t\tarrays.push(locations);\n\t\t\t}\n\t\t\tif (self) {\n\t\t\t\tgetLoopIntersection(values1, curve1, locations, include);\n\t\t\t}\n\t\t\tfor (var j = self ? i + 1 : 0; j < length2; j++) {\n\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\treturn locations;\n\t\t\t\tgetCurveIntersections(values1, values2[j], curve1, curves2[j],\n\t\t\t\t\t\tlocations, include);\n\t\t\t}\n\t\t}\n\t\tlocations = [];\n\t\tfor (var i = 0, l = arrays.length; i < l; i++) {\n\t\t\tlocations.push.apply(locations, arrays[i]);\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getLoopIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tvar path = curve._path;\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tthis._setCurve(segment.getCurve());\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\tt = end && count > 1 ? roots[count - 1]\n\t\t\t\t\t\t: count > 0 ? roots[0]\n\t\t\t\t\t\t: 0.5;\n\t\t\toffsets.push(Curve.getLength(v, end ? t : 0, end ? 1 : t) / 2);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).touches(path.getBounds(matrix2))\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tfor (var i2 = length2 - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\tif (path1.compare(paths2[i2])) {\n\t\t\t\t\t\tif (!matched[i2]) {\n\t\t\t\t\t\t\tmatched[i2] = true;\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tok = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar segments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: arguments\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? arguments\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 16) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 32) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(25);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tsegments.push.apply(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(25);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\treturn arguments.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(arguments))\n\t\t\t: this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\treturn arguments.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(arguments, 1), index)\n\t\t\t: this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(25);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t}\n\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tvar half = size / 2,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (!(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - half + 1, pY - half + 1, size - 2, size - 2);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\tfrom = from % length;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar handle1 = Point.read(arguments),\n\t\t\t\thandle2 = Point.read(arguments),\n\t\t\t\tto = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar handle = Point.read(arguments),\n\t\t\t\tto = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar through = Point.read(arguments),\n\t\t\t\tto = Point.read(arguments),\n\t\t\t\tt = Base.pick(Base.read(arguments), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar abs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(arguments),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(arguments),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(arguments) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(arguments);\n\t\t\t} else {\n\t\t\t\tvar radius = Size.read(arguments),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(arguments),\n\t\t\t\t\tclockwise = !!Base.read(arguments),\n\t\t\t\t\tlarge = !!Base.read(arguments),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar epsilon = 1e-12,\n\t\t\t\text = abs(extent),\n\t\t\t\tcount = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n\t\t\t\tinc = extent / count,\n\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\tsegments = [];\n\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\tvar pt = to,\n\t\t\t\t\tout = null;\n\t\t\t\tif (i < count) {\n\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!i) {\n\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t} else {\n\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t}\n\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t}\n\t\t\t\tvector = vector.rotate(inc);\n\t\t\t}\n\t\t\tthis._add(segments);\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar through = Point.read(arguments),\n\t\t\t\tto = Point.read(arguments),\n\t\t\t\tparameter = Base.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar handle1 = Point.read(arguments),\n\t\t\t\thandle2 = Point.read(arguments),\n\t\t\t\tto = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar handle = Point.read(arguments),\n\t\t\t\tto = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar current = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(arguments)),\n\t\t\t\tclockwise = Base.pick(Base.peek(arguments), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(arguments)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tfor (var i = 1; i < length; i++)\n\t\t\taddJoin(segments[i], join);\n\t\tif (closed) {\n\t\t\taddJoin(segments[0], join);\n\t\t} else if (length > 0) {\n\t\t\taddCap(segments[0], cap);\n\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix);\n\t\tif (normal1.getDirectedAngle(normal2) < 0) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal().multiply(radius).transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(\n\t\t\t\t\tloc.getTime() === 0 ? -90 : 90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && props.insert === false && Item.NO_INSERT);\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props);\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(arguments, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(arguments, 'to'))\n\t\t\t], false, arguments);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar center = Point.readNamed(arguments, 'center'),\n\t\t\t\tradius = Base.readNamed(arguments, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), arguments);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar rect = Rectangle.readNamed(arguments, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(arguments, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, arguments);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar ellipse = Shape._readEllipse(arguments);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, arguments);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar from = Point.readNamed(arguments, 'from'),\n\t\t\t\tthrough = Point.readNamed(arguments, 'through'),\n\t\t\t\tto = Point.readNamed(arguments, 'to'),\n\t\t\t\tprops = Base.getNamed(arguments),\n\t\t\t\tpath = new Path(props && props.insert === false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar center = Point.readNamed(arguments, 'center'),\n\t\t\t\tsides = Base.readNamed(arguments, 'sides'),\n\t\t\t\tradius = Base.readNamed(arguments, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, arguments);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar center = Point.readNamed(arguments, 'center'),\n\t\t\t\tpoints = Base.readNamed(arguments, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(arguments, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(arguments, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, arguments);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tcurves.push.apply(curves, children[i].getCurves());\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path.clone(false).reduce({ simplify: true })\n\t\t\t\t.transform(null, true, true);\n\t\treturn resolve\n\t\t\t\t? res.resolveCrossings().reorient(\n\t\t\t\t\tres.getFillRule() === 'nonzero', true)\n\t\t\t\t: res;\n\t}\n\n\tfunction createResult(ctor, paths, reduce, path1, path2, options) {\n\t\tvar result = new ctor(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tif (reduce)\n\t\t\tresult = result.reduce({ simplify: true });\n\t\tif (!(options && options.insert === false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction computeBoolean(path1, path2, operation, options) {\n\t\tif (options && options.stroke &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn computeStrokeBoolean(path1, path2, operation === 'subtract');\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(\n\t\t\t\tCurveLocation.expand(_path1.getCrossings(_path2))),\n\t\t\tpaths1 = _path1._children || [_path1],\n\t\t\tpaths2 = _path2 && (_path2._children || [_path2]),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collect(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tsegments.push.apply(segments, path._segments);\n\t\t\t\tcurves.push.apply(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollect(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollect(paths2);\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2, curves,\n\t\t\t\t\t\toperator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2, curves, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\n\t\treturn createResult(CompoundPath, paths, true, path1, path2, options);\n\t}\n\n\tfunction computeStrokeBoolean(path1, path2, subtract) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getCrossings(_path2),\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t^ subtract) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(Group, paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tpoint = path1.getInteriorPoint(),\n\t\t\t\t\tcontainerWinding = 0;\n\t\t\t\tfor (var j = i - 1; j >= 0; j--) {\n\t\t\t\t\tvar path2 = sorted[j];\n\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\tentry1.container = entry2.exclude ? entry2.container\n\t\t\t\t\t\t\t\t: path2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(container ? !container.isClockwise()\n\t\t\t\t\t\t\t: clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tonPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) === 1\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 0.5,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\twindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\twindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\twindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\twindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\twindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\twindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality = 0;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, dir ? 0 : 1, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curves[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curves[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curves, operator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve(),\n\t\t\t\tlength = curve.getLength();\n\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\ttotalLength += length;\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twindingZero = { winding: 0, quality: 0 },\n\t\t\twinding = windingZero,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).normalize().y)\n\t\t\t\t\t\t\t< Math.SQRT1_2 ? 1 : 0;\n\t\t\t\t\tif (parent instanceof CompoundPath)\n\t\t\t\t\t\tpath = parent;\n\t\t\t\t\tvar wind = !(operator.subtract && path2 && (\n\t\t\t\t\t\t\tpath === path1 &&\n\t\t\t\t\t\t\t\tpath2._getWinding(pt, dir, true).winding ||\n\t\t\t\t\t\t\tpath === path2 &&\n\t\t\t\t\t\t\t\t!path1._getWinding(pt, dir, true).winding))\n\t\t\t\t\t\t\t? getWinding(pt, curves, dir, true)\n\t\t\t\t\t\t\t: windingZero;\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other._path,\n\t\t\t\t\t\tnext = other.getNext() || path && path.getFirstSegment(),\n\t\t\t\t\t\tnextInter = next && next._intersection;\n\t\t\t\t\tif (other !== segment && (isStart(other) || isStart(next)\n\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))) {\n\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._prev)\n\t\t\t\t\tinter = inter._prev;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg) {\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.firstSegment.setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn computeBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn computeBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path) {\n\t\t\treturn computeBoolean(this, path, 'subtract');\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn computeBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn createResult(Group, [\n\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar seg = overlaps[i]._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev) && hasOverlap(next)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tthis.push.apply(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(265);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar bounds = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(bounds, bounds) : bounds;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tcolorCache = {},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(/^#(\\w{1,2})(\\w{1,2})(\\w{1,2})$/),\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tcomponents = [0, 0, 0];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^rgba?\\((.*)\\)$/)) {\n\t\t\tcomponents = match[1].split(',');\n\t\t\tfor (var i = 0, l = components.length; i < l; i++) {\n\t\t\t\tvar value = +components[i];\n\t\t\t\tcomponents[i] = i < 3 ? value / 255 : value;\n\t\t\t}\n\t\t} else if (window) {\n\t\t\tvar cached = colorCache[string];\n\t\t\tif (!cached) {\n\t\t\t\tif (!colorCtx) {\n\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1);\n\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t}\n\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\tcached = colorCache[string] = [\n\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\tdata[2] / 255\n\t\t\t\t];\n\t\t\t}\n\t\t\tcomponents = cached.slice();\n\t\t} else {\n\t\t\tcomponents = [0, 0, 0];\n\t\t}\n\t\treturn components;\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = name === 'gradient'\n\t\t\t\t\t? function(value) {\n\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\tvalue = Gradient.read(Array.isArray(value) ? value\n\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true });\n\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t\t: type === 'gradient'\n\t\t\t\t\t\t? function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function(value) {\n\t\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : value;\n\t\t\t\t\t\t};\n\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\ttype = 'rgb';\n\t\t\t\t\tcomponents = fromCSS(arg);\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner)\n\t\t\t\tthis._owner._changed(65);\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\tcanvasGradient;\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin),\n\t\t\t\t\thighlight = components[3];\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(65);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tvar color = Color.read(arguments, 0, { clone: true });\n\t\tif (color)\n\t\t\tcolor._owner = this;\n\t\tthis._color = color;\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 97,\n\t\tstrokeCap: 97,\n\t\tstrokeJoin: 97,\n\t\tstrokeScaling: 105,\n\t\tmiterLimit: 97,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children;\n\t\t\tif (children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath)) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old && old._owner !== undefined)\n\t\t\t\t\t\t\told._owner = undefined;\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tif (value._owner)\n\t\t\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t\t\tvalue._owner = owner;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 65);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tvalue;\n\t\t\tif (key in this._defaults && (!children || !children.length\n\t\t\t\t\t|| _dontMerge || owner instanceof CompoundPath)) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone)\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t\tif (value && isColor)\n\t\t\t\t\t\t\tvalue._owner = owner;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (children) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tthis._values = {};\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.addEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(2049);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar value = (rotate ? Base : Point).read(arguments),\n\t\t\tcenter = Point.read(arguments, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\tscaling = decomposed && decomposed.scaling;\n\t\treturn scaling ? (scaling.x + scaling.y) / 2 : 0;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed && decomposed.rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\tscaling = decomposed && decomposed.scaling;\n\t\treturn scaling\n\t\t\t\t? new LinkedPoint(scaling.x, scaling.y, this, 'setScaling')\n\t\t\t\t: undefined;\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.initialize.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, fallbacks[type] || type, event,\n\t\t\t\t\tpoint, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tdragItem = !prevented && hitItem;\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t\tevent.preventDefault();\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified' ? String.fromCharCode(event.keyCode)\n\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tminDistance = this.minDistance,\n\t\t\tmaxDistance = this.maxDistance,\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height) {\n\t\tvar canvas = this.getCanvas(width, height);\n\t\treturn canvas ? canvas.getContext('2d') : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1);\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tmatrix = matrix._shiftless();\n\t\t\tvar point = matrix._inverseTransform(trans);\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t\ttrans = null;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew && skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew && skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages === false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor(var i = 0; i < length; i++)\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.y)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent) {\n\t\tvar value = SvgElement.get(node, name),\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds);\n\t\t\tdestination = origin.add(\n\t\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds);\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds);\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = this._matrix._transformPoint(\n\t\t\t\t\t\tgetPoint(node).add(size.divide(2)));\n\t\t\t\tthis.translate(center);\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t}\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1], v[2]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item instanceof Shape) {\n\t\t\t\t\t\t\tcolor.transform(new Matrix().translate(\n\t\t\t\t\t\t\t\titem.getPosition(true).negate()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined && apply(item, value, name, node, styles)\n\t\t\t\t\t|| item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = getSize(node, null, null, true)\n\t\t\t\t\t|| paper.getView().getSize();\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object' ? svg : new self.DOMParser()\n\t\t\t\t\t\t.parseFromString(svg, 'image/svg+xml');\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^.*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\npaper = new (PaperScope.inject(Base.exports, {\n\tenumerable: true,\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node)\n\trequire('./node/extend.js')(paper);\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/paper/dist/paper-core.js","import _ from \"lodash\";\nimport constants from \"../constants\";\n\nfunction concat (a = [], b) {\n\treturn a.concat([b]);\n}\n\n/*\n * @param ar - Array to set value in.\n * @param i - the index to pu the value.\n * @param val - the value to place at the arrays index.\n * @return a new array. ar will be unchanged.\n */\nfunction set (ar, i, val) {\n    return [\n        ...ar.slice(0, i),\n        val,\n        ...ar.slice(i + 1)\n    ];\n}\n\n/*\n * partitions the collection each time f returns a new value\n */\nfunction partitionBy (coll, f) {\n\tlet previousValue;\n\n\treturn _.reduce(coll, (acc, el) => {\n\t\tlet newValue = f(el);\n\t\tif (previousValue !== newValue || !acc[acc.length-1]) {\n\t\t\tlet partition = [el];\n\t\t\tacc.push(partition);\n\t\t} else {\n\t\t\tacc[acc.length-1].push(el);\n\t\t}\n\t\tpreviousValue = newValue;\n\t\treturn acc;\n\t}, []);\n}\n\n/*\n * partitions the coll everytime f returns truthy.\n */\nfunction partitionWhen (coll, f) {\n\treturn _.reduce(coll, (acc, el) => {\n\t\tif (f(el) || !acc[acc.length-1]) {\n\t\t\tlet partition = [el];\n\t\t\tacc.push(partition);\n\t\t} else {\n\t\t\tacc[acc.length-1].push(el);\n\t\t}\n\t\treturn acc;\n\t}, []);\n}\n\nfunction doTimes (times, fn) {\n\tconst ret = [];\n\tfor (let i = 0; i < times; i++) {\n\t\tret.push(fn(i));\n\t}\n\treturn ret;\n}\n\nfunction serialize (item) {\n\treturn _.filter([item.type, item, _.map(item.children, serialize)], v => _.size(v));\n}\n\n/*\n * @param fn - Function of any number of arguments to map across the colls until one of the is exhausted.\n * \t\tIgnores remaining items in other colls.\n * @param colls - any number of collections each of which will be passed to each arg of fn\n * @return Array of results from fn.\n */\nfunction map (fn, ...colls) {\n\tlet l = _.min(colls.map(coll => coll.length)),\n\t\tret = new Array(l);\n\tfor (let i = 0; i < l; i++) {\n\t\tlet elms = colls.map(coll => coll[i]);\n\t\tret[i] = fn.apply(null, elms);\n\t}\n\treturn ret;\n}\n\n/*\n * @param (coll1, coll2) => value - Function of any number of arguments to map across the colls until one of the is exhausted.\n * @param deepColl - nested collection.\n * @param flatColl - flat coll is grouped into lenths of each element of the nested collection.\n */\nfunction mapDeep (fn, deepColl, flatColl) {\n\tlet itemIdx = 0;\n\treturn _.map(deepColl, arr => {\n\t\tlet section = _.slice(flatColl, itemIdx, itemIdx + arr.length);\n\t\titemIdx += arr.length;\n\t\treturn fn(arr, section);\n\t});\n}\n\n/*\n * Takes a variable number of functions. Returns a function that is the juxtposition of those functions.\n * ex. juxt(a, b, c)(x) = [a(x), b(x), c(x)]\n */\nfunction juxt (...fns) {\n\treturn (x) => fns.map(fn => fn(x));\n}\n\n/*\n * @param reducer - Function\n * @param coll - collection to reduce over.\n * @param init - optional initialization value\n * @return - Array of intermediate results from the reducing function.\n */\nfunction reductions (reducer, coll, init) {\n\tlet ret, idx = 1, i = 0;\n\tif (!_.isUndefined(init)) {\n\t\tret = new Array(coll.length + 1);\n\t\tret[0] = init;\n\t} else {\n\t\tret = new Array(coll.length);\n\t\tret[0] = coll[0];\n\t\ti++;\n\t}\n\tfor (; i < coll.length; i++, idx++) {\n\t\tret[idx] = reducer(ret[idx-1], coll[i]);\n\t}\n\treturn ret;\n}\n\nfunction isEven (n) {\n\treturn !(n % 2);\n}\n\nfunction isOdd (n) {\n\treturn !isEven(n);\n}\n\nfunction clone (item, props={}) {\n\tconst Constructor = item.constructor;\n\tconst children = item.children ? _.map(item.children, clone) : undefined;\n\treturn new Constructor(Object.assign({}, item, props), children);\n}\n\nexport {\n\tconcat,\n\tdoTimes,\n\tserialize,\n\tpartitionBy,\n\tpartitionWhen,\n\tmap,\n\tmapDeep,\n\tjuxt,\n\treductions,\n\tisEven,\n\tisOdd,\n\tclone,\n\tset\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/common.js","import _ from \"lodash\";\n\nimport constants from \"./constants\";\n\n// FIXME: Might be better to use instanceof operator. But that requires importing types which causes circulat dependencies.\n/*\n * @param type - String\n * @param item - Scored item.\n * @return - Boolean. True if items type is equal to type.\n */\nfunction isType (type, item) {\n    return item && type === item.type;\n}\n\nconst isChord = _.partial(isType, constants.type.chord);\nconst isChordSymbol = _.partial(isType, constants.type.chordSymbol);\nconst isClef = _.partial(isType, constants.type.clef);\nconst isDynamic = _.partial(isType, constants.type.dynamic);\nconst isKey = _.partial(isType, constants.type.key);\nconst isLine = _.partial(isType, constants.type.line);\nconst isMeasure = _.partial(isType, constants.type.measure);\nconst isNote = _.partial(isType, constants.type.note);\nconst isRest = _.partial(isType, constants.type.rest);\nconst isScore = _.partial(isType, constants.type.score);\nconst isSlur = _.partial(isType, constants.type.slur);\nconst isSystem = _.partial(isType, constants.type.system);\nconst isTimeSignature = _.partial(isType, constants.type.timeSig);\nconst isVoice = _.partial(isType, constants.type.voice);\nconst isRepeat = _.partial(isType, constants.type.repeat);\nconst isText = _.partial(isType, constants.type.text);\nconst isMarking = item => isClef(item) || isKey(item) || isTimeSignature(item) || isRepeat(item);\nconst isPitched = item => isNote(item) || isChord(item);\nconst hasDuration = item => isNote(item) || isChord(item) || isRest(item);\n\nexport {\n    isChord,\n    isChordSymbol,\n    isClef,\n    isDynamic,\n    isKey,\n    isLine,\n    isMeasure,\n    isNote,\n    isRest,\n    isRepeat,\n    isScore,\n    isSlur,\n    isSystem,\n    isText,\n    isTimeSignature,\n    isVoice,\n    isMarking,\n    isPitched,\n    hasDuration\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/types.js","import paper from \"paper/dist/paper-core\";\nimport {isNote, isChord} from \"./types\";\nimport constants from \"./constants\";\nimport * as placement from \"./utils/placement\";\nimport * as lineUtils from \"./utils/line\";\nimport * as noteUtils from \"./utils/note\";\nimport * as chordUtils from \"./utils/chord\";\nimport {parseSignature} from \"./utils/timeUtils\";\nimport {map, doTimes, concat} from \"./utils/common\";\nimport {getLinePoint} from \"./utils/geometry\";\nimport _ from \"lodash\";\n\n\n//////////////////////\n// Measure Engraver //\n//////////////////////\n\n/*\n * Given a number, returns a function that returns the y position of a leger line\n * given which leger, the center y position, and the line spacing.\n */\nfunction getYpositionFunc (num, centerY, lineSpacing) {\n\tif (num >= 0) {\n\t\treturn function (i) {\n\t\t\treturn centerY + (lineSpacing * (3 + i));\n\t\t};\n\t} else {\n\t\treturn function (i) {\n\t\t\treturn centerY - (lineSpacing * (3 + i));\n\t\t};\n\t}\n}\n\n/*\n * @centerLine {Point} the leftmost point of the center line in the measure.\n * @lineSpacing {Integer} distance between lines in a measure.\n */\n// FIXME: This could be improved by using a string i.e. \"b4\", rather than an Point to represent the center line.\nfunction drawLegerLines (noteHead, centerLine, lineSpacing) {\n\n\t// get the distance from the center line.\n\t// var distance = noteHead.bounds.center.y - centerLine.y,\n\t// rounding to fix issue with leger lines not showing up\n\tconst distance = Math.round(placement.getNoteHeadCenter(noteHead.bounds.center).y - centerLine.y);\n\tconst legerLines = [];\n\tconst yPositionFunc = getYpositionFunc(distance, centerLine.y, lineSpacing);\n\n\tif (Math.abs(distance) >= lineSpacing * 3) {\n\t\t// Added Math.ceil to help with issues doing floating point math. Not sure if it's the perfect solution.\n\t\tfor (let i = 0; i <= Math.ceil(Math.abs(distance) - (lineSpacing * 3)) / lineSpacing; i++) {\n\t\t\tconst yPos = yPositionFunc(i);\n\t\t\tconst point1 = new paper.Point(noteHead.bounds.leftCenter.x - Scored.config.note.head.width/2, yPos);\n\t\t\tconst point2 = new paper.Point(noteHead.bounds.rightCenter.x + Scored.config.note.head.width/2, yPos);\n\t\t\tlegerLines.push(new paper.Path.Line(point1, point2));\n\t\t}\n\t}\n\n\treturn new paper.Group({\n\t\tchildren: legerLines,\n\t\tstrokeColor: \"black\"\n\t});\n}\n\nconst barlineTypes = {\n\tfinal: (staves, xPos) => {\n\t\tconst firstLine = staves[0];\n\t\tconst lastLine = staves[staves.length - 1];\n\t\tconst barGroup = new paper.Group({name: \"barline\"});\n\t\tconst thickBar = new paper.Path.Line(lineUtils.f(firstLine).add(xPos, 0), lineUtils.e(lastLine).add(xPos, 0));\n\t\tconst thinBar = new paper.Path.Line(lineUtils.f(firstLine).add(xPos-5, 0), lineUtils.e(lastLine).add(xPos-5, 0));\n\n\t\t// draw the bar line\n\t\tbarGroup.addChildren([thickBar, thinBar]);\n\t\tbarGroup.strokeColor = \"black\";\n\t\tthickBar.strokeWidth = 3;\n\t\tthinBar.strokeWidth = 1;\n\n\t\treturn barGroup;\n\t},\n\n\trepeat: (staves, xPos) => {\n\t\tconst firstLine = staves[0];\n\t\tconst lastLine = staves[staves.length - 1];\n\t\tconst barGroup = new paper.Group({name: \"barline\"});\n\t\tconst thickBar = new paper.Path.Line(lineUtils.f(firstLine).add(xPos, 0), lineUtils.e(lastLine).add(xPos, 0));\n\t\tconst thinBar = new paper.Path.Line(lineUtils.f(firstLine).add(xPos-5, 0), lineUtils.e(lastLine).add(xPos-5, 0));\n\n\n\t\t// draw the bar line\n\t\tbarGroup.addChildren([thickBar, thinBar]);\n\t\tbarGroup.strokeColor = \"black\";\n\t\tthickBar.strokeWidth = 3;\n\t\tthinBar.strokeWidth = 1;\n\n\t\tstaves.map(line => {\n\t\t\tconst dots = drawRepeatDots(xPos - Scored.config.note.head.width, lineUtils.f(line).y);\n\t\t\tbarGroup.addChildren(dots);\n\t\t});\n\n\t\treturn barGroup;\n\t},\n\n\tdefault: (staves, xPos) => {\n\t\tconst firstLine = staves[0];\n\t\tconst lastLine = staves[staves.length - 1];\n\t\tconst barGroup = new paper.Group({name: \"barline\"});\n\t\tconst bar = new paper.Path.Line(lineUtils.f(firstLine).add(xPos, 0), lineUtils.e(lastLine).add(xPos, 0));\n\n\t\t// draw the bar line\n\t\tbarGroup.addChild(bar);\n\t\tbar.strokeColor = \"black\";\n\t\tbar.strokeWidth = 1;\n\n\t\treturn barGroup;\n\t}\n};\n\n/*\n * @param staves - Array of Line groups.\n * @param xPos - Number representing the xposition on the staves to draw the barline.\n * @param type - (optional) type of barline to draw.\n */\nfunction drawBarline (staves, xPos=0, type=\"default\") {\n\tconst barlineFn = barlineTypes[type];\n\treturn barlineFn(staves, xPos);\n}\n\n///////////////////\n// Line Engraver //\n///////////////////\n\nfunction drawLine (width) {\n\tlet line,\n\t\tlineArray = [],\n\t\tlineNames = [\"F\", \"D\", \"B\", \"G\", \"E\"];\n\n\tfor (let i = 0; i < 5; i++) {\n\t\tline = new paper.Path.Line(new paper.Point(0, i * Scored.config.lineSpacing), new paper.Point(width, i * Scored.config.lineSpacing));\n\t\tline.name = lineNames[i];\n\t\tline.strokeColor = \"black\";\n\t\tlineArray.push(line);\n\t}\n\n\tlet rectangle = new paper.Rectangle(lineArray[0].firstSegment.point, lineArray[4].lastSegment.point);\n\trectangle = new paper.Path.Rectangle(rectangle);\n\trectangle.fillColor = \"#FFFFFF\"; // create a fill so the center can be clicked\n\trectangle.opacity = 0; // make the rectangle invisible\n\trectangle.name = \"bounds\";\n\n\treturn new paper.Group({\n\t\tname: \"systemLine\",\n\t\tchildren: _.flatten([rectangle, lineArray])\n\t});\n}\n\n/*\n * A System Bar is the bar at the beginning of a system connecting all the staves.\n */\nfunction drawSystemBar (lines) {\n\tconst firstLine = lines[0];\n\tconst lastLine = lines[lines.length - 1];\n\n\tconst bar = new paper.Path.Line(lineUtils.f(firstLine), lineUtils.e(lastLine));\n\tbar.strokeColor = \"black\";\n\tbar.strokeWidth = 2;\n\n\treturn bar;\n}\n\n//////////////////////\n// Marking Engraver //\n//////////////////////\n\nconst drawClef = function (clef, margin={}) {\n\n\tconst item = new paper.PointText({\n\t\tcontent: {\n\t\t\ttreble: '9',\n\t\t\tbass: '8',\n\t\t\talto: '7',\n\t\t\ttenor: '7'\n\t\t}[clef],\n\t\tfontFamily: 'gonville',\n\t\tfontSize: 32,\n\t\tfillColor: 'black',\n\t\tname: 'clef'\n\t});\n\n\treturn drawBounds(new paper.Group({\n\t\tname: \"clef\",\n\t\tchildren: [item]\n\t}), margin);\n};\n\nconst drawTimeSig = function (timeSig, margin) {\n\tlet item;\n\n\tif (timeSig === \"c\") { // common time\n\t\titem = new paper.Group(new paper.PointText({\n\t\t\tcontent: constants.font.timeSigs.common,\n\t\t\tfontFamily: 'gonville',\n\t\t\tfontSize: 32,\n\t\t\tfillColor: 'black'\n\t\t}));\n\t} else if (timeSig === \"h\") { // half time\n\t\titem = new paper.Group(new paper.PointText({\n\t\t\tcontent: constants.font.timeSigs.half,\n\t\t\tfontFamily: 'gonville',\n\t\t\tfontSize: 32,\n\t\t\tfillColor: 'black'\n\t\t}));\n\t} else {\n\t\tlet [beats, value] = timeSig.split(\"/\"),\n\t\t\ttop = new paper.PointText({\n\t\t\t\tcontent: beats,\n\t\t\t\tfontFamily: 'gonvillealpha',\n\t\t\t\tfontSize: 32,\n\t\t\t\tfillColor: 'black'\n\t\t\t}),\n\t\t\tbot = new paper.PointText({\n\t\t\t\tcontent: value,\n\t\t\t\tfontFamily: 'gonvillealpha',\n\t\t\t\tfontSize: 32,\n\t\t\t\tfillColor: 'black'\n\t\t\t});\n\n\t\titem = new paper.Group([top, bot]);\n\t\tbot.translate([0, top.bounds.height/2]);\n\t}\n\n\treturn drawBounds(item, margin);\n};\n\nfunction drawBounds (item, {top=0, left=0, bottom=0, right=0}) {\n\tconst rect = new paper.Path.Rectangle({\n\t\tname: \"itemBounds\",\n\t\tfrom:item.bounds.topLeft.subtract([left, top]),\n\t\tto: item.bounds.bottomRight.add([right, bottom])\n\t});\n\n\trect.fillColor = \"#FFFFFF\";\n\trect.opacity = 0;\n\t// rect.fillColor = paperUtils.randomColor();\n\t// rect.opacity = 0.3;\n\n\titem.addChild(rect);\n\treturn item;\n}\n\n///////////////////\n// Note Engraver //\n///////////////////\n\nconst drawHead = function (type) {\n\tlet noteHead, noteheadChar;\n\n\tif (type >= 1) {\n\t\tnoteheadChar = constants.font.noteheads.whole;\n\t} else if (type >= 1/2) {\n\t\tnoteheadChar = constants.font.noteheads.hollow;\n\t} else {\n\t\tnoteheadChar = constants.font.noteheads.solid;\n\t}\n\n\treturn new paper.PointText({\n\t\tname: \"head\",\n\t\tcontent: noteheadChar,\n\t\tfontFamily: 'gonville',\n\t\tfontSize: Scored.config.fontSize,\n\t\tfillColor: 'black'\n\t});\n};\n\n/*\n * Draw the duration dots on the note\n * @param point - paper.Point\n * @param dots -\n */\nfunction drawDots (point, dots) {\n\tconst dotArr = [];\n\tconst distance = Scored.config.note.head.width / 2;\n\n\tfor (let i = 0; i < dots; i++) {\n\t\tconst dot = new paper.Path.Circle(point, 2);\n\t\tdot.fillColor = 'black';\n\t\tdotArr.push(dot);\n\t\tpoint = point.add(distance, 0);\n\t}\n\n\treturn dotArr;\n}\n\nfunction drawRepeatDots (xPos = 0, yPos = 0) {\n\tconst distance = Scored.config.layout.lineSpacing;\n\tconst dot1 = new paper.Path.Circle({\n\t\tcenter: new paper.Point(xPos, yPos + (distance * 1.5)),\n\t\tradius: 2,\n\t\tfillColor: \"black\"\n\t});\n\n\tconst dot2 = new paper.Path.Circle({\n\t\tcenter: new paper.Point(xPos, yPos + (distance * 2.5)),\n\t\tradius: 2,\n\t\tfillColor: \"black\"\n\t});\n\n\treturn [dot1, dot2];\n}\n\nfunction drawRepeat () {\n\tconst distance = Scored.config.layout.lineSpacing;\n\tconst linePosition = -Scored.config.note.head.width/2;\n\tconst line = new paper.Path.Line({\n\t\tfrom: [linePosition, 0],\n\t\tto: [linePosition, Scored.config.layout.lineSpacing * 4],\n\t\tstrokeColor: \"black\",\n\t\tstrokeWidth: 1\n\t});\n\n\tconst dots = drawRepeatDots();\n\n\treturn new paper.Group({\n\t\tname: \"repeat\",\n\t\tchildren: [line, ...dots]\n\t});\n}\n\n/*\n * @param point - center of the staccato dot.\n * @return Path\n */\nfunction drawStaccato (point) {\n\tconst staccato = new paper.Path.Circle(point, 1.5);\n\tstaccato.fillColor = \"black\";\n\treturn staccato;\n}\n\n/*\n * @param point - center of the tenuto dot.\n * @return Path\n */\nfunction drawTenuto (point) {\n\tconst halfWidth = Scored.config.note.head.width/2;\n\tconst tenuto = new paper.Path.Line(point.subtract(halfWidth, 0), point.add(halfWidth, 0));\n\ttenuto.strokeColor = \"black\";\n\treturn tenuto;\n}\n\nconst drawAccidental = function (accidental) {\n\tconst content = {\n\t\t\t\"#\": constants.font.accidentals.sharp,\n\t\t\t\"b\": constants.font.accidentals.flat,\n\t\t\t\"bb\": constants.font.accidentals.doubleFlat,\n\t\t\t\"x\": constants.font.accidentals.doubleSharp,\n\t\t\t\"n\": constants.font.accidentals.natural,\n\t\t}[accidental];\n\treturn new paper.PointText({\n\t\tcontent: content,\n\t\tfontFamily: 'gonville',\n\t\tfontSize: Scored.config.fontSize,\n\t\tfillColor: 'black'\n\t});\n};\n\nconst drawFlag = function (dur, stemDirection) {\n\tconst flagName = {\n\t\t\t8: \"eighth\",\n\t\t\t16: \"sixteenth\",\n\t\t\t32: \"thirtysecond\",\n\t\t\t64: \"sixtyfourth\",\n\t\t\t128: \"onehundredtwentyeighth\"\n\t\t}[dur];\n\n\tif (flagName) {\n\t\treturn new paper.PointText({\n\t\t\tcontent: constants.font.flags[flagName][stemDirection],\n\t\t\tfontFamily: 'gonville',\n\t\t\tfontSize: Scored.config.fontSize,\n\t\t\tfillColor: 'black'\n\t\t});\n\t}\n};\n\nconst flagOffsets = {up: [4, -9], down: [5, -11]};\n\nfunction getFlagOffset (point, direction) {\n\treturn point.add(flagOffsets[direction]);\n}\n\nconst drawRest = function (type) {\n\treturn new paper.PointText({\n\t\tcontent: constants.font.rests[type],\n\t\tfontFamily: 'gonville',\n\t\tfontSize: Scored.config.fontSize,\n\t\tfillColor: 'black'\n\t});\n};\n\n/*\n * @param items - <Note, Chord>[]\n * @param stemPoints - Point[] representing default stem points of the notes.\n * @return [fulcrum Point, vector Point]\n * Should this be made into two functions? Thinking here was the the value of one would affect the other.\n */\nfunction calculateBeamFulcrumAndVector (items, stemPoints, stemDirections) {\n\tlet firstPoint = stemPoints[0],\n\t\tlastPoint = stemPoints[stemPoints.length-1],\n\t\tx = firstPoint.x + ((lastPoint.x - firstPoint.x) / 2);\n\n\tlet vector = lastPoint.subtract(firstPoint).normalize();\n\tif (vector.angle < -Scored.config.maxBeamAngle) {\n\t\tvector = new paper.Point({angle: -Scored.config.maxBeamAngle, length: 1});\n\t} else if (vector.angle > Scored.config.maxBeamAngle) {\n\t\tvector = new paper.Point({angle: Scored.config.maxBeamAngle, length: 1});\n\t}\n\n\t// get stem points given minimum stem lengths\n\tlet minStemLength = Scored.config.stepSpacing * 4.5;\n\t// let minStemPoints = map(_.partialRight(defaultStemPoint, minStemLength), items, stemDirections);\n\tlet minStemPoints = map((item, stemDirection) => {\n\t\tif (isNote(item)) {\n\t\t\treturn noteUtils.defaultStemPoint(item, stemDirection, minStemLength);\n\t\t} else if (isChord(item)) {\n\t\t\treturn chordUtils.defaultStemPoint(item, stemDirection, minStemLength);\n\t\t}\n\t}, items, stemDirections);\n\t// TODO: Handle stems going different directions\n\tlet ys;\n\tif (stemDirections[0] === \"up\") {\n\t\tlet minPoint = _.min(minStemPoints, p => p.y);\n\t\tys = stemPoints.map(p => p.y < minPoint.y ? p.y : minPoint.y);\n\t} else if (stemDirections[0] === \"down\") {\n\t\tlet minPoint = _.max(minStemPoints, p => p.y);\n\t\tys = stemPoints.map(p => p.y > minPoint.y ? p.y : minPoint.y);\n\t}\n\t// y is the average of all points above the min beam point.\n\tlet fulcrum = new paper.Point(x, _.sum(ys)/ys.length);\n\n\treturn [fulcrum, vector];\n}\n\nfunction handleBeam (beam, point, duration, previousDuration, nextDuration, fulcrum, vector, direction, yDiff) {\n\tlet lastBeam = _.last(beam),\n\t\tBEAM_DIFF = [0, yDiff],\n\t\tp16;\n\n\tif (direction === \"up\") { // should use vector from stemPoint to note rather than direction string\n\t\tp16 = point.add(BEAM_DIFF);\n\t} else {\n\t\tp16 = point.subtract(BEAM_DIFF);\n\t}\n\n\t// create left flag point\n\tif (previousDuration && previousDuration < duration && (!nextDuration || nextDuration < duration)) {\n\t\tlet p = getLinePoint(p16.x - 10, fulcrum, vector),\n\t\t\tflag = direction === \"up\" ? p.add(BEAM_DIFF) : p.subtract(BEAM_DIFF);\n\n\t\tlastBeam.push(flag);\n\t}\n\n\tlastBeam.push(p16);\n\n\t// create right flag point\n\tif (nextDuration && !previousDuration && nextDuration < duration) {\n\t\tlet p = getLinePoint(p16.x + 10, fulcrum, vector),\n\t\t\tflag = direction === \"up\" ? p.add(BEAM_DIFF) : p.subtract(BEAM_DIFF);\n\t\tlastBeam.push(flag);\n\t}\n}\n\n\n// for use in beam function\nconst durationToBeams = {\n\t8: 1, 16: 2, 32: 3, 64: 4, 128: 5, 256: 6\n};\n\n/*\n * @param items - collection of the items to bar.\n * @param fulcrum - a point that the bar passes through\n * @param vector - the vector of the bar\n * @param line - String value of center line\n * @param kneeGap=5.5 unimplemented - see lilypond knee gap\n */\n /*esline-disable*/\nfunction beam (items, {line=\"b4\", fulcrum, vector, stemDirections}) {\n\n\tconst numBeams = durationToBeams[_.max(_.map(items, item => item.value))];\n\n\tconst durations = items.map(item => item.value);\n\n\tconst stemLengths = map((item, stemDirection) => {\n\t\tif (isNote(item)) {\n\t\t\treturn noteUtils.getStemLength(item, line, stemDirection);\n\t\t} else if (isChord(item)) {\n\t\t\treturn chordUtils.getStemLength(item, line, stemDirection);\n\t\t}\n\t}, items, stemDirections);\n\n\tconst stemPoints = items.map((item, i) => {\n\t\tif (isNote(item)) {\n\t\t\treturn noteUtils.defaultStemPoint(item, stemDirections[i], stemLengths[i]);\n\t\t} else if (isChord(item)) {\n\t\t\treturn chordUtils.defaultStemPoint(item, stemDirections[i], stemLengths[i]);\n\t\t}\n\t});\n\n\t// only calculate the fulcrum and vector if they aren't passed in as arguments\n\tif (fulcrum && !vector) {\n\t\t[, vector] = calculateBeamFulcrumAndVector(items, stemPoints, stemDirections);\n\t} else if (vector && !fulcrum) {\n\t\t[fulcrum,] = calculateBeamFulcrumAndVector(items, stemPoints, stemDirections);\n\t} else {\n\t\t[fulcrum, vector] = calculateBeamFulcrumAndVector(items, stemPoints, stemDirections);\n\t}\n\n\t// beams is an array of arrays of segments, beams[0] are eighth segments, beams[1] sixteenths, etc.\n\tlet beams = doTimes(numBeams, () => [[]]);\n\n\t_.reduce(items, (acc, item, i) => {\n\t\tlet point = _.last(acc),\n\t\t\tduration = durations[i],\n\t\t\tdirection = stemDirections[i],\n\t\t\tcurrent = _.last(acc),\n\t\t\t// previous = acc[i-1],\n\t\t\tpreviousDuration = durations[i-1],\n\t\t\tnextDuration = durations[i+1],\n\t\t\tnextItem = items[i+1],\n\t\t\tnext = nextItem ? nextItem.calculateStemPoint(fulcrum, vector, stemDirections[i+1]) : null;\n\n\t\t_.last(beams[0]).push(point);\n\n\t\tif (duration >= 16) {\n\t\t\thandleBeam(beams[1], current, duration, previousDuration, nextDuration, fulcrum, vector, direction, 5);\n\t\t}\n\n\t\tif (duration >= 32) {\n\t\t\thandleBeam(beams[2], current, duration, previousDuration, nextDuration, fulcrum, vector, direction, 10);\n\t\t}\n\n\t\tif (duration >= 64) {\n\t\t\thandleBeam(beams[3], current, duration, previousDuration, nextDuration, fulcrum, vector, direction, 15);\n\t\t}\n\n\t\tif (duration >= 128) {\n\t\t\thandleBeam(beams[4], current, duration, previousDuration, nextDuration, fulcrum, vector, direction, 20);\n\t\t}\n\n\t\tif (duration >= 256) {\n\t\t\thandleBeam(beams[5], current, duration, previousDuration, nextDuration, fulcrum, vector, direction, 25);\n\t\t}\n\n\t\t// Break beams\n\t\tif (duration < 16 && beams[1]) {\n\t\t\tbeams[1].push([]);\n\t\t}\n\n\t\tif (duration < 32 && beams[2]) {\n\t\t\tbeams[2].push([]);\n\t\t}\n\n\t\tif (duration < 64 && beams[3]) {\n\t\t\tbeams[3].push([]);\n\t\t}\n\n\t\tif (duration < 128 && beams[4]) {\n\t\t\tbeams[4].push([]);\n\t\t}\n\n\t\tif (duration < 256 && beams[5]) {\n\t\t\tbeams[5].push([]);\n\t\t}\n\n\t\titem.drawStem(point, direction);\n\n\t\treturn concat(acc, next);\n\t}, [items[0].calculateStemPoint(fulcrum, vector, stemDirections[0])]); // initialize the accumulator with the first point\n\n\tconst paths = _.map(_.flatten(beams), (bar) => {\n\t\treturn new paper.Path({\n\t\t\tsegments: bar,\n\t\t\tstrokeColor: \"black\",\n\t\t\tstrokeWidth: 3\n\t\t});\n\t});\n\n\t// what group should this be added to?\n\treturn new paper.Group({\n\t\tname: \"beam\",\n\t\tchildren: paths\n\t});\n}\n\n/*\n * @param - Item with a stem drawn.\n */\nfunction getStemPoint (item) {\n\tif (isNote(item)) {\n\t\treturn item.group.children[\"stem\"].segments[1].point;\n\t} else {\n\t\treturn item.group.bounds.topCenter;\n\t}\n}\n\n/*\n * @param items - array of items to notate as a tuplet.\n * @param centerLine - Point\n * @param voiceDirection - String direction of the voices stems. optional.\n */\nfunction drawTuplets (items, centerLine, voiceDirection) {\n\tconst [numerator,] = parseSignature(items[0].tuplet);\n\tconst stemPoints = _.map(items, getStemPoint);\n\tconst fromX = stemPoints[0].x - Scored.config.note.head.width/2;\n\tconst toX = _.last(stemPoints).x + Scored.config.note.head.width/2;\n\tconst distance = toX - fromX;\n\tconst direction = voiceDirection || (_.sum(_.map(stemPoints, point => point.y - centerLine.y)) >= 0 ? \"down\" : \"up\");\n\tlet yPos;\n\tif (direction === \"up\") {\n\t\tlet highestPoint = _.min(stemPoints, point => point.y);\n\t\tyPos = highestPoint.y - Scored.config.note.head.height;\n\t} else if (direction === \"down\") {\n\t\tlet lowestPoint = _.max(stemPoints, point => point.y);\n\t\tyPos = lowestPoint.y + Scored.config.note.head.height;\n\t}\n\n\tconst leftPoint = new paper.Point(fromX, yPos);\n\tconst rightPoint = new paper.Point([toX, yPos]);\n\tconst numberPosition = leftPoint.add(distance/2, 0);\n\n\tconst num = new paper.PointText({\n\t\tcontent: numerator,\n\t\tfontFamily: 'gonvillealpha',\n\t\tfontSize: Scored.config.fontSize/1.5,\n\t\tposition: numberPosition\n\t});\n\n\tconst leftDangle = (direction === \"up\") ? leftPoint.add(0, 5) : leftPoint.subtract(0, 5);\n\tconst leftBracket = new paper.Path.Line({\n\t\tsegments: [leftDangle, leftPoint, num.bounds.leftCenter]\n\t});\n\n\tconst rightDangle = (direction === \"up\") ? rightPoint.add(0, 5) : rightPoint.subtract(0, 5);\n\tconst rightBracket = new paper.Path.Line({\n\t\tsegments: [num.bounds.rightCenter, rightPoint, rightDangle]\n\t});\n\n\t// return new paper.Group({children: [line, num]});\n\treturn new paper.Group({children: [leftBracket, num, rightBracket], strokeColor: \"black\"});\n}\n\n/*\n * @param dyanmicValue - String representation of the dynamic.\n */\nfunction drawDynamic (dynamicValue) {\n\tconst dynamicText = new paper.PointText({\n\t\tcontent: dynamicValue,\n\t\tfontFamily: 'gonvillealpha',\n\t\tfontSize: Scored.config.fontSize,\n\t\tfillColor: 'black',\n\t});\n\treturn dynamicText;\n}\n\n/*\n * @param - String representation of the Chord Symbol.\n */\nfunction drawChordSymbol (value) {\n\tconst chordSymbol = new paper.PointText({\n\t\tcontent: value,\n\t\tfontFamily: 'gonvillealpha',\n\t\tfontSize: Scored.config.fontSize / 1.5,\n\t\tfillColor: \"black\"\n\t});\n\treturn chordSymbol;\n}\n\nexport {\n\tdrawLegerLines,\n\tdrawBarline,\n\tdrawLine,\n\tdrawSystemBar,\n\tdrawClef,\n\tdrawTimeSig,\n\tdrawHead,\n\tdrawDots,\n\tdrawRepeat,\n\tdrawStaccato,\n\tdrawTenuto,\n\tdrawAccidental,\n\tdrawFlag,\n\tgetFlagOffset,\n\tdrawRest,\n\tbeam,\n\tdrawTuplets,\n\tdrawDynamic,\n\tdrawChordSymbol\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/engraver.js","import _ from \"lodash\";\nimport F from \"fraction.js\";\nimport {isNote, isChord, isRest, isTimeSignature, isRepeat} from \"../types\";\n\n/*\n * @param signature - TimeSignaure or time signature value or tuplet represented as a String. ex. TimeSig({value: \"4/4\"}) or \"4/4\", \"h\"\n * @return Number[]\n */\nfunction parseSignature (signature) {\n\tconst sig = isTimeSignature(signature) ? signature.value : signature;\n\n\tif (sig === \"c\" || sig === \"h\") {\n\t\treturn [4, 4];\n\t} else {\n\t\tconst nums = sig.split(\"/\");\n\t\treturn [+nums[0], +nums[1]]; // convert strings to numbers\n\t}\n}\n\n/*\n * @return {number} - the measure number as an integer\n */\nfunction getMeasure (time=0, [beats, value]) {\n\tconst measureDuration = beats * (1/value);\n\treturn Math.floor(time/measureDuration);\n}\n\n/*\n * @param time - number\n * @param timesig - string or arrary representation of timeSig value.\n * @param offset - number representing point in time from which to calculate the beat from.\n * @return {number} - float representation\n */\nfunction getBeat (time, timeSig, offset=0) {\n\tlet [beats, value] = _.isArray(timeSig) ? timeSig : parseSignature(timeSig),\n\t\tmeasureDuration = beats * (1/value),\n\t\tbeatTime = (time - offset) % measureDuration;\n\n\treturn beatTime/(1/value);\n}\n\n/*\n * @param measures Measure[]\n * @param item - Any object with a time or measure property.\n * @return time object - object with time, measure, and beat.\n */\nfunction getTime (measures, item) {\n\tlet beat,\n\t\tmeasure = item.measure,\n\t\ttime = item.time;\n\n\tif (!_.isNumber(item.measure)) {\n\t\tmeasure = getMeasureNumber(measures, item.time);\n\t}\n\n\tif (measure >= measures.length) {\n\t\tconst lastMeasure = _.last(measures);\n\t\ttime = getMeasureDuration(lastMeasure) + lastMeasure.startsAt;\n\t}\n\n\tconst measureView = measures[measure];\n\n\t// time signatures are always at the beginning of a measure.\n\tif (isTimeSignature(item)) {\n\t\ttime = measureView.startsAt;\n\t\tbeat = 0;\n\t}\n\n\tif (!_.isNumber(item.time) && !_.isNumber(time)) {\n\t\t// const baseTime = getTimeNumber(measure, measureView.timeSig);\n\t\tconst baseTime = measureView.startsAt;\n\t\tif (_.isNumber(item.beat)) {\n\t\t\tconst [,beatType] = parseSignature(measureView.timeSig);\n\t\t\tconst beatTime = (1/beatType) * item.beat;\n\t\t\ttime = baseTime + beatTime;\n\t\t} else {\n\t\t\ttime = baseTime;\n\t\t}\n\t}\n\n\tif (measureView) {\n\t\tbeat = item.beat || getBeat(time, measureView.timeSig, measureView.startsAt);\n\t}\n\n\treturn {time, measure, beat};\n}\n\n/*\n * @param timesig - string or arrary representation of timeSig value.\n * @param offset - number representing point in time from which to calculate the beat from.\n * @return {number} - float\n */\nfunction getTimeNumber (measure, timeSig, offset=0) {\n\tlet [beats, value] = _.isArray(timeSig) ? timeSig : parseSignature(timeSig);\n\treturn measure * beats * (1/value) + offset;\n}\n\n/*\n * @param measures - array of measures.\n * @param time - number representing time of event.\n */\nfunction getMeasureNumber (measures, time) {\n\tconst measure = _.find(measures, (measure) => {\n\t\tconst measureEndsAt = measure.startsAt + getMeasureDuration(measure);\n\t\treturn time >= measure.startsAt && time < measureEndsAt;\n\t});\n\n\t// If the time isn't in the given measures then measure number will be -1.\n\t// Return the index of the last measure + 1.\n\treturn measure ? measure.value : _.last(measures).value + 1;\n}\n\n/*\n * @param measures - array of measures.\n * @param time - number representing time of event.\n */\nfunction getMeasureByTime (measures, time) {\n\treturn measures[getMeasureNumber(measures, time)];\n}\n\n/*\n * @param timeSig {String}\n */\nfunction getTimeSigDuration (timeSig) {\n\tlet [beats, value] = parseSignature(timeSig);\n\treturn beats * (1/value);\n}\n\n/*\n * @param tuplet - String representing the tuplet (ex. \"3/2\")\n * @param value - Number representing note value.\n * @return - duration of the fully realized tuplet.\n */\nfunction calculateTupletDuration (tuplet, value) {\n\tconst [,tupletDenominator] = parseSignature(tuplet);\n\treturn tupletDenominator * (1/value);\n}\n\nfunction getMeasureDuration (measure) {\n\treturn getTimeSigDuration(measure.timeSig);\n}\n\n/*\n * returns true if the first time is before or the same as the second time\n */\n // FIXME: Not sure this is right\nfunction compareTimes ({time: t1, measure: m1=0, beat: b1=0}, {time: t2, measure: m2=0, beat: b2=0}) {\n\tif (_.isNumber(t1) && _.isNumber(t2)) {\n\t\treturn t1 <= t2;\n\t} else if (m1 === m2) {\n\t\treturn b1 <= b2;\n\t} else if (m1 < m2) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}\n\nfunction compareByPosition ({measure: m1=0, beat: b1=0}, {measure: m2=0, beat: b2=0}) {\n\tif (m1 === m2) {\n\t\treturn b1 <= b2;\n\t} else {\n\t\treturn m1 < m2;\n\t}\n}\n\nfunction compareByTime ({time: t1=0}, {time: t2=0}) {\n\treturn t1 <= t2;\n}\n\nfunction equals (time1, time2) {\n\treturn time1.time === time2.time;\n}\n\nfunction splitByMeasure (events) {\n\tconst measures = _.mapValues(_.groupBy(events, function ([, ctx]) {\n\t\treturn ctx.measure || 0;\n\t}), function (measure) {\n\t\treturn _.groupBy(measure, function ([, ctx]) {\n\t\t\treturn ctx.beat;\n\t\t});\n\t});\n\n\treturn Array.prototype.concat.apply([], _.map(sortByKey(measures), sortByKey));\n}\n\nfunction splitByTime (events) {\n\treturn sortByKey(_.groupBy(events, function (ctx) {\n\t\treturn ctx.time;\n\t}));\n}\n\n/*\n * @param item - Scored item. Given an item, return the rational duration of the item;\n * @return Number\n */\nfunction calculateDuration (item) {\n\n\t// The item doesn't have a duration unless it's one of the following types.\n\tif (!(isNote(item) || isChord(item) || isRest(item) ||isRepeat(item))) return 0;\n\n\tconst s = item.tuplet ? item.tuplet.split(\"/\") : null;\n\tconst tuplet = s ? new F(s[0], s[1]) : null;\n\tconst dots = item.dots || 0;\n\n\tlet dur = new F(1, item.value);\n\n\tfor (let i = 0; i < dots; i++) {\n\t\tdur = dur.mul(1.5);\n\t}\n\n\tif (tuplet && dur) {\n\t\tdur = dur.mul(s[1]).div(s[0]);\n\t}\n\n\treturn dur;\n}\n\nfunction sortByKey (obj) {\n\tconst times = _.keys(obj);\n\n\tconst sortedTimes = _.sortBy(times, function (t) {\n\t\treturn parseFloat(t);\n\t});\n\n\treturn _.map(sortedTimes, function (time) {\n\t\treturn obj[time];\n\t});\n}\n\n/*\n * @param items - Array of items that have a duration.\n * @return Number\n */\nfunction sumDurations (items) {\n\treturn _.reduce(items, (sum, item) => {\n\t\treturn sum.add(calculateDuration(item));\n\t}, F(0)).valueOf();\n}\n\nexport function gt (t1, t2) {\n\tconst time1 = _.isObject(t1) ? t1.time : t1;\n\tconst time2 = _.isObject(t2) ? t2.time : t2;\n\treturn time1 > time2;\n}\n\nexport function lt (t1, t2) {\n\tconst time1 = _.isObject(t1) ? t1.time : t1;\n\tconst time2 = _.isObject(t2) ? t2.time : t2;\n\treturn time1 < time2;\n}\n\nexport function gte (t1, t2) {\n\tconst time1 = _.isObject(t1) ? t1.time : t1;\n\tconst time2 = _.isObject(t2) ? t2.time : t2;\n\treturn time1 >= time2;\n}\n\nexport function lte (t1, t2) {\n\tconst time1 = _.isObject(t1) ? t1.time : t1;\n\tconst time2 = _.isObject(t2) ? t2.time : t2;\n\treturn time1 <= time2;\n}\n\nconst f1 = F(1);\nconst f2 = F(1, 2);\nconst f4 = F(1, 4)\nconst f8 = F(1, 8);\nconst f16 = F(1, 16);\nconst f32 = F(1, 32);\nconst f64 = F(1, 64);\nconst f128 = F(1, 128);\nconst f256 = F(1, 256);\nconst durationTable = {\n\t// basic\n\t[f1.toFraction()]: Object.freeze({value: 1, dots: 0}),\n\t[f2.toFraction()]: Object.freeze({value: 2, dots: 0}),\n\t[f4.toFraction()]: Object.freeze({value: 4, dots: 0}),\n\t[f8.toFraction()]: Object.freeze({value: 8, dots: 0}),\n\t[f16.toFraction()]: Object.freeze({value: 16, dots: 0}),\n\t[f32.toFraction()]: Object.freeze({value: 32, dots: 0}),\n\t[f64.toFraction()]: Object.freeze({value: 64, dots: 0}),\n\t// single dot\n\t[f1.add(f2).toFraction()]: Object.freeze({value: 1, dots: 1}),\n\t[f2.add(f4).toFraction()]: Object.freeze({value: 2, dots: 1}),\n\t[f4.add(f8).toFraction()]: Object.freeze({value: 4, dots: 1}),\n\t[f8.add(f16).toFraction()]: Object.freeze({value: 8, dots: 1}),\n\t[f16.add(f32).toFraction()]: Object.freeze({value: 16, dots: 1}),\n\t[f32.add(f64).toFraction()]: Object.freeze({value: 32, dots: 1}),\n\t[f64.add(f128).toFraction()]: Object.freeze({value: 64, dots: 1}),\n\t// double dot\n\t[f1.add(f2).add(f4).toFraction()]: Object.freeze({value: 1, dots: 2}),\n\t[f2.add(f4).add(f8).toFraction()]: Object.freeze({value: 2, dots: 2}),\n\t[f4.add(f8).add(f16).toFraction()]: Object.freeze({value: 4, dots: 2}),\n\t[f8.add(f16).add(f32).toFraction()]: Object.freeze({value: 8, dots: 2}),\n\t[f16.add(f32).add(f64).toFraction()]: Object.freeze({value: 16, dots: 2}),\n\t[f32.add(f64).add(f128).toFraction()]: Object.freeze({value: 32, dots: 2}),\n\t[f64.add(f128).add(f256).toFraction()]: Object.freeze({value: 64, dots: 2}),\n}\n\n/*\n * @param abs {Number} - Duration in absolute time.\n * @return {Object} - {value, dots, tuplet};\n */\nexport function absoluteToRelativeDuration (abs) {\n\treturn durationTable[F(abs).toFraction()];\n}\n\nexport {\n\tgetTime,\n\tgetMeasure,\n\tgetMeasureByTime,\n\tgetBeat,\n\tcompareTimes,\n\tcompareByPosition,\n\tcompareByTime,\n\tgetTimeSigDuration,\n\tcalculateTupletDuration,\n\tgetMeasureDuration,\n\tgetMeasureNumber,\n\tsplitByTime,\n\tsplitByMeasure,\n\tcalculateDuration,\n\tparseSignature,\n\tsumDurations,\n\tequals\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/timeUtils.js","import paper from \"paper/dist/paper-core\";\nimport {partitionBy} from \"../utils/common\";\nimport {isNote, isChord} from \"../types\";\nimport teoria from \"teoria\";\nimport _ from \"lodash\";\n\n// for use in getSteps function\nconst noteValues = {c: 0, d: 1, e: 2, f: 3, g: 4, a: 5, b: 6};\n\n/*\n * @param n1 - String representing the value of a note.\n * @param n2 - String representing the value of a note.\n * @return - Number of visible steps on a staff as the difference between n1 and n2.\n */\nfunction getSteps (n1, n2) {\n\tlet note1 = teoria.note(n1),\n\t\tnote2 = teoria.note(n2);\n\n\tlet octaveDiff = note2.octave() - note1.octave(),\n\t\tnoteDiff = noteValues[note2.name()] - noteValues[note1.name()];\n\n\treturn (octaveDiff * 7) + noteDiff;\n}\n\n/*\n * @param note - Note to find the stem length for.\n * @param centerLineValue - String representing note value at the center line. (optional)\n * @param stemDirection - String representation of the stem direction. (optional)\n * @return - the length of the stem.\n */\nfunction getStemLength (note, centerLineValue, stemDirection) {\n\tconst octaveHeight = Scored.config.lineSpacing * 3.5;\n\n\tif (!centerLineValue) return octaveHeight;\n\n\tconst steps = getSteps(centerLineValue, note.pitch);\n\n\t// handle stem directions for notes that don't have default direction\n\tif (stemDirection === \"up\" && steps >= 0) return octaveHeight;\n\tif (stemDirection === \"down\" && steps < 0) return octaveHeight;\n\n\tconst noteDistance = steps * Scored.config.stepSpacing;\n\n\treturn Math.max(octaveHeight, Math.abs(noteDistance));\n}\n\nfunction defaultStemPoint (note, stemDirection, stemLength) {\n\tlet frm, to;\n\tif (stemDirection === \"up\") {\n\t\tfrm = note.noteHead.bounds.rightCenter.add(0, Scored.config.note.head.yOffset);\n\t\tto = frm.subtract([0, stemLength]);\n\t} else {\n\t\tfrm = note.noteHead.bounds.leftCenter.add(0, Scored.config.note.head.yOffset);\n\t\tto = frm.add([0, stemLength]);\n\t}\n\treturn to;\n}\n\n/*\n * @param items Note[]\n * @param centerLineValue - String representing center line note value\n * @return Number\n */\nfunction sumSteps (notes, centerLineValue) {\n\treturn _.sum(notes.map(note => getSteps(centerLineValue, note.pitch)));\n}\n\n/*\n * @param items <Note, Chord>[]\n * @param centerLineValue - String representing center line note value\n */\nfunction getAverageStemDirection (items, centerLineValue) {\n\tlet averageDirection = _.sum(items.map(item => {\n\t\tif (isNote(item)) {\n\t\t\treturn getSteps(centerLineValue, item.pitch);\n\t\t} else if (isChord(item)) {\n\t\t\treturn sumSteps(item.children, centerLineValue);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t})) < 0 ? \"up\" : \"down\";\n\n\treturn items.map(() => averageDirection);\n}\n\n// function slur (items) {\n// \tconst firstItem = items[0];\n// \tconst lastItem = _.last(items);\n// \tconst firstStem = firstItem.getStemDirection();\n// \tconst begin = getSlurPoint(firstItem, null, firstStem);\n// \tconst handle = getSlurHandle(firstStem);\n// \tconst end = getSlurPoint(lastItem, handle);\n// \t\t// center = begin.add(end.subtract(begin).divide(2)).add([0, 4]);\n//\n// \tconst path = new paper.Path({\n// \t\tsegments: [begin, end],\n// \t\tstrokeColor: \"black\",\n// \t\tstrokeWidth: 2\n// \t});\n//\n// \tpath.segments[0].handleOut = handle;\n// \tpath.segments[1].handleIn = handle;\n//\n// \treturn path;\n// }\n\nfunction slur (begin, end, handle) {\n\n\tconst path = new paper.Path({\n\t\tsegments: [begin, end],\n\t\tstrokeColor: \"black\",\n\t\tstrokeWidth: 2\n\t});\n\n\tpath.segments[0].handleOut = handle;\n\tpath.segments[1].handleIn = handle;\n\n\treturn path;\n}\n\nconst arrayToString = (arr) => _.reduce(arr, (acc, c) => acc + c, \"\");\n\n/*\n * @param pitch - String representation of note pitch.\n * @return - {name, accidental, octave}\n */\nconst parsePitch = _.memoize((pitch) => {\n\tlet [nameAndAccidental, octave] = partitionBy(pitch, (c) => !!_.isNaN(Number.parseInt(c)));\n\n\tlet name = _.first(nameAndAccidental),\n\t\taccidental = arrayToString(nameAndAccidental.slice(1));\n\n\treturn Object.freeze({name, accidental, octave: arrayToString(octave)});\n});\n\n/*\n * @param key - Key object.\n * @param pitch - parsed pitch.\n */\nfunction hasPitch(key, {name, accidental}) {\n\tif (!key) {\n\t\treturn false;\n\t}\n\tlet pitches = _.map(key.getPitches(), parsePitch);\n\treturn !!_.findWhere(pitches, {name, accidental});\n}\n\nexport {\n\tgetStemLength,\n\tdefaultStemPoint,\n\tslur,\n\tgetSteps,\n\tgetAverageStemDirection,\n\tparsePitch,\n\thasPitch\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/note.js","import paper from \"paper/dist/paper-core\";\nimport _ from \"lodash\";\nimport * as timeUtils from \"./timeUtils\";\nimport constants from \"../constants\";\nimport {isNote, isDynamic, isMarking} from \"../types\";\n\nconst noteNameToDegreeObj = {\n\t\t\"c\": 0,\n\t\t\"d\": 1,\n\t\t\"e\": 2,\n\t\t\"f\": 3,\n\t\t\"g\": 4,\n\t\t\"a\": 5,\n\t\t\"b\": 6\n\t},\n\tclefBases = {\n\t\ttreble: {pitch: \"C\", degree: 0, octave: 5, offset: 3},\n\t\tbass:   {pitch: \"F\", degree: 3, octave: 3, offset: 2},\n\t\talto:   {pitch: \"C\", degree: 0, octave: 4, offset: 4},\n\t\ttenor:  {pitch: \"C\", degree: 0, octave: 4, offset: 2}\n\t},\n\tlineNamesObj = {\n\t\ttreble: [\"f\", \"e\", \"d\", \"c\", \"b\", \"a\", \"g\", \"f\", \"e\"],\n\t\tbase:   [\"a\", \"g\", \"f\", \"e\", \"d\", \"c\", \"b\", \"a\", \"g\"],\n\t\talto:   [\"g\", \"f\", \"e\", \"d\", \"c\", \"b\", \"a\", \"g\", \"f\"],\n\t\ttenor:  [\"e\", \"d\", \"c\", \"b\", \"a\", \"g\", \"f\", \"e\", \"d\"]\n\t};\n\n\nfunction noteNameToDegree (name) {\n\treturn noteNameToDegreeObj[name];\n}\n\nfunction getClefBase (clef) {\n\treturn clefBases[clef];\n}\n\n/*\n * @return {Array}\n   treble:\n \tf---\n \te\n \td---\n \tc\n \tb---   => [\"f\", \"e\", \"d\", \"c\", \"b\", \"a\", \"g\", \"f\", \"e\"]\n \ta\n \tg---\n \tf\n \te---\n */\nfunction getLineNames (clef) {\n\treturn lineNamesObj[clef];\n}\n\n/*\n * @param note {String}\n */\nfunction calculateAccidentalYpos (degree, step) {\n\treturn degree * step;\n}\n\n/*\n * @param note {Note}\n * @param set {Number} - distance between each note\n */\nfunction calculateNoteYpos (note, step, clefBase, offset=0) {\n\tconst octave = note.note.octave();\n\tconst degree = noteNameToDegree(note.note.name());\n\t// 4 is the offset (number of steps) of the center line.\n\t// the clefBase offset it subtracted to normalize to the centerline, since the note is rendered from the centerLine.\n\tconst diffY = (clefBase.degree + (clefBase.octave * 7)) - (degree + (octave * 7)) - (4 - clefBase.offset);\n\treturn (diffY + offset) * step;\n}\n\n/*\n * @return {Point} the position to draw the font so the center of the noteHead is at the given position.\n */\nfunction getNoteHeadOffset (position) {\n\treturn new paper.Point(position).subtract(0, Scored.config.note.head.yOffset);\n}\n\n/*\n * @param position {Point} - the center of the PointText\n * @return {Point} The position of the center of the noteHead.\n */\nfunction getNoteHeadCenter (position) {\n\treturn position.add(0, Scored.config.note.head.yOffset);\n}\n\n/*\n * @param note - Note\n * @return Point\n */\nfunction getArticulationPoint (note, stemDirection) {\n\tconst offset = stemDirection === \"up\" ? Scored.config.layout.lineSpacing : -Scored.config.layout.lineSpacing;\n\treturn note.noteHead.bounds.center.add(0, Scored.config.note.head.yOffset + offset);\n}\n\n/*\n * Could probably use a better name.\n * takes an array of items and translates them so the right bound of the left item lines up with the\n * left bound of the right item.\n */\nfunction lineup (items) {\n\tlet left, right, offset;\n\t// items needs to have at least two items.\n\tfor (let i = 1; i < items.length; i++) {\n\t\tleft = items[i-1]; right = items[i];\n\t\toffset = (right.bounds.center.x - right.bounds.left) +\n\t\t\t\t(left.bounds.right - left.bounds.center.x);\n\t\tright.position.x = left.position.x + offset;\n\t}\n}\n\n/*\n * Places the left bound of the item at cursor.\n * @param cursor - Number\n * @param item - Scored item.\n */\nfunction placeAt (cursor, item) {\n\tif (isNote(item) && item.note.accidental()) {\n\t\tconst offset = (item.noteHead.bounds.center.x - item.noteHead.bounds.left);\n\t\titem.group.position.x = cursor + offset;\n\t} else if (isDynamic(item)){\n\t\tconst xOffset = 5;\n\t\titem.group.bounds.center.x = cursor + xOffset;\n\t} else {\n\t\tconst offset = (item.group.bounds.center.x - item.group.bounds.left);\n\t\titem.group.position.x = cursor + offset;\n\t}\n}\n\nconst offsets = {\n\t[constants.type.clef]: function ({value}) {\n\t\treturn {\n\t\t\ttreble: Scored.config.note.head.width * 1.5,\n\t\t\tbass: (Scored.config.note.head.width * 1.5) - 17,\n\t\t\talto: (Scored.config.note.head.width * 1.5) - 9,\n\t\t\ttenor: (Scored.config.note.head.width * 1.5) - 18\n\t\t}[value];\n\t},\n\t[constants.type.key]: function () {\n\t\treturn (Scored.config.note.head.width * 1.5) - 8;\n\t},\n\t[constants.type.timeSig]: function ({value}) {\n\t\tif (value === \"c\" || value === \"h\") {\n\t\t\treturn -9;\n\t\t} else {\n\t\t\treturn Scored.config.note.head.width * 1.5;\n\t\t}\n\t},\n\t[constants.type.rest]: function ({value}) {\n\t\tif (value === 1) {\n\t\t\treturn 0;\n\t\t} else {\n\t\t\treturn Scored.config.layout.lineSpacing;\n\t\t}\n\t},\n\t[constants.type.chordSymbol]: function () {\n\t\treturn -16;\n\t},\n\t[constants.type.repeat]: function () {\n\t\treturn 0;\n\t}\n};\n\n/*\n *\n */\nfunction getYOffset (item) {\n\tconst offsetFn = offsets[item.type] || (() => 0);\n\n\treturn offsetFn(item);\n}\n\n/*\n * Aligns the notes so they are all at the same x position.\n * @param xPos - Number\n * @param notes - <Note, Chord>[]\n */\nfunction alignNoteHeads (xPos, items) {\n\t_.each(items, item => {\n\t\tlet note = isNote(item) ? item : item.children[0];\n\t\tlet offset = xPos - note.noteHead.bounds.center.x;\n\n\t\titem.group.translate([offset, 0]);\n\t});\n}\n\n// The most common shortest duration is determined as follows: in every measure, the shortest duration is determined.\n// The most common shortest duration is taken as the basis for the spacing, with the stipulation that this shortest\n// duration should always be equal to or shorter than an 8th note.\n/*\n * @param notes\n */\nfunction commonShortestDuration () {\n\n}\n\n/*\n * returns the amount to multiply note head width by. Doubles\n * @param shortestDuration - Number representing\n */\nfunction getStaffSpace (shortestDuration, item) {\n\tconst duration = timeUtils.calculateDuration(item);\n\tif (duration < shortestDuration) {\n\t\treturn 1;\n\t} else {\n\t\treturn 1 + Math.log2(duration / shortestDuration);\n\t}\n}\n\n// TODO: get correct values for all offsets.\nconst accidentalTopOffsets = {};\naccidentalTopOffsets[constants.font.accidentals.sharp] = 10;\naccidentalTopOffsets[constants.font.accidentals.flat] = 10;\naccidentalTopOffsets[constants.font.accidentals.doubleFlat] = 10;\naccidentalTopOffsets[constants.font.accidentals.doubleSharp] = 10;\naccidentalTopOffsets[constants.font.accidentals.natural] = 10;\n\n/*\n * The accidentals group bounds don't align exactly to it's perimeter.\n * This function handles the difference.\n */\nfunction getAccidentalTop (accidental) {\n\treturn accidental.bounds.top + accidentalTopOffsets[accidental.content];\n}\n\nfunction getAccidentalBottom (accidental) {\n\treturn accidental.bounds.bottom;\n}\n\n/*\n * @param note - Note\n * @return Point - the default position to place the accidental for the given note.\n */\nfunction calculateDefaultAccidentalPosition (note) {\n\treturn getNoteHeadCenter(note.noteHead.bounds.center).add(-Scored.config.note.accidental.xOffset, Scored.config.note.accidental.yOffset);\n}\n\n/*\n * @param items - RenderedItem[]\n * @param shortestDuration - Number\n * @return - pixel length of the time frame.\n */\nfunction calculateTimeLength (items, shortestDuration) {\n\tconst noteHeadWidth = Scored.config.note.head.width;\n\tconst [markings, voiceItems] = _.partition(items, isMarking);\n\tconst {\n\t\tclef: clefs,\n\t\tkey: keys,\n\t\ttimeSig: timeSigs\n\t} = _.groupBy(markings, item => item.type);\n\tconst getMarkingWidth = (marking) => marking.group.bounds.width + noteHeadWidth;\n\tconst clefLength = clefs ? _.max(clefs.map(getMarkingWidth)) : 0;\n\tconst keyLength = keys ? _.max(keys.map(getMarkingWidth)) : 0;\n\tconst timeSigLength = timeSigs ? _.max(timeSigs.map(getMarkingWidth)) : 0;\n\tconst markingsLength = _.sum([clefLength, keyLength, timeSigLength]);\n\t// dynamics should not affect measure length. remove them.\n\tconst voiceItemLengths = _.map(_.reject(voiceItems, isDynamic), item => { // these should use the same calculations as cursor\n\t\treturn item.group.bounds.width + (noteHeadWidth * getStaffSpace(shortestDuration, item));\n\t});\n\tconst totalVoiceItemsLength = voiceItemLengths.length ? _.min(voiceItemLengths) : 0;\n\n\treturn [markingsLength, totalVoiceItemsLength];\n}\n\nfunction calculateCursor (item) {\n\tconst noteHeadWidth = Scored.config.note.head.width;\n\tconst shortestDuration = Scored.config.shortestDuration;\n\n\tlet cursor = 0;\n\n\tif (isMarking(item)) {\n\t\t// FIXME: needs a little work for perfect positioning\n\t\tcursor = item.group.children.length ? item.group.bounds.width + noteHeadWidth : 0;\n\t} else if (item.type === constants.type.measure) {\n\t\tconst leftBarline = item.barlines[0];\n\t\tcursor = leftBarline.position.x + noteHeadWidth;\n\t} else {\n\t\tcursor = item.group.bounds.width + (noteHeadWidth * getStaffSpace(shortestDuration, item));\n\t}\n\n\treturn cursor;\n}\n\nfunction placeMarking (lineCenter, cursor, marking) {\n\tmarking.group.translate(lineCenter.add([0, getYOffset(marking)]));\n\tplaceAt(cursor, marking);\n\t// since keys of C and a have no children calculateCursor return undefined.\n\treturn calculateCursor(marking);\n}\n\n/*\n * Increases the new cursors position by the scale factor.\n */\nfunction scaleCursor (scale, oldCursor, newCursor) {\n\treturn oldCursor + (newCursor - oldCursor) * scale;\n}\n\nexport {\n\tcalculateNoteYpos,\n\tcalculateAccidentalYpos,\n\tgetNoteHeadOffset,\n\tgetNoteHeadCenter,\n\tgetClefBase,\n\tgetLineNames,\n\tlineup,\n\tgetYOffset,\n\tcommonShortestDuration,\n\tgetStaffSpace,\n\tcalculateCursor,\n\tplaceAt,\n\talignNoteHeads,\n\tgetAccidentalTop,\n\tgetAccidentalBottom,\n\tcalculateDefaultAccidentalPosition,\n\tcalculateTimeLength,\n\tplaceMarking,\n\tscaleCursor,\n\tgetArticulationPoint\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/placement.js","import paper from \"paper/dist/paper-core\";\nimport _ from \"lodash\";\nimport {getTime} from \"./timeUtils\";\nimport {isNote} from \"../types\";\nimport * as placement from \"./placement\";\nimport {concat} from \"./common\";\n\nconst {calculateTimeLength} = placement;\n\nfunction lineGetter (name) {\n\treturn function (lineGroup) {\n\t\tif (lineGroup instanceof paper.PlacedSymbol) {\n\t\t\treturn lineGroup.symbol.definition.children[name].segments[0].point;\n\t\t} else {\n\t\t\treturn lineGroup.children[name].segments[0].point;\n\t\t}\n\t};\n}\n\nconst f = lineGetter(\"F\");\nconst d = lineGetter(\"D\");\nconst b = lineGetter(\"B\");\nconst g = lineGetter(\"G\");\nconst e = lineGetter(\"E\");\n\nfunction getMeasure (line) {\n\tconst positions = _.map(line.children, measure => measure.barlines[0].position);\n\treturn function (point) {\n\t\tconst diffs = _.map(positions, p => point.x - p.x);\n\t\treturn line.children[_.indexOf(diffs, _.min(_.filter(diffs, diff => diff >= 0)))];\n\t};\n}\n\n/*\n * @param line - Line\n * @param voices - Voice[]\n * @param start - Number start time of the line.\n * @param end - Number end time of the line\n * @return - items of each voice that are on the line. Item[][] - first array is the top voice, second array is the lower voice.\n */\nfunction getLineItems (line, voices, start, end) {\n    return _.reduce(line.voices, (acc, voiceConfig) => {\n        if (_.isString(voiceConfig)) {\n            const voice = _.find(voices, voice => voice.name === voiceConfig);\n            return voice ? concat(acc, voice.getTimeFrame(start, end, true)) : acc;\n        } else if (_.isObject(voiceConfig)) {\n            // TODO: get the time frame from the voice\n        } else {\n            return acc;\n        }\n    }, []);\n}\n\n/*\n * @param line - Line\n * @param measures - Measure[]\n * @param voices - Item[]\n * @return [...{time, items, context}] Array ordered by time\n */\nfunction getTimeContexts (line, measures, items) {\n\tconst allItems = line.markings.concat(items);\n\n\tconst times = _.map(_.groupBy(allItems, (item) => {\n\t\treturn getTime(measures, item).time;\n\t}), (v) => {\n\t\tconst time = getTime(measures, v[0]);\n\t\treturn {time, items: v, context: line.contextAt(time)};\n\t});\n\n\tconst sortedTimes = _.sortBy(times, ({time}) => time.time);\n\n\treturn sortedTimes;\n}\n\nfunction calculateMeasureLengths (measures, times, noteHeadWidth, shortestDuration) {\n\t// group items by measure.\n\tconst itemsInMeasure = _.groupBy(times, (item) => {\n\t\treturn item.time.measure;\n\t});\n\n\tconst measureLengths = _.map(measures, (measure) => {\n\t\t// sum the length of all times in the measure.\n\t\tconst [markingsLength, durationedLength] = _.reduce(itemsInMeasure[measure.value], (acc, {items}) => {\n\t\t\t// calculate the length of each time in the measure and sum the markings and duration items\n\t\t\tconst [marking, durationed] = calculateTimeLength(items, shortestDuration);\n\t\t\treturn [acc[0] + marking, acc[1] + durationed];\n\t\t}, [0, 0]);\n\n\t\t// use the default measure length if there are no durationed items in the measure\n\t\treturn markingsLength + (durationedLength ? durationedLength : Scored.config.measure.length) + noteHeadWidth;\n\t});\n\n\treturn measureLengths;\n}\n\nfunction positionMarkings (lineCenter, cursor, {items}) {\n    const {\n\t\tclef: clefs,\n\t\tkey: keys,\n\t\ttimeSig: timeSigs,\n\t\trepeat: repeats\n\t} = _.groupBy(items, item => item.type);\n\n\t// place the markings\n\tif (clefs) cursor += placement.placeMarking(lineCenter, cursor, clefs[0]);\n\tif (keys) cursor += placement.placeMarking(lineCenter, cursor, keys[0]);\n\tif (timeSigs) cursor += placement.placeMarking(lineCenter, cursor, timeSigs[0]);\n\tif (repeats) cursor += placement.placeMarking(lineCenter, cursor, repeats[0]);\n\n    return cursor;\n}\n\nexport {\n\tf,\n\td,\n\tb,\n\tg,\n\te,\n\tgetMeasure,\n\tgetLineItems,\n\tgetTimeContexts,\n\tcalculateMeasureLengths,\n\tpositionMarkings\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/line.js","import paper from \"paper/dist/paper-core\";\nimport {drawClef} from \"../engraver\";\nimport constants from \"../constants\";\nimport {clefEquals} from \"../utils/equality\";\n\nconst TYPE = constants.type.clef;\n\nfunction Clef ({value=\"treble\", measure, beat}) {\n\tthis.value = value;\n\tthis.measure = measure;\n\tthis.beat = beat;\n}\n\nClef.prototype.type = TYPE;\n\nClef.prototype.render = function () {\n\tconst margin = {\n\t\ttop: 0,\n\t\tleft: 2,\n\t\tbottom: 0,\n\t\tright: 7\n\t};\n\n\tconst group = this.group = new paper.Group({\n\t\tname: TYPE\n\t});\n\n\tgroup.addChild(drawClef(this.value, margin));\n\tgroup.position = [0, 0];\n\n\treturn group;\n};\n\nClef.prototype.equals = function (clef) {\n\treturn clefEquals(this, clef);\n};\n\nconst centerLineValues = {\n\ttreble: \"b4\",\n\tbass: \"d3\",\n\talto: \"c4\",\n\ttenor: \"a4\"\n};\n\n/*\n * @param Clef\n * @return String - note value of the center line.\n */\nexport function getCenterLineValue (clef) {\n\treturn centerLineValues[clef.value];\n}\n\nexport default Clef;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Clef.js","// Note coordinates [octave, fifth] relative to C\nmodule.exports = {\n  notes: {\n    c: [0, 0],\n    d: [-1, 2],\n    e: [-2, 4],\n    f: [1, -1],\n    g: [0, 1],\n    a: [-1, 3],\n    b: [-2, 5],\n    h: [-2, 5]\n  },\n\n  intervals: {\n    unison: [0, 0],\n    second: [3, -5],\n    third: [2, -3],\n    fourth: [1, -1],\n    fifth: [0, 1],\n    sixth: [3, -4],\n    seventh: [2, -2],\n    octave: [1, 0]\n  },\n\n  intervalFromFifth: ['second', 'sixth', 'third', 'seventh', 'fourth',\n                         'unison', 'fifth'],\n\n  intervalsIndex: ['unison', 'second', 'third', 'fourth', 'fifth',\n                      'sixth', 'seventh', 'octave', 'ninth', 'tenth',\n                      'eleventh', 'twelfth', 'thirteenth', 'fourteenth',\n                      'fifteenth'],\n\n// linaer index to fifth = (2 * index + 1) % 7\n  fifths: ['f', 'c', 'g', 'd', 'a', 'e', 'b'],\n  accidentals: ['bb', 'b', '', '#', 'x'],\n\n  sharp: [-4, 7],\n  A4: [3, 3],\n\n  durations: {\n    '0.25': 'longa',\n    '0.5': 'breve',\n    '1': 'whole',\n    '2': 'half',\n    '4': 'quarter',\n    '8': 'eighth',\n    '16': 'sixteenth',\n    '32': 'thirty-second',\n    '64': 'sixty-fourth',\n    '128': 'hundred-twenty-eighth'\n  },\n\n  qualityLong: {\n    P: 'perfect',\n    M: 'major',\n    m: 'minor',\n    A: 'augmented',\n    AA: 'doubly augmented',\n    d: 'diminished',\n    dd: 'doubly diminished'\n  },\n\n  alterations: {\n    perfect: ['dd', 'd', 'P', 'A', 'AA'],\n    minor: ['dd', 'd', 'm', 'M', 'A', 'AA']\n  },\n\n  symbols: {\n    'min': ['m3', 'P5'],\n    'm': ['m3', 'P5'],\n    '-': ['m3', 'P5'],\n\n    'M': ['M3', 'P5'],\n    '': ['M3', 'P5'],\n\n    '+': ['M3', 'A5'],\n    'aug': ['M3', 'A5'],\n\n    'dim': ['m3', 'd5'],\n    'o': ['m3', 'd5'],\n\n    'maj': ['M3', 'P5', 'M7'],\n    'dom': ['M3', 'P5', 'm7'],\n    'ø': ['m3', 'd5', 'm7'],\n\n    '5': ['P5']\n  },\n\n  chordShort: {\n    'major': 'M',\n    'minor': 'm',\n    'augmented': 'aug',\n    'diminished': 'dim',\n    'half-diminished': '7b5',\n    'power': '5',\n    'dominant': '7'\n  },\n\n  stepNumber: {\n    'unison': 1,\n    'first': 1,\n    'second': 2,\n    'third': 3,\n    'fourth': 4,\n    'fifth': 5,\n    'sixth': 6,\n    'seventh': 7,\n    'octave': 8,\n    'ninth': 9,\n    'eleventh': 11,\n    'thirteenth': 13\n  },\n\n  // Adjusted Shearer syllables - Chromatic solfege system\n  // Some intervals are not provided for. These include:\n  // dd2 - Doubly diminished second\n  // dd3 - Doubly diminished third\n  // AA3 - Doubly augmented third\n  // dd6 - Doubly diminished sixth\n  // dd7 - Doubly diminished seventh\n  // AA7 - Doubly augmented seventh\n  intervalSolfege: {\n    'dd1': 'daw',\n    'd1': 'de',\n    'P1': 'do',\n    'A1': 'di',\n    'AA1': 'dai',\n    'd2': 'raw',\n    'm2': 'ra',\n    'M2': 're',\n    'A2': 'ri',\n    'AA2': 'rai',\n    'd3': 'maw',\n    'm3': 'me',\n    'M3': 'mi',\n    'A3': 'mai',\n    'dd4': 'faw',\n    'd4': 'fe',\n    'P4': 'fa',\n    'A4': 'fi',\n    'AA4': 'fai',\n    'dd5': 'saw',\n    'd5': 'se',\n    'P5': 'so',\n    'A5': 'si',\n    'AA5': 'sai',\n    'd6': 'law',\n    'm6': 'le',\n    'M6': 'la',\n    'A6': 'li',\n    'AA6': 'lai',\n    'd7': 'taw',\n    'm7': 'te',\n    'M7': 'ti',\n    'A7': 'tai',\n    'dd8': 'daw',\n    'd8': 'de',\n    'P8': 'do',\n    'A8': 'di',\n    'AA8': 'dai'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/teoria/lib/knowledge.js","import _ from \"lodash\";\nimport {parsePitch, hasPitch} from \"./note\";\nimport {partitionBy} from \"./common\";\n\n/*\n * Converts accidental representations to a consistent representation.\n * @param accidental - String.\n * @return String\n */\nfunction normalize (accidental) {\n\tif (accidental === \"\") {\n\t\treturn \"n\";\n\t}\n\n\tif (accidental === \"##\") {\n\t\treturn \"x\";\n\t}\n\n\treturn accidental;\n}\n/*\n * Function for comparison of accidentals with different representation formats. ie. \"n\" === \"\".\n * @param a1 - accidental String.\n * @param a2 - accidental String.\n * @return true if accidentals are equal false otherwise.\n */\nfunction equal (a1, a2) {\n\treturn normalize(a1) === normalize(a2);\n}\n\n/*\n * @param {name, accidental, octave} - parsed representation of the pitches accidental.\n * @param accidentals - list of parsed accidentals already in the context.\n * @param key - Key object. If no key is passed the hasPitch function treats it as C major.\n * @return - String representation of accidental that needs to be rendered. or undefined if no accidental to be rendered.\n */\nfunction getAccidental ({name, accidental, octave}, accidentals, key) {\n\t// get the accidentals on the diatonic pitch.\n\tlet [affect] = _.filter(accidentals, (a) => a.name === name && a.octave === octave);\n\n\t// Cases\n\t// - pitch exists in key.\n\t//\t\t- no affects match = return undefined\n\t//\t\t- affects match\n\t//\t\t\t- affects.accidental === pitch.accidental = return undefined\n\t//\t\t\t- affects.accidental !== pitch.accidental = return pitch.accidental\n\t// - pitch doesn't exist in key.\n\t//\t\t- no affects match = return pitch.accidental.\n\t//\t\t- affects match\n\t//\t\t\t- affect.accidental === pitch.accidental = return undefined\n\t//\t\t\t- affect.accidental !== pitch.accidental = return pitch.accidental.\n\n\tif (hasPitch(key, {name, accidental, octave})) {\n\t\tif (affect) {\n\t\t\tif (equal(affect.accidental, accidental)) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\treturn normalize(accidental);\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t} else {\n\t\tif (affect) {\n\t\t\tif (equal(affect.accidental, accidental)) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\treturn normalize(accidental);\n\t\t\t}\n\t\t} else {\n\t\t\treturn normalize(accidental);\n\t\t}\n\t}\n}\n\nconst dropAccidental = _.memoize(parsedPitch => {\n\tconst {name, octave} = parsedPitch;\n\treturn Object.freeze({name, octave});\n}, ({name, octave}) => \"\" + name + octave);\n\n/*\n * @param c1 - first context, lower precedence.\n * @param c2 - second context, higher precedence.\n * @return - accidental context. combination of c1 and c2. unordered.\n */\nfunction createAccidentalContext (c1, c2) {\n\tconst diatonics1 = _.map(c1, dropAccidental),\n\t\tdiatonics2 = _.map(c2, dropAccidental);\n\n\t// 1. union of diatonics1 diatonics2 - intersection of diatonics1 diatonics2\n\treturn _.union(\n\t\t_.map(_.difference(_.union(diatonics1, diatonics2), _.intersection(diatonics1, diatonics2)),\n\t\t\t(diatonic) => {\n\t\t\t\tlet accidental = _.findWhere(c2, diatonic);\n\t\t\t\tif (accidental) {\n\t\t\t\t\treturn accidental;\n\t\t\t\t} else {\n\t\t\t\t\treturn _.findWhere(c1, diatonic);\n\t\t\t\t}\n\t\t\t}),\n\t\tc2);\n}\n\nfunction createAccidentalContexts (times) {\n\tconst contexts = new Array(times.length);\n\tcontexts[0] = [];\n\tfor (let i = 0; i < times.length - 1; i++) {\n\t\tlet {note: notes=[], chord: chords=[]} = _.groupBy(times[i].items, item => item.type);\n\t\tlet chordNotes = _.reduce(chords, (acc, chord) => acc.concat(chord.children), []);\n\t\tlet pitches = _.map(notes.concat(chordNotes), ({pitch}) => parsePitch(pitch));\n\t\tcontexts[i + 1] = createAccidentalContext(contexts[i], pitches);\n\t}\n\treturn contexts;\n}\n\n/*\n * @param times - array describing the rendering context as returned from getTimeContexts.\n * @return String[] - Array with the notes for which accidentals already exist in the measure.\n */\nfunction getAccidentalContexts (times) {\n\tlet measures = partitionBy(times, ({time}) => time.measure);\n\treturn _.flatten(_.map(measures, createAccidentalContexts));\n}\n\nexport {\n    getAccidental,\n\tcreateAccidentalContext,\n    getAccidentalContexts\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/accidental.js","import paper from \"paper/dist/paper-core\";\nimport teoria from \"teoria\";\nimport _ from \"lodash\";\n\nimport * as engraver from \"../engraver\";\nimport {getLinePoint} from \"../utils/geometry\";\nimport * as placement from \"../utils/placement\";\nimport * as noteUtils from \"../utils/note\";\nimport {getAccidental} from \"../utils/accidental\";\nimport constants from \"../constants\";\nimport {getCenterLineValue} from \"./Clef\";\nimport {isEven} from \"../utils/common\";\nimport {noteEquals} from \"../utils/equality\";\n\nconst TYPE = constants.type.note;\n\n/*\n * Context contains all of the information that come from parsing of music json.\n * Only items on the context will be saved back to the music json.\n * All other properties on the view will need to be calculated at runtime.\n */\nfunction Note ({pitch, pitchClass=\"a\", octave=4, value=4, dots=0, slur, tuplet, time, staccato, tenuto, portato, voice}) {\n\n\tthis.pitch = pitch || (pitchClass + octave);\n\tthis.pitchClass = pitchClass;\n\tthis.octave = this.octave;\n\t// FIXME: doesn't get cloned. Possible bugs could result.\n\tthis.note = teoria.note(this.pitch, {value: value, dots: dots});\n\tthis.value = value;\n\tthis.dots = dots;\n\tthis.tuplet = tuplet;\n\tthis.time = time;\n\tthis.voice = voice;\n\tthis.slur = slur;\n\n\t// articulations\n\tthis.staccato = staccato;\n\tthis.tenuto = tenuto;\n\tthis.portato = portato;\n}\n\nNote.prototype.type = TYPE;\n\nNote.render = function (note, context={}) {\n\tlet group = note.render(context);\n\tNote.renderAccidental(note, context.accidentals, context.key);\n\tnote.renderStem();\n\treturn group;\n};\n\nNote.renderAccidental = function (note, accidentals, key) {\n\tlet parsedPitch = noteUtils.parsePitch(note.pitch);\n\tlet accidental = key ? getAccidental(parsedPitch, accidentals, key) : parsedPitch.accidental;\n\tif (!_.isUndefined(accidental)) {\n\t\tlet position = placement.calculateDefaultAccidentalPosition(note);\n\t\tlet accidentalGroup = note.drawAccidental(accidental);\n\t\taccidentalGroup.translate(position);\n\t}\n};\n\nNote.renderDots = function (note, clef) {\n\tif (note.dots) {\n\t\tnote.drawDots(note.dots, clef);\n\t}\n};\n\nNote.prototype.renderStem = function (centerLineValue, stemDirection) {\n\tif (this.needsStem()) {\n\t\tstemDirection = stemDirection || this.getStemDirection(centerLineValue);\n\t\tconst stemPoint = noteUtils.defaultStemPoint(this, stemDirection, noteUtils.getStemLength(this, centerLineValue, stemDirection));\n\t\tthis.drawStem(stemPoint, stemDirection);\n\t\tthis.drawFlag();\n\t}\n};\n\nNote.prototype.render = function () {\n\tconst group = this.group = new paper.Group({\n\t\tname: TYPE\n\t});\n\n\t// xPos and yPos are the center of the font item, not the noteHead. placement will take care of handling the offset for now.\n\tconst offset = placement.getNoteHeadOffset([0, 0]);\n\tconst noteHead = this.noteHead = engraver.drawHead(1/this.value);\n\tnoteHead.position = offset;\n\n\tgroup.addChild(noteHead); // commenting this line removed the Group mem leak.\n\n\treturn group;\n};\n\n/*\n * @return Boolean - true if the note needs a stem drawn, False otherwise.\n */\nNote.prototype.needsStem = function () {\n\treturn this.note.duration.value >= 2;\n};\n\n/*\n * @return Boolean - true if the note needs a flag drawn, False otherwise.\n */\nNote.prototype.needsFlag = function () {\n\treturn this.note.duration.value >= 8;\n};\n\nNote.prototype.drawLegerLines = function (centerLine, lineSpacing) {\n\tconst legerLines = engraver.drawLegerLines(this.noteHead, centerLine, lineSpacing);\n\tif (legerLines){\n\t\tthis.group.addChild(legerLines);\n\t}\n};\n\nNote.prototype.drawGroupBounds = function () {\n\tconst rect = new paper.Rectangle(this.group.bounds);\n\trectangle.right += 5;\n\n\tconst rectangle = new paper.Path.Rectangle({\n\t\tname: \"bounds\",\n\t\trectangle: rect\n\t});\n\trectangle.fillColor = \"#FFF\"; // create a fill so the center can be clicked\n\trectangle.opacity = 0;\n\n\tthis.group.insertChild(0, rectangle);\n};\n\nNote.prototype.drawStem = function (to, stemDirection) {\n\tlet frm, stem;\n\n\tif (stemDirection === \"up\") {\n\t\tthis.stemDirection = \"up\";\n\t\tfrm = this.noteHead.bounds.rightCenter.add(0, Scored.config.note.head.yOffset);\n\t} else {\n\t\tthis.stemDirection = \"down\";\n\t\tfrm = this.noteHead.bounds.leftCenter.add(0, Scored.config.note.head.yOffset);\n\t}\n\n\tstem = new paper.Path.Line({\n\t\tname: \"stem\",\n\t\tfrom: frm,\n\t\tto: to,\n\t\tstrokeColor: \"black\",\n\t\tstrokeWidth: 2\n\t});\n\n\tthis.group.addChild(stem);\n\n\treturn stem;\n};\n\n/*\n * The Stem must already be rendered for this to work.\n * @return paper.Group\n */\nNote.prototype.drawFlag = function () {\n\tlet dur = this.value,\n\t\tstem = this.group.children.stem;\n\n\t// let flagSymbol = engraver.drawFlag(dur, this.stemDirection);\n\tconst flag = engraver.drawFlag(dur, this.stemDirection);\n\n\tif (flag) {\n\t\tflag.position = engraver.getFlagOffset(stem.segments[1].point, this.stemDirection);\n\t\tthis.group.addChild(flag);\n\t}\n\n\treturn flag;\n};\n\nNote.prototype.drawAccidental = function (accidental) {\n\tconst accidentalGroup = engraver.drawAccidental(accidental);\n\taccidentalGroup.position = [0, 0];\n\n\tthis.group.addChild(accidentalGroup);\n\n\treturn accidentalGroup;\n};\n\n/*\n * @param dots - the number of dots to draw.\n * @param clef - the Clef the note is placed on\n * @param xPos - Number representing the xPosition of the note.\n */\nNote.prototype.drawDots = function (dots, clef, xPos) {\n\tconst centerLineValue = getCenterLineValue(clef);\n\tconst steps = noteUtils.getSteps(centerLineValue, this.pitch);\n\tconst noteHeadCenterY = this.noteHead.bounds.center.y + Scored.config.note.head.yOffset;\n\t// if steps is odd then the note is on a line. needs to be position so it doesn't overlap with the line.\n\tconst yPos = isEven(steps) ?\n\t\tnoteHeadCenterY - Scored.config.layout.stepSpacing :\n\t\tnoteHeadCenterY;\n\n\tlet point;\n\tif (xPos) {\n\t\tpoint = new paper.Point(xPos, yPos);\n\t} else {\n\t\tpoint = new paper.Point(this.noteHead.bounds.right + (Scored.config.note.head.width / 2), yPos);\n\t}\n\n\tconst dotGroups = engraver.drawDots(point, dots);\n\tthis.group.addChildren(dotGroups);\n};\n\nNote.prototype.drawArticulations = function () {\n\tconst point = (this.staccato || this.tenuto || this.portato) ? placement.getArticulationPoint(this, this.stemDirection) : null;\n\n\tif (this.staccato) {\n\t\tconst stacato = engraver.drawStaccato(point);\n\t\tthis.group.addChild(stacato);\n\t}\n\n\tif (this.tenuto) {\n\t\tconst legato = engraver.drawTenuto(point);\n\t\tthis.group.addChild(legato);\n\t}\n\n\tif (this.portato) {\n\t\tconst stacato = engraver.drawStaccato(point);\n\t\tthis.group.addChild(stacato);\n\t\tif (!this.slur) {\n\t\t\t// draw tenuto\n\t\t}\n\t}\n};\n\n/*\n * @param centerLineValue - String note pitch of center line.\n */\nNote.prototype.getStemDirection = function (centerLineValue) {\n\tif (this.stemDirection) {\n\t\treturn this.stemDirection;\n\t} else if (centerLineValue) {\n\t\treturn noteUtils.getSteps(centerLineValue, this.pitch) < 0 ? \"up\" : \"down\";\n\t} else {\n\t\treturn \"up\";\n\t}\n};\n\nNote.prototype.calculateStemPoint = function (fulcrum, vector, direction) {\n\t// get the beam point at the center of the noteHead\n\treturn getLinePoint((direction === \"up\" ? this.noteHead.bounds.right : this.noteHead.bounds.left), fulcrum, vector);\n};\n\n/*\n * @return true if the this note is equivalent to the given note.\n */\nNote.prototype.equals = function (note) {\n\treturn noteEquals(this, note);\n};\n\nexport default Note;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Note.js","var knowledge = require('./knowledge');\nvar vector = require('./vector');\nvar toCoord = require('interval-coords');\n\nfunction Interval(coord) {\n  if (!(this instanceof Interval)) return new Interval(coord);\n  this.coord = coord;\n}\n\nInterval.prototype = {\n  name: function() {\n    return knowledge.intervalsIndex[this.number() - 1];\n  },\n\n  semitones: function() {\n    return vector.sum(vector.mul(this.coord, [12, 7]));\n  },\n\n  number: function() {\n    return Math.abs(this.value());\n  },\n\n  value: function() {\n    var without = vector.sub(this.coord,\n      vector.mul(knowledge.sharp, Math.floor((this.coord[1] - 2) / 7) + 1))\n      , i, val;\n\n    i = knowledge.intervalFromFifth[without[1] + 5];\n    val = knowledge.stepNumber[i] + (without[0] - knowledge.intervals[i][0]) * 7;\n\n    return (val > 0) ? val : val - 2;\n  },\n\n  type: function() {\n    return knowledge.intervals[this.base()][0] <= 1 ? 'perfect' : 'minor';\n  },\n\n  base: function() {\n    var fifth = vector.sub(this.coord, vector.mul(knowledge.sharp, this.qualityValue()))[1], name;\n    fifth = this.value() > 0 ? fifth + 5 : -(fifth - 5) % 7;\n    fifth = fifth < 0 ? knowledge.intervalFromFifth.length + fifth : fifth;\n\n    name = knowledge.intervalFromFifth[fifth];\n    if (name === 'unison' && this.number() >= 8)\n      name = 'octave';\n\n    return name;\n  },\n\n  direction: function(dir) {\n    if (dir) {\n      var is = this.value() >= 1 ? 'up' : 'down';\n      if (is !== dir)\n        this.coord = vector.mul(this.coord, -1);\n\n      return this;\n    }\n    else\n      return this.value() >= 1 ? 'up' : 'down';\n  },\n\n  simple: function(ignore) {\n    // Get the (upwards) base interval (with quality)\n    var simple = knowledge.intervals[this.base()];\n    simple = vector.add(simple, vector.mul(knowledge.sharp, this.qualityValue()));\n\n    // Turn it around if necessary\n    if (!ignore)\n      simple = this.direction() === 'down' ? vector.mul(simple, -1) : simple;\n\n    return new Interval(simple);\n  },\n\n  isCompound: function() {\n    return this.number() > 8;\n  },\n\n  octaves: function() {\n    var without, octaves;\n\n    if (this.direction() === 'up') {\n      without = vector.sub(this.coord, vector.mul(knowledge.sharp, this.qualityValue()));\n      octaves = without[0] - knowledge.intervals[this.base()][0];\n    } else {\n      without = vector.sub(this.coord, vector.mul(knowledge.sharp, -this.qualityValue()));\n      octaves = -(without[0] + knowledge.intervals[this.base()][0]);\n    }\n\n    return octaves;\n  },\n\n  invert: function() {\n    var i = this.base();\n    var qual = this.qualityValue();\n    var acc = this.type() === 'minor' ? -(qual - 1) : -qual;\n    var coord = knowledge.intervals[knowledge.intervalsIndex[9 - knowledge.stepNumber[i] - 1]];\n    coord = vector.add(coord, vector.mul(knowledge.sharp, acc));\n\n    return new Interval(coord);\n  },\n\n  quality: function(lng) {\n    var quality = knowledge.alterations[this.type()][this.qualityValue() + 2];\n\n    return lng ? knowledge.qualityLong[quality] : quality;\n  },\n\n  qualityValue: function() {\n    if (this.direction() === 'down')\n      return Math.floor((-this.coord[1] - 2) / 7) + 1;\n    else\n      return Math.floor((this.coord[1] - 2) / 7) + 1;\n  },\n\n  equal: function(interval) {\n      return this.coord[0] === interval.coord[0] &&\n          this.coord[1] === interval.coord[1];\n  },\n\n  greater: function(interval) {\n    var semi = this.semitones();\n    var isemi = interval.semitones();\n\n    // If equal in absolute size, measure which interval is bigger\n    // For example P4 is bigger than A3\n    return (semi === isemi) ?\n      (this.number() > interval.number()) : (semi > isemi);\n  },\n\n  smaller: function(interval) {\n    return !this.equal(interval) && !this.greater(interval);\n  },\n\n  add: function(interval) {\n    return new Interval(vector.add(this.coord, interval.coord));\n  },\n\n  toString: function(ignore) {\n    // If given true, return the positive value\n    var number = ignore ? this.number() : this.value();\n\n    return this.quality() + number;\n  }\n}\n\nInterval.toCoord = function(simple) {\n  var coord = toCoord(simple);\n  if (!coord)\n    throw new Error('Invalid simple format interval');\n\n  return new Interval(coord);\n}\n\nInterval.from = function(from, to) {\n  return from.interval(to);\n}\n\nInterval.between = function(from, to) {\n  return new Interval(vector.sub(to.coord, from.coord));\n}\n\nInterval.invert = function(sInterval) {\n  return Interval.toCoord(sInterval).invert().toString();\n}\n\nmodule.exports = Interval;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/teoria/lib/interval.js","import {curry} from \"lodash\";\n\n// Object mapping types to equality functions\nconst types = {note, rest, clef, dynamic};\n\n/*\n * Compare pojos according to Boethius equality semantics.\n * @param item1 - Object\n * @param item2 - Object\n * @returh Bool\n */\nexport function equals (item1, item2) {\n    if (!item1.type || !item2.type) throw \"No type: Equality checks require a type\";\n\n    if (!equalType(item1, item2)) return false;\n\n    return types[item1.type](item1, item2);\n}\n\nfunction equalType (item1, item2) {\n    return item1.type === item2.type;\n}\n\n// ({type}, {type}) => {type} => {type} => Bool\nconst equalItem = curry((fn, item1, item2) => {\n     return equalType(item1, item2) && fn(item1, item2);\n});\n\nfunction note (item1, item2) {\n    return (\n\t\titem1.value === item2.value &&\n\t\titem1.pitch === item2.pitch &&\n\t\titem1.dots === item2.dots &&\n\t\titem1.tuplet === item2.tuplet &&\n\t\titem1.time === item2.time &&\n\t\titem1.voice === item2.voice &&\n\t\titem1.slur === item2.slur &&\n\t\titem1.staccato === item2.staccato &&\n\t\titem1.tenuto === item2.tenuto &&\n\t\titem1.portato === item2.portato\n\t);\n}\n\nfunction rest (item1, item2) {\n    return (\n\t\titem1.voice === item2.voice &&\n\t\titem1.value === item2.value &&\n\t\titem1.dots === item2.dots &&\n\t\titem1.tuplet === item2.tuplet &&\n\t\titem1.time === item2.time &&\n\t\titem1.slur === item2.slur\n\t);\n}\n\nfunction clef (item1, item2) {\n    return (\n\t\titem1.value === item2.value &&\n\t\titem1.measure === item2.measure &&\n\t\titem1.beat === item2.beat\n\t);\n}\n\nfunction dynamic (item1, item2) {\n    return (\n        item1.value === item2.value &&\n        item1.time === item2.time\n    );\n}\n\nexport const noteEquals = equalItem(note);\nexport const restEquals = equalItem(rest);\nexport const clefEquals = equalItem(clef);\nexport const dynamicEquals = equalItem(dynamic);\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/equality.js","import paper from \"paper/dist/paper-core\";\nimport _ from \"lodash\";\n\nimport {drawFlag, getFlagOffset, drawStaccato, drawTenuto} from \"../engraver\";\nimport {getSteps, parsePitch} from \"../utils/note\";\nimport {defaultStemPoint, getStemLength, getOverlappingNotes, getAccidentalOrdering} from \"../utils/chord\";\nimport {map, isEven} from \"../utils/common\";\nimport {getAccidentalTop, getAccidentalBottom, calculateDefaultAccidentalPosition, getArticulationPoint} from \"../utils/placement\";\nimport {getAccidental} from \"../utils/accidental\";\nimport constants from \"../constants\";\nimport Note from \"./Note\";\nimport {getCenterLineValue} from \"./Clef\";\n\nconst TYPE = constants.type.chord;\nconst UP = \"up\";\nconst DOWN = \"down\";\n\n/*\n * @param children - Array of notes. Can take several representations. String, Object, or Note.\n */\nfunction Chord ({value=4, dots=0, tuplet, time, root, name, inversion, staccato, tenuto, portato, slur, stemDirection}, children=[]) {\n\tthis.value = value;\n\tthis.dots = dots;\n\tthis.tuplet = tuplet;\n\tthis.time = time;\n\tthis.root = root;\n\tthis.name = name;\n\tthis.inversion = inversion;\n\n\t// articulations\n\tthis.staccato = staccato;\n\tthis.tenuto = tenuto;\n\tthis.portato = portato;\n\tthis.slur = slur;\n\n\tthis.stemDirection = stemDirection;\n\n\tthis.children = parseChildren(children, {value});\n}\n\nChord.prototype.type = TYPE;\n\nChord.render = function (chord, context) {\n\tconst group = chord.render(context);\n\tChord.renderAccidentals(chord, context);\n\tchord.renderStem();\n\treturn group;\n};\n\n// render accidentals from outside in. Closest accidental always starts at highest note.\n// translate the accidental left based on the number of accidental overlaps.\n// FIXME: this has to take into consideration accidentals from other voices.\nChord.renderAccidentals = function (chord, context={}) {\n\t// get the accidental to be rendered on each note.\n\tlet accidentals = _.map(chord.children, (note) => {\n\t\tlet parsedPitch = parsePitch(note.pitch);\n\t\treturn context.key ? getAccidental(parsedPitch, context.accidentals, context.key) : parsedPitch.accidental;\n\t});\n\n\t// calculate the default position of all the accidentals\n\tlet positions = _.map(chord.children, calculateDefaultAccidentalPosition);\n\t// get default leftmost accidental. All other accidentals will be set to this position before translating because of overlaps\n\tlet startingXPos = _.min(positions, position => position.x).x;\n\n\t// render the accidentals in their default location.\n\tlet accidentalGroups = map((note, accidental, position) => {\n\t\tlet accidentalGroup = note.drawAccidental(accidental);\n\t\taccidentalGroup.translate(startingXPos, position.y);\n\t\treturn accidentalGroup;\n\t}, chord.children, accidentals, positions);\n\n\tlet renderOrder = getAccidentalOrdering(chord.children.length);\n\n\t// translate the accidentals to avoid overlaps if needed.\n\tlet translationDepth = 1;\n\t_.each(renderOrder, (idx, i) => {\n\t\tlet accidental = accidentalGroups[idx];\n\t\tlet neighbor = accidentalGroups[renderOrder[i+1]];\n\n\t\tif (neighbor) {\n\t\t\tif (isEven(i)) {\n\t\t\t\tif (getAccidentalBottom(accidental) > getAccidentalTop(neighbor)) {\n\t\t\t\t\tneighbor.translate(-Scored.config.note.accidental.xOffset * translationDepth, 0);\n\t\t\t\t\ttranslationDepth++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (getAccidentalTop(accidental) < getAccidentalBottom(neighbor)) {\n\t\t\t\t\tneighbor.translate(-Scored.config.note.accidental.xOffset * translationDepth, 0);\n\t\t\t\t\ttranslationDepth++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\nChord.prototype.renderStem = function (centerLineValue, stemDirection) {\n\tif (this.needsStem()) {\n\t\tstemDirection = stemDirection || this.getStemDirection(centerLineValue);\n\t\tconst stemPoint = defaultStemPoint(this, stemDirection, getStemLength(this, centerLineValue, stemDirection));\n\t\tthis.drawStem(stemPoint, stemDirection);\n\t\tthis.drawFlag();\n\t}\n};\n\nChord.prototype.render = function (context) {\n\tconst group = this.group = new paper.Group({name: TYPE});\n\n\tconst stemDirection = this.getStemDirection(getCenterLineValue(context.clef));\n\tconst overlaps = getOverlappingNotes(this);\n\n\t// get steps\n\tconst [root, ...rest] = this.children;\n\n\tlet noteGroups = this.children.map(note => note.render(context));\n\n\tlet translationFn;\n\n\t// translate note if they overlap\n\tif (stemDirection === DOWN) {\n\t\tconst xTranslation = -Scored.config.note.head.width;\n\t\ttranslationFn = (overlaps) => {\n\t\t\tconst translated = [];\n\t\t\t_.each(_.clone(overlaps).reverse(), ([lower, higher]) => {\n\t\t\t\tif (!_.some(translated, n => n === higher)) {\n\t\t\t\t\tlower.group.translate(xTranslation, 0);\n\t\t\t\t\ttranslated.push(lower);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn translated;\n\t\t};\n\t} else {\n\t\tconst xTranslation = Scored.config.note.head.width;\n\t\ttranslationFn = (overlaps) => {\n\t\t\tconst translated = [];\n\t\t\t_.each(overlaps, ([lower, higher]) => {\n\t\t\t\tif (!_.some(translated, n => n === lower)) {\n\t\t\t\t\thigher.group.translate(xTranslation, 0);\n\t\t\t\t\ttranslated.push(higher);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn translated;\n\t\t};\n\t}\n\n\tlet translated;\n\tif (overlaps.length) {\n\t\ttranslated = translationFn(overlaps);\n\t}\n\n\t_.each(rest, note => {\n\t\tconst steps = getSteps(note.pitch, root.pitch);\n\t\tnote.group.translate(0, steps * Scored.config.layout.stepSpacing);\n\t});\n\n\tgroup.addChildren(noteGroups);\n\n\tif (this.dots) {\n\t\tconst rightMostNote = (translated && translated.length && stemDirection === UP) ?\n\t\t\ttranslated[0] :\n\t\t\tthis.getBaseNote(stemDirection);\n\t\tconst xPos = rightMostNote.noteHead.bounds.right + Scored.config.note.head.width / 2;\n\n\t\t_.each(this.children, (note) => {\n\t\t\tnote.drawDots(this.dots, context.clef, xPos);\n\t\t});\n\t}\n\n\treturn group;\n};\n\nChord.prototype.drawStem = function (to, stemDirection) {\n\tlet frm, stem;\n\n\tif (stemDirection === UP) {\n\t\tthis.stemDirection = UP;\n\t\tfrm = this.children[0].noteHead.bounds.rightCenter.add(0, Scored.config.note.head.yOffset);\n\t} else {\n\t\tthis.stemDirection = DOWN;\n\t\tfrm = _.last(this.children).noteHead.bounds.leftCenter.add(0, Scored.config.note.head.yOffset);\n\t}\n\n\tstem = new paper.Path.Line({\n\t\tname: \"stem\",\n\t\tfrom: frm,\n\t\tto: to,\n\t\tstrokeColor: \"black\",\n\t\tstrokeWidth: 2\n\t});\n\n\tthis.group.addChild(stem);\n\n\treturn stem;\n};\n\n/*\n * The stem must already be rendered for this to work.\n * @return paper.Group\n */\nChord.prototype.drawFlag = function () {\n\tconst dur = this.value;\n\tconst stem = this.group.children.stem;\n\n\tconst flag = drawFlag(dur, this.stemDirection);\n\n\tif (flag) {\n\t\t// FIXME: getFlagOffset should probably be in placement rather than engraver.\n\t\tflag.position = getFlagOffset(stem.segments[1].point, this.stemDirection);\n\t\tthis.group.addChild(flag);\n\t}\n\n\treturn flag;\n};\n\n/*\n * Draws leger lines on the notes that need them\n * @param centerLine - Point representing the center line.\n * @param lineSpacing - Number, space between each line.\n */\nChord.prototype.drawLegerLines = function (centerLine, lineSpacing) {\n\tthis.children.map(note => note.drawLegerLines(centerLine, lineSpacing));\n};\n\n/*\n * @return Boolean - true if the note needs a stem drawn, False otherwise.\n */\nChord.prototype.needsStem = function () {\n\treturn this.value >= 2;\n};\n\n/*\n * @return Boolean - true if the note needs a flag drawn, False otherwise.\n */\nChord.prototype.needsFlag = function () {\n\treturn this.value >= 8;\n};\n\n/*\n * @param centerLineValue - String note pitch of center line.\n * @return String\n */\nChord.prototype.getStemDirection = function (centerLineValue) {\n    if (this.stemDirection) {\n\t\treturn this.stemDirection;\n\t} else if (centerLineValue) {\n        if (this.children.length === 1) {\n            return getSteps(centerLineValue, this.children[0].pitch) < 0 ? UP : DOWN;\n        }\n        // stem direction will be the the direction of the note that is furthest from the center line. Tie goes down.\n        let firstSteps = getSteps(centerLineValue, this.children[0].pitch),\n            lastSteps = getSteps(centerLineValue, _.last(this.children).pitch);\n\n        if (firstSteps < 0 && lastSteps < 0) {\n            return UP;\n        } else if (firstSteps >= 0 && lastSteps >= 0) {\n            return DOWN;\n        } else {\n            return (Math.abs(firstSteps) > Math.abs(lastSteps)) ? UP : DOWN;\n        }\n\t} else {\n\t\treturn UP;\n\t}\n};\n\nChord.prototype.drawArticulations = function () {\n\tconst point = (this.staccato || this.tenuto || this.portato) ?\n\t\tgetArticulationPoint(this.getBaseNote(this.stemDirection), this.stemDirection)\n\t\t: null;\n\n\tif (this.staccato) {\n\t\tconst stacato = drawStaccato(point);\n\t\tthis.group.addChild(stacato);\n\t}\n\n\tif (this.tenuto) {\n\t\tconst legato = drawTenuto(point);\n\t\tthis.group.addChild(legato);\n\t}\n\n\tif (this.portato) {\n\t\tconst stacato = drawStaccato(point);\n\t\tthis.group.addChild(stacato);\n\t\tif (!this.slur) {\n\t\t\t// draw tenuto\n\t\t}\n\t}\n};\n\n/*\n * @param children - Array<Note representations>\n * @return Note[]\n */\nfunction parseChildren (children, defaults={}) {\n\tlet notes = _.map(children, note => {\n\t\tif (note instanceof Note) {\n\t\t\tnote.value = defaults.value;\n\t\t\treturn note;\n\t\t}\n\n\t\tif (_.isString(note)) {\n\t\t\treturn new Note(_.assign({}, defaults, {pitch: note}));\n\t\t}\n\n\t\tif (_.isObject(note)) {\n\t\t\treturn new Note(_.assign({}, defaults, note, {value: defaults.value}));\n\t\t}\n\t});\n\n\treturn _.sortBy(notes, note => note.note.midi());\n}\n\n/*\n * @param direction - UP DOWN\n * @return Note that is at the end of the stem. either lowest or highet note.\n */\nChord.prototype.getBaseNote = function (direction) {\n\treturn direction === UP ? this.children[0] : _.last(this.children);\n};\n\nChord.prototype.calculateStemPoint = function (fulcrum, vector, direction) {\n\tconst baseNote = this.getBaseNote(direction);\n\treturn baseNote.calculateStemPoint(fulcrum, vector, direction);\n};\n\nChord.prototype.equals = function (chord) {\n\t// chord.root, chord.inversion, and chord.name are not compared right now since they have no bearing on rendering.\n\treturn (\n\t\tthis.type === chord.type &&\n\t\tthis.value === chord.value &&\n\t\tthis.dots === chord.dots &&\n\t\tthis.tuplet === chord.tuplet &&\n\t\tthis.time === chord.time &&\n\t\tthis.staccato === chord.staccato &&\n\t\tthis.tenuto === chord.tenuto &&\n\t\tthis.portato === chord.portato &&\n\t\tthis.slur === chord.slur &&\n\t\tthis.stemDirection === chord.stemDirection &&\n\t\tthis.children.length === chord.children.length &&\n\t\t_.every(this.children, (child, i) => child.equals(chord.children[i]))\n\t);\n};\n\nexport default Chord;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Chord.js","import constants from \"../constants\";\nimport {mapDeep} from \"../utils/common\";\nimport {drawLine} from \"../engraver\";\nimport {getMeasureNumber} from \"../utils/timeUtils\";\nimport {isPitched} from \"../types\";\nimport _ from \"lodash\";\n\nconst TYPE = constants.type.line;\n\n/*\n * @param voices - Object mapping voice names to an array describing when they are to be rendered on the line.\n */\nfunction Line ({voices={}}, children=[]) {\n\n\tconst types = _.groupBy(children, child => child.type);\n\n\tthis.children = children;\n\n\t// collect all marking arrays into one and sort them by time\n\tthis.markings = _.sortByAll(_.reduce(_.omit(types, constants.type.measure), (arr, v) => {\n\t\treturn arr.concat(v);\n\t}, []), \"measure\", (marking) => marking.beat ? marking.beat : 0); // if no beat on the marking then default to 0\n\n\tthis.voices = voices;\n}\n\nLine.prototype.type = TYPE;\n\n/*\n * @param staves - the number of staves\n * @param lineLength - the length of each line\n * @param measures - the number of measures\n */\nLine.calculateAverageMeasureLength = function (staves, lineLength, measures) {\n\treturn lineLength * (staves / measures);\n};\n\nfunction renderLedgerLines (items, centerLine) {\n\tconst pitched = _.filter(items, isPitched);\n    pitched.map(note => note.drawLegerLines(centerLine, Scored.config.lineSpacing));\n}\n\nLine.prototype.render = function (length) {\n\tconst group = drawLine(length);\n\tgroup.name = TYPE;\n\tgroup.strokeColor = \"black\";\n\treturn group;\n};\n\n/*\n * Returns the clef, time signature and accidentals at the given time.\n */\nLine.prototype.contextAt = function (time) {\n\t// FIXME: Marking should have time property and not just measure and beat properties.\n\tconst getMarking = _.curry((time, marking) => {\n\t\tif (marking.measure < time.measure) {\n\t\t\treturn true;\n\t\t} else if (marking.measure === time.measure) {\n\t\t\treturn (marking.beat || 0) <= (time.beat || 0);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t});\n\t// const getMarking = _.curry((time, marking) => marking.time <= time.time);\n\tconst getMarkingAtTime = (markings, type, time) => {\n\t\t// Reverse mutates the array. Filtering first give a new array so no need to worry about mutating markings.\n\t\tlet markingsOfType = _.filter(markings, (marking) => marking.type === type).reverse();\n\t\treturn _.find(markingsOfType, getMarking(time));\n\t};\n\n\tconst clef = getMarkingAtTime(this.markings, constants.type.clef, time) || {};\n\tconst timeSig = getMarkingAtTime(this.markings, constants.type.timeSig, time) || {};\n\tconst key = getMarkingAtTime(this.markings, constants.type.key, time) || {};\n\n\treturn {clef, timeSig, key};\n};\n\nexport default Line;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Line.js","import paper from \"paper/dist/paper-core\";\n\nimport constants from \"../constants\";\nimport {drawBarline} from \"../engraver\";\nimport _ from \"lodash\";\n\nimport {isMeasure, isTimeSignature, isRepeat} from \"../types\";\nimport {getMeasureDuration} from \"../utils/timeUtils\";\n\nconst TYPE = constants.type.measure;\n\nconst DEFAULTBAR = \"default\";\nconst REPEATBAR = \"repeat\";\n\n/*\n * @param value - The measure number.\n * @param timeSig - TimeSignature. Required.\n * @param startsAt - Time the measure starts at.\n */\nfunction Measure ({value, timeSig, startsAt=0, barType=DEFAULTBAR}, children=[]) {\n\tif (!timeSig) {\n\t\tthrow new Error(\"Time Signature is required when initializing Measure\");\n\t}\n\n\tthis.value = value;\n\tthis.timeSig = timeSig;\n\tthis.startsAt = startsAt;\n\tthis.barType = barType;\n\tthis.children = children;\n}\n\nMeasure.prototype.type = TYPE;\n\n/*\n * @param lines Group<Line>[]\n */\n //FIXME: Need to take width of barlines into account when calculating measure lengths.\n // ex. repeat barlines are wider than regular barlines.\nMeasure.prototype.render = function (lines, leftBarline, width) {\n\tconst group = new paper.Group({\n\t\tname: TYPE\n\t});\n\n\tlet barType = this.barType;\n\tif (_.filter(this.children, isRepeat).length) {\n\t\tbarType = REPEATBAR;\n\t}\n\n\tleftBarline = leftBarline || drawBarline(lines);\n\tconst previousBarlinePosition = leftBarline.bounds.right;\n\tconst rightBarline = drawBarline(lines, previousBarlinePosition + width, barType);\n\tconst bounds = this.drawGroupBounds(previousBarlinePosition, rightBarline);\n\n\tgroup.addChildren([bounds, leftBarline, rightBarline]);\n\n\tthis.barlines = [leftBarline, rightBarline];\n\n\treturn group;\n};\n\nMeasure.prototype.drawGroupBounds = function (previousBarlinePosition, barline) {\n\tconst rectangle = new paper.Path.Rectangle({\n\t\tname: \"bounds\",\n\t\tfrom: new paper.Point(previousBarlinePosition, barline.bounds.top),\n\t\tto: barline.bounds.bottomRight\n\t});\n\trectangle.fillColor = \"#FFF\";\n\trectangle.opacity = 0.0;\n\treturn rectangle;\n};\n\n/*\n * @param numMeasures - the number of measures to create.\n * @param children - Measures or Markings\n */\nexport function createMeasures (numMeasures, children) {\n\tconst measures = new Array(numMeasures);\n\n\t// get the Measures from children and add them to the measures array\n\tconst [explicitMeasures, markings] = _.partition(_.filter(children, c => !!c), isMeasure);\n\tconst measureMarkings = _.groupBy(markings, marking => marking.measure || 0);\n\n\t{\t// Put each measure in the right position in the measures array.\n\t\t// If a measure does not have an index property put it in the next available location.\n\t\tlet cur = 0;\n\t\t_.each(explicitMeasures, (measure) => {\n\t\t\tif (_.isNumber(measure.index)) {\n\t\t\t\tmeasures[measure.index] = measure;\n\t\t\t\tcur = measure.index + 1;\n\t\t\t} else {\n\t\t\t\tmeasures[cur] = measure;\n\t\t\t\tcur++;\n\t\t\t}\n\t\t});\n\t}\n\n\t_.each(measures, (measure, i) => {\n\t\tconst previousMeasure = measures[i-1];\n\t\tconst startsAt = previousMeasure ? previousMeasure.startsAt + getMeasureDuration(previousMeasure) : 0;\n\n\t\tif (!measure) {\n\t\t\tconst timeSig = _.find(measureMarkings[i], isTimeSignature) || previousMeasure.timeSig;\n\t\t\tmeasure = new Measure(_.extend({}, {startsAt, timeSig, value: i}), measureMarkings[i]);\n\t\t} else {\n\t\t\tmeasure.startsAt = startsAt;\n\t\t\tmeasure.value = i;\n\t\t}\n\n\t\tif (i === numMeasures - 1) measure.barType = \"final\";\n\n\t\tmeasures[i] = measure;\n\t});\n\n\treturn measures;\n}\n\nexport default Measure;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Measure.js","import paper from \"paper/dist/paper-core\";\nimport _ from \"lodash\";\n\nimport {isMarking, isPitched, isNote} from \"../types\";\nimport {drawSystemBar} from \"../engraver\";\nimport constants from \"../constants\";\nimport {getLineItems, b} from \"../utils/line\";\nimport {getStaffItems, calculateMeasureLengths, addDefaultMeasureLengths, iterateByTime} from \"../utils/system\";\nimport {map, mapDeep} from \"../utils/common\";\nimport * as placement from \"../utils/placement\";\nimport {getMeasureNumber} from \"../utils/timeUtils\";\nimport Voice from \"./Voice\";\nimport {getCenterLineValue} from \"./Clef\";\nimport Line from \"./Line\";\n\nconst TYPE = constants.type.system;\n\n/*\n * @measures - the number of measures on the system.\n * @startMeasure - the index of the first measure on the stave.\n * @page - The page the system is rendered on.\n */\n // TODO: What are the children of a system now? It's more of a view onto the lines, rather than something with children in it's own right.\n // @param children <Line, Measure, Marking>[] - A marking that is given to the system will be rendered on all lines. If it is\n // \tgiven to a line it will only affect that line.\nfunction System ({page=0, measures=4, lineHeights=[], indentation=0, length}, children=[]) {\n\tthis.page = page;\n\tthis.measures = measures;\n\tthis.children = children;\n\tthis.markings = _.filter(children, isMarking);\n\tthis.lineHeights = lineHeights;\n\tthis.length = length;\n\tthis.indentation = indentation;\n}\n\n/*\n * @param system - System\n * @param timeContexts - array of time contexts\n */\nSystem.renderTimeContexts = function ({system, lines, measures, voices, timeContexts, length}) {\n\t// create the system group that all items will be added to.\n\tconst systemGroup = system.render();\n\n\tconst lineHeights = system.getLineHeights(lines);\n\n\tconst timeContextGroups = _.map(timeContexts, timeContext => timeContext.render(lineHeights));\n\n\tconst shortestDuration = Scored.config.shortestDuration; // need function to calculate this.\n\n\tconst timeLengths = calculateTimeLengths(timeContexts, shortestDuration);\n\n\tconst measureLengths = addDefaultMeasureLengths(system.measures, calculateMeasureLengths(timeLengths));\n\n\t// get the minimum length of the line\n\tconst minLineLength = _.sum(measureLengths);\n\n\tlet lineGroups, noteScale, cursorFn;\n\n\tif (!length) {\n\t\tlineGroups = system.renderLines(lines, minLineLength);\n\n\t\tconst measureGroups = system.renderMeasures(measures, measureLengths, lineGroups);\n\n\t\tsystemGroup.addChildren(measureGroups);\n\n\t\tcursorFn = (possibleNextPositions, cursor) => {\n\t\t\treturn _.min(possibleNextPositions) + cursor;\n\t\t};\n\n\t} else {\n\t\tlineGroups = system.renderLines(lines, length);\n\n\t\tconst totalMarkingLength = _.sum(timeLengths, ({length}) => length[0]);\n\n\t\tconst measureScale = length / minLineLength;\n\n\t\t// noteScale = (length - totalMarkingLength) / (minLineLength - totalMarkingLength);\n\n\t\tconst measureGroups = system.renderMeasures(measures, _.map(measureLengths, measureLength => measureLength * measureScale), lineGroups);\n\n\t\tsystemGroup.addChildren(measureGroups);\n\n\t\tcursorFn = (possibleNextPositions, cursor) => {\n\t\t\treturn placement.scaleCursor(measureScale, cursor, _.min(possibleNextPositions) + cursor);\n\t\t};\n\t}\n\n\t// add the items to the system group\n\tsystemGroup.addChildren(timeContextGroups);\n\n\tsystemGroup.addChildren(lineGroups);\n\n\tsystemGroup.addChild(drawSystemBar(lineGroups));\n\n\t/////////////////////\n\t// Placement Phase //\n\t/////////////////////\n\tconst lineCenters = _.map(lineGroups, b);\n\tconst cursors = placeTimes(timeContexts, measures, measureLengths, cursorFn);\n\t// console.log(cursors);\n\n\t// Render stems, beams, tuplets, articulations, and ledger lines.\n\tif (timeContexts) {\n\t\tconst startTime = _.first(timeContexts).time;\n\t\tconst endTime = _.last(timeContexts).time;\n\t\tmap((line, lineGroup, lineCenter) => {\n\t\t\tconst lineItems = getLineItems(line, voices, startTime.time, endTime.time);\n\n\t\t\t_.each(lineItems, (lineVoice, i) => {\n\t\t\t\tconst itemsByMeasure = _.groupBy(lineVoice, child => getMeasureNumber(measures, child.time));\n\t\t\t\t_.each(measures, (measure) => {\n\t\t\t\t\tconst items = itemsByMeasure[measure.value] || [];\n\n\t\t\t\t\t// Nothing to do if there are no items in the measure.\n\t\t\t\t\tif (!items.length) return;\n\n\t\t\t\t\t// stems and beams need to know both line and voice\n\t\t\t\t\tconst context = line.contextAt({measure: measure.value});\n\t\t\t\t\tconst centerLineValue = getCenterLineValue(context.clef);\n\t\t\t\t\tconst beamings = Voice.findBeaming(context.timeSig, items);\n\t\t\t\t\tconst stemDirection = getStemDirection(lineItems, i);\n\t\t\t\t\tconst stemDirections = stemDirection ?\n\t\t\t\t\t\t_.fill(new Array(items.length), stemDirection) :\n\t\t\t\t\t\tVoice.getAllStemDirections(beamings, centerLineValue);\n\t\t\t\t\tconst beams = _.compact(mapDeep(_.partial(Voice.stemAndBeam, centerLineValue), beamings, stemDirections));\n\t\t\t\t\tlineGroup.addChildren(beams);\n\n\t\t\t\t\t// tuplet groups need to know voice and line\n\t\t\t\t\tconst tupletGroups = Voice.renderTuplets(items, lineCenter);\n\t\t\t\t\tlineGroup.addChildren(tupletGroups);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// render decorations that only require knowledge of the line.\n\t\t\t_.each(lineItems, voiceItems => {\n\t\t\t\trenderLedgerLines(voiceItems, lineCenter);\n\t\t\t\tVoice.renderArticulations(voiceItems); // items must have stem direction already\n\t\t\t});\n\n\t\t}, lines, lineGroups, lineCenters);\n\t}\n\n\tconst measureNumber = renderMeasureNumber(measures[0].value);\n\tmeasureNumber.translate(0, -20);\n\tsystemGroup.addChild(measureNumber);\n\n\treturn systemGroup;\n};\n\n/*\n * @param timeContexts - array of lineContexts.\n * @param shortestDuration - float representation of shortest duration in the measure.\n * @return {time: Time, [markingLength, durationedLength]}\n */\nfunction calculateTimeLengths (timeContexts, shortestDuration) {\n    return _.map(timeContexts, (timeContext) => {\n\t\t// get all items at the time\n\t\tconst allItems = timeContext.lines.reduce((acc, line) => {\n\t\t\treturn line ? acc.concat(line.items) : acc;\n\t\t}, []);\n\n\t\tconst timeLength = placement.calculateTimeLength(allItems, shortestDuration);\n\n\t\treturn {time: timeContext.time, length: timeLength};\n\t});\n}\n\nfunction placeTimes (timeContexts, measures, measureLengths, cursorFn) {\n\treturn _.reduce(timeContexts, (cursors, timeContext, i) => {\n\t\tconst lineIndices = _.filter(_.map(timeContext.lines, (ctx, i) => ctx ? i : undefined), _.isNumber);\n\t\tconst previousTime = _.last(cursors) ? _.last(cursors).time : 0;\n\t\tconst currentTime = timeContext.time;\n\t\tlet cursor = _.last(cursors) ? _.last(cursors).cursor : Scored.config.note.head.width;\n\t\t// update cursor if it's a new measure\n\t\tif (currentTime.measure !== previousTime.measure) {\n\t\t\tconst measure = _.find(measures, measure => measure.value === currentTime.measure);\n\t\t\tcursor = placement.calculateCursor(measure);\n\t\t\t// cursor = _.sum(measureLengths.slice(0, measure.value)) + Scored.config.note.head.width;\n\t\t}\n\n\t\ttimeContext.group.translate(cursor, 0);\n\t\tconst possibleNextPositions = timeContext.calculateCursor();\n\n\t\treturn cursors.concat({time: currentTime, cursor: cursorFn(possibleNextPositions, cursor)});\n\t}, []);\n}\n\n/*\n * @param Items[][] - Array of voices on the line\n * @param voiceIndex - the index of the voice to get the stemDirection for.\n * @return - String if the voice has a required stemDirection, else undefined.\n */\nfunction getStemDirection (lineItems, voiceIndex) {\n\tif (lineItems.length === 2) return (voiceIndex === 0) ? \"up\" : \"down\";\n}\n\nfunction renderLedgerLines (items, centerLine) {\n\tconst pitched = _.filter(items, isPitched);\n    pitched.map(note => note.drawLegerLines(centerLine, Scored.config.lineSpacing));\n}\n\nfunction renderMeasureNumber (measureNumber) {\n\treturn new paper.PointText({\n\t\tcontent: measureNumber,\n\t\tfontFamily: 'gonvillealpha',\n\t\tfontSize: Scored.config.fontSize / 1.5,\n\t\tfillColor: \"black\"\n\t});\n}\n\nSystem.prototype.type = TYPE;\n\nSystem.prototype.render = function () {\n\tconst group = new paper.Group({\n\t\tname: TYPE\n\t});\n\n\treturn group;\n};\n\nSystem.prototype.getLineHeights = function (lines) {\n\tconst defaultHeight = 120;\n\treturn lines.reduce((heights, line, i) => {\n\t\treturn heights.concat((this.lineHeights[i+1] || defaultHeight) + _.last(heights));\n\t}, [this.lineHeights[0] || 0]);\n};\n\nSystem.prototype.renderLines = function (lines, length) {\n\t// draw each line\n\tconst lineHeights = this.getLineHeights(lines);\n\tconst lineGroups = lines.map((line, i) => {\n\t\tconst group = line.render(length);\n\t\tgroup.translate([0, lineHeights[i]]);\n\t\treturn group;\n\t});\n\n\treturn lineGroups;\n};\n\nSystem.prototype.renderMeasures = function (measures, lengths, systemGroup) {\n\tconst measureGroups = _.reduce(measures, (groups, measure, i) => {\n\t\tconst measureLength = lengths[i];\n\t\tconst previousGroup = _.last(groups);\n\n\t\tconst leftBarline = previousGroup ? _.last(previousGroup.children) : null;\n\t\tconst measureGroup = measure.render(systemGroup, leftBarline, measureLength);\n\n\t\tgroups.push(measureGroup);\n\t\treturn groups;\n\t}, []);\n\n\treturn measureGroups;\n};\n\nexport default System;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/System.js","import _ from \"lodash\";\nimport F from \"fraction.js\";\n\nimport constants from \"../constants\";\nimport {isPitched} from \"../types\";\nimport {concat, partitionBy, reductions} from \"../utils/common\";\nimport {beam, drawTuplets} from \"../engraver\";\nimport {getAverageStemDirection} from \"../utils/note\";\nimport {calculateDuration, parseSignature, calculateTupletDuration, sumDurations} from \"../utils/timeUtils\";\nimport {divide} from \"../utils/barline\";\n\n/*\n * @param items - Item[]\n * @param offset - Optional amount of time that will be added to the items times.\n */\nfunction calculateAndSetTimes (items, offset=0) {\n    return items.reduce((acc, item) => {\n        const previousItem = _.last(acc);\n\n        if (previousItem) {\n            item.time = F(previousItem.time).add(calculateDuration(previousItem)).add(offset).valueOf();\n        } else {\n            item.time = 0;\n        }\n\n        return concat(acc, item);\n    }, []);\n}\n\nfunction Voice ({value, name, stemDirection}, children=[]) {\n    this.name = name;\n\n    this.children = calculateAndSetTimes(children);\n    // this.children = children;\n\n    this.stemDirection = stemDirection;\n}\n\nVoice.prototype.type = constants.type.voice;\n\n/*\n * @param items - Array of items to be grouped\n * @param groupingTime - the time the grouping should end at.\n * @return [beaming, remainingItems]\n */\nfunction nextBeaming (items, groupingTime) {\n    const item = _.first(items);\n    if (!isPitched(item)) {\n        return [null, _.rest(items)];\n    } else if (item.value <= 4) { // and item doesn't get beamed if it is a quarter note or greater.\n        return [[_.first(items)], _.rest(items)];\n    } else {\n        const splitIndex = _.findIndex(items, item => ((item.time >= groupingTime || item.value <= 4) || !isPitched(item)));\n        if (splitIndex === -1) {\n            return [items, []];\n        } else {\n            return [_.take(items, splitIndex), _.drop(items, splitIndex)];\n        }\n    }\n}\n\n/*\n * Notes must have time properties for this function to work.\n * Should this function just calculate their times from the first note instead?\n * @param timeSig - TimeSignature\n * @param items - <Note, Chord>[][]\n * @return - array of note groupings.\n */\nVoice.findBeaming = function findBeaming (timeSig, items) {\n    if (!items.length) {\n        return [];\n    }\n\n    const [, denominator] = parseSignature(timeSig);\n    const groupingDurations = timeSig.beatStructure.map(beats => beats * (1/denominator));\n    const baseTime = items[0].time; // the time from which the groupings are reckoned.\n    const groupingTimes = _.rest(reductions((acc, el) => acc + el, groupingDurations, baseTime));\n\n    const beamings = [];\n    let groupingTimeIndex = 0;\n    let [beaming, remainingItems] = nextBeaming(items, groupingTimes[groupingTimeIndex]);\n    beamings.push(beaming);\n    while (remainingItems.length) {\n        if (remainingItems[0].time >= groupingTimes[groupingTimeIndex]) groupingTimeIndex++;\n        [beaming, remainingItems] = nextBeaming(remainingItems, groupingTimes[groupingTimeIndex]);\n        if (beaming) beamings.push(beaming);\n    }\n\n    return _.reject(beamings, _.isEmpty);\n};\n\n/*\n * items must have time properties.\n * @param timeSig - time signature in the current contet.\n * @param items - array if items.\n * @return - array of arrays of tuplets.\n */\nVoice.groupTuplets = function groupTuplets (items) {\n    if (!items.length) {\n        return [];\n    }\n\n    // filter out items that don't have a tuplet after partitioning them.\n\n    const groupings = [];\n    let previousTuplet = null;\n    for (let i = 0; i < items.length; i++) {\n        let item = items[i];\n        if (!item.tuplet) { // skip this item\n            previousTuplet = null;\n        } else if (item.tuplet !== previousTuplet || !_.last(groupings)) { // create a new tuplet grouping\n            groupings.push([item]);\n            previousTuplet = item.tuplet;\n        } else { // add the item to the previous grouping.\n            let grouping = _.last(groupings);\n            let longestDuration = _.min(grouping, item => item.value).value;\n            let currentTupletDuration = sumDurations(grouping);\n            let maxTupletDuration = calculateTupletDuration(previousTuplet, longestDuration);\n            if (currentTupletDuration < maxTupletDuration) { // floating point error\n                grouping.push(item); // add the item to the last tuplet grouping.\n            } else {\n                groupings.push([item]); // create a new tuplet grouping.\n            }\n            // no need to update previousTuplet since it is the same\n        }\n    }\n\n    return groupings;\n};\n\n/*\n * @param centerLineValue - String representing note value.\n * @param notes <Note, Chord>[]\n * @param stemDirections - optional String specifying the direction of all note stems.\n */\nVoice.stemAndBeam = function stemAndBeam (centerLineValue, items, stemDirections) {\n\tif (items.length === 1) {\n\t\titems[0].renderStem(centerLineValue, stemDirections[0]);\n\t} else {\n\t\treturn beam(items, {line: centerLineValue, stemDirections});\n\t}\n};\n\n/*\n * @param Item[][] - beamings\n * @param centerLineValue - String\n * @return String[] - stem direction of every note.\n */\nVoice.getAllStemDirections = function getAllStemDirections (beamings, centerLineValue) {\n    return _.reduce(beamings, (acc, beaming) => {\n        return acc.concat(getAverageStemDirection(beaming, centerLineValue));\n    }, []);\n};\n\nVoice.renderArticulations = function (items) {\n    _.each(items, (item) => {\n        if (item.drawArticulations) item.drawArticulations();\n    });\n};\n\nVoice.renderTuplets = function (items, centerLine) {\n    const tuplets = Voice.groupTuplets(items);\n    return tuplets.map(tuplet => drawTuplets(tuplet, centerLine, this.stemDirection));\n};\n\nfunction gt (n1, n2) {\n    return n1 > n2;\n}\n\nfunction gte (n1, n2) {\n    return n1 >= n2;\n}\n\n/*\n * The given times must be a number because a Voice doesn't know about the measures or beats.\n * @param frm - Time to start collecting items at.\n * @param to - Time up to but not including collected items.\n * @param inclusive - Boolean, true if to time is to be included in returned items.\n * @return Item[]\n */\nVoice.prototype.getTimeFrame = function getTimeFrame(frm, to, inclusive) {\n    const timeFrame = [];\n    const comparison = inclusive ? gt : gte;\n    for (let i = 0; i < this.children.length; i++) {\n        let item = this.children[i];\n        if (comparison(item.time, to)) {\n            break;\n        } else if (item.time >= frm) {\n            timeFrame.push(item);\n        }\n    }\n    return timeFrame;\n};\n\nVoice.prototype.equals = function (voice) {\n    return (\n        this.type === voice.type &&\n        this.name === voice.name &&\n        this.stemDirection === voice.stemDirection &&\n        this.children.length === voice.children.length &&\n        _.every(this.children, (child, i) => child.equals(voice.children[i]))\n    );\n};\n\nVoice.prototype[Symbol.iterator] = Voice.prototype.iterate = function () {\n    let i = -1;\n    return {\n        items: this.children,\n        next: function next () {\n            i++;\n            const item = this.items[i];\n\n            if (!item) return {done: true};\n\n            const time = item.time;\n\n            const items = [];\n            while (this.items[i+1] && time === this.items[i+1].time) {\n                items.push(this.items[i+1]);\n                i++;\n            };\n\n            return {\n                done: false,\n                value: [item, ...items]\n            };\n        }\n    }\n};\n\n/*\n * Mutates children array.\n * Breaks notes extending over given time into two notes.\n * @params [time] - Times at which to break durationed items.\n */\nVoice.prototype.breakDurations = function (times) {\n    let timeIndex = 0;\n    const children = this.children.reduce((acc, item) => {\n        if (item.time >= times[timeIndex]) {\n            timeIndex = _.findIndex(times, time => time > item.time);\n        }\n        return acc.concat(divide(times[timeIndex], item));\n    }, []);\n    this.children = children;\n};\n\nexport default Voice;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Voice.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 21\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 22\n// module chunks = 0","import _ from \"lodash\";\n\nimport {partitionBy} from \"./common\";\n\n/*\n * Given lines and voices, returns an array of item arrays. The first array is all items to be rendered on the first line, and so on.\n * @param lines - Line[]\n * @param voices- Voice[]\n * @return Items[][]\n */\nfunction getStaffItems (lines, voices) {\n    return _.map(lines, (line) => {\n        return _.reduce(line.voices, (acc, voiceConfig) => { // FIXME: duplication of getLineItems\n            if (_.isString(voiceConfig)) {\n                const voice = _.find(voices, voice => voice.name === voiceConfig);\n                return voice ? acc.concat(voice.children) : acc;\n            } else if (_.isObject(voiceConfig)) {\n                // TODO: get the time frame from the voice\n            } else {\n                return acc;\n            }\n        }, []);\n    });\n}\n\n/*\n * @param timeLengths - {time, length[]}[]\n * @return length[]\n */\nfunction calculateMeasureLengths (timeLengths) {\n    const noteHeadWidth = Scored.config.note.head.width;\n    return _.map(partitionBy(timeLengths, ({time}) => time.measure), (measureTimes) => {\n\t\tconst [markingsLength, durationedLength] = _.reduce(measureTimes, (acc, {length}) => {\n\t\t\t// sum the marking and duration item lengths\n\t\t\treturn [acc[0] + length[0], acc[1] + length[1]];\n\t\t}, [0, 0]);\n\n        const measureLength = markingsLength + (durationedLength ? durationedLength : Scored.config.measure.length) + noteHeadWidth;\n\n        return measureLength;\n\t});\n}\n\n/*\n * @param numMeasures - The number of measure lengths to return.\n * @param measureLengths Number[] - The measure lengths that have been calculated already.\n * @return Number[]\n */\nfunction addDefaultMeasureLengths (numMeasures, measureLengths) {\n    const defaultMeasureLengths = [];\n\n    for (let i = 0; i < numMeasures; i++) {\n        const length = measureLengths[i];\n        if (length) {\n            defaultMeasureLengths.push(length);\n        } else {\n            defaultMeasureLengths.push(\n                Scored.config.measure.length + Scored.config.note.head.width\n            );\n        }\n    }\n\n    return defaultMeasureLengths;\n}\n\n/*\n * @param time context object\n * @return Number or undefined if there is no context\n */\nfunction getTimeFromContext (ctx) {\n    return ctx && ctx.time ? ctx.time.time : undefined;\n}\n\n/*\n * @param times context[][]\n */\nfunction nextTimes (times) {\n    const ctxs = _.map(times, _.first);\n\n    if (!_.compact(ctxs).length) return []; // return nothing if there are no more contexts\n\n    const nextTime = _.min(ctxs, getTimeFromContext).time.time;\n    const nexts = [];\n    const rests = [];\n    for (let i = 0; i < ctxs.length; i++) {\n        if (getTimeFromContext(ctxs[i]) === nextTime) {\n            nexts.push(ctxs[i]);\n            rests.push(_.rest(times[i]));\n        } else {\n            nexts.push(null);\n            rests.push(times[i]);\n        }\n    }\n    return [nexts, rests];\n}\n\n/*\n * @param fn - function to apply to the time context\n * @param times context[][]\n */\nfunction iterateByTime (fn, times) {\n    let [nexts, rests] = nextTimes(times);\n    const ret = [];\n    while (_.compact(nexts).length) {\n        ret.push(fn(nexts));\n        [nexts, rests] = nextTimes(rests);\n    }\n\n    return ret;\n}\n\nexport {\n    getStaffItems,\n    calculateMeasureLengths,\n    addDefaultMeasureLengths,\n    nextTimes,\n    iterateByTime\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/system.js","import constants from \"../constants\";\nimport {drawChordSymbol} from \"../engraver\";\n\nconst TYPE = constants.type.chordSymbol;\n\nfunction ChordSymbol ({value, measure, beat, time}) {\n    this.value = value;\n    this.measure = measure;\n    this.beat = beat;\n    this.time = time;\n}\n\nChordSymbol.prototype.type = TYPE;\n\nChordSymbol.prototype.render = function () {\n    const group = this.group = drawChordSymbol(this.value);\n    group.name = TYPE;\n    return group;\n};\n\nexport default ChordSymbol;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/ChordSymbol.js","import constants from \"../constants\";\nimport {drawDynamic} from \"../engraver\";\nimport {dynamicEquals} from \"../utils/equality\";\n\nconst TYPE = constants.type.dynamic;\n\nfunction Dynamic ({value, time}) {\n    this.value = value;\n    this.time = time;\n}\n\nDynamic.prototype.type = TYPE;\n\nDynamic.prototype.render = function () {\n    const group = this.group = drawDynamic(this.value);\n    group.name = TYPE;\n    return group;\n};\n\nDynamic.prototype.equals = function (dynamic) {\n    return dynamicEquals(this, dynamic);\n};\n\nexport default Dynamic;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Dynamic.js","import paper from \"paper/dist/paper-core\";\nimport {drawAccidental} from \"../engraver\";\nimport * as placement from \"../utils/placement\";\n// import _ from \"lodash\";\nimport constants from \"../constants\";\n\nconst TYPE = constants.type.key,\n\n\t// flats = [\n\t// \t[],\n\t// \t[\"bb\"],\n\t// \t[\"bb\", \"eb\"],\n\t// \t[\"bb\", \"eb\", \"ab\"],\n\t// \t[\"bb\", \"eb\", \"ab\", \"db\"],\n\t// \t[\"bb\", \"eb\", \"ab\", \"db\", \"gb\"],\n\t// \t[\"bb\", \"eb\", \"ab\", \"db\", \"gb\", \"cb\"],\n\t// \t[\"bb\", \"eb\", \"ab\", \"db\", \"gb\", \"cb\", \"fb\"]\n\t// ],\n\t//\n\t// sharps = [\n\t// \t[],\n\t// \t[\"f#\"],\n\t// \t[\"f#\", \"c#\"],\n\t// \t[\"f#\", \"c#\", \"g#\"],\n\t// \t[\"f#\", \"c#\", \"g#\", \"d#\"],\n\t// \t[\"f#\", \"c#\", \"g#\", \"d#\", \"a#\"],\n\t// \t[\"f#\", \"c#\", \"g#\", \"d#\", \"a#\", \"e#\"],\n\t// \t[\"f#\", \"c#\", \"g#\", \"d#\", \"a#\", \"e#\", \"b#\"]\n\t// ],\n\n\tkeyToPitches = {\n\t\t\"C\":  [\"c\", \"d\", \"e\", \"f\", \"g\", \"a\", \"b\"],\n\t\t\"C#\": [\"c#\", \"d#\", \"e#\", \"f#\", \"g#\", \"a#\", \"b#\"],\n\t\t\"Db\": [\"db\", \"eb\", \"f\", \"gb\", \"ab\", \"bb\", \"c\"],\n\t\t\"D\":  [\"d\", \"e\", \"f#\", \"g\", \"a\", \"b\", \"c#\"],\n\t\t\"D#\": [\"d#\", \"e#\", \"fx\", \"g#\", \"a#\", \"b#\", \"cx\"],\n\t\t\"Eb\": [\"eb\", \"f\", \"g\", \"ab\", \"bb\", \"c\", \"d\"],\n\t\t\"E\":  [\"e\", \"f#\", \"g#\", \"a\", \"b\", \"c#\", \"d#\"],\n\t\t\"F\":  [\"f\", \"g\", \"a\", \"bb\", \"c\", \"d\", \"e\"],\n\t\t\"F#\": [\"f#\", \"g#\", \"a#\", \"b\", \"c#\", \"d#\", \"e#\"],\n\t\t\"Gb\": [\"gb\", \"ab\", \"bb\", \"cb\", \"db\", \"eb\", \"f\"],\n\t\t\"G\":  [\"g\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f#\"],\n\t\t\"G#\": [\"g#\", \"a#\", \"b#\", \"c#\", \"d#\", \"e#\", \"fx\"],\n\t\t\"Ab\": [\"ab\", \"bb\", \"c\", \"db\", \"eb\", \"f\", \"g\"],\n\t\t\"A\":  [\"a\", \"b\", \"c#\", \"d\", \"e\", \"f#\", \"g#\"],\n\t\t\"A#\": [\"a#\", \"b#\", \"cx\", \"d#\", \"e#\", \"fx\", \"gx\"],\n\t\t\"Bb\": [\"bb\", \"c\", \"d\", \"eb\", \"f\", \"g\", \"a\"],\n\t\t\"B\":  [\"b\", \"c#\", \"d#\", \"e\", \"f#\", \"g#\", \"a#\"],\n\n\t\t\"a\":  [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"],\n\t\t\"a#\": [\"a#\", \"b#\", \"c#\", \"d#\", \"e#\", \"f#\", \"g#\"],\n\t\t\"bb\": [\"bb\", \"c\", \"db\", \"eb\", \"f\", \"gb\", \"ab\"],\n\t\t\"b\":  [\"b\", \"c#\", \"d\", \"e\", \"f#\", \"g\", \"a\"],\n\t\t\"c\":  [\"c\", \"d\", \"eb\", \"f\", \"g\", \"ab\", \"bb\"],\n\t\t\"c#\": [\"c#\", \"d#\", \"e\", \"f#\", \"g#\", \"a\", \"b\"],\n\t\t\"db\": [\"db\", \"eb\", \"fb\", \"gb\", \"ab\", \"bbb\", \"cb\"],\n\t\t\"d\":  [\"d\", \"e\", \"f\", \"g\", \"a\", \"bb\", \"c\"],\n\t\t\"d#\": [\"d#\", \"e#\", \"f#\", \"g#\", \"a#\", \"b\", \"c#\"],\n\t\t\"eb\": [\"eb\", \"f\", \"gb\", \"ab\", \"bb\", \"cb\", \"db\"],\n\t\t\"e\":  [\"e\", \"f#\", \"g\", \"a\", \"b\", \"c\", \"d\"],\n\t\t\"f\":  [\"f\", \"g\", \"ab\", \"bb\", \"c\", \"db\", \"eb\"],\n\t\t\"f#\": [\"f#\", \"g#\", \"a\", \"b\", \"c#\", \"d\", \"e\"],\n\t\t\"gb\": [\"gb\", \"ab\", \"bbb\", \"cb\", \"db\", \"ebb\", \"fb\"],\n\t\t\"g\":  [\"g\", \"a\", \"bb\", \"c\", \"d\", \"eb\", \"f\"],\n\t\t\"g#\": [\"g#\", \"a#\", \"b\", \"c#\", \"d#\", \"e\", \"f#\"],\n\t\t\"ab\": [\"ab\", \"bb\", \"cb\", \"db\", \"eb\", \"fb\", \"gb\"]\n\t},\n\n\t// Treble major is the baseline\n\tflatSteps = [\n\t\t[],\n\t\t[0],\n\t\t[0, -3],\n\t\t[0, -3, 1],\n\t\t[0, -3, 1, -2],\n\t\t[0, -3, 1, -2, 2],\n\t\t[0, -3, 1, -2, 2, -1],\n\t\t[0, -3, 1, -2, 2, -1, 3]\n\t],\n\n\tsharpSteps = [\n\t\t[],\n\t\t[-4],\n\t\t[-4, -1],\n\t\t[-4, -1, -5],\n\t\t[-4, -1, -5, -2],\n\t\t[-4, -1, -5, -2, 1],\n\t\t[-4, -1, -5, -2, 1, -3],\n\t\t[-4, -1, -5, -2, 1, -3, 0]\n\t],\n\n\t// FIXME: need to translate key based on clef\n\t// clefTransform = {\n\t// \t\ttreble: _.identity,\n\t// \t\tbass: _.partialRight(_.map, x => x + 2),\n\t// \t\talto: _.partialRight(_.map, x => x + 1),\n\t// \t\ttenor: _.partialRight(_.map, x => x + -1)\n\t// \t},\n\t\tSHARP = \"#\",\n\t\tFLAT = \"b\",\n\n\tnameToSignature = {\n\t\t\"C\":  [[], \"\"],\n\t\t\"a\":  [[], \"\"],\n\n\t\t// major sharps\n\t\t\"G\":  [sharpSteps[1], SHARP],\n\t\t\"D\":  [sharpSteps[2], SHARP],\n\t\t\"A\":  [sharpSteps[3], SHARP],\n\t\t\"E\":  [sharpSteps[4], SHARP],\n\t\t\"B\":  [sharpSteps[5], SHARP],\n\t\t\"F#\": [sharpSteps[6], SHARP],\n\t\t\"C#\": [sharpSteps[7], SHARP],\n\n\t\t// minor sharps\n\t\t\"e\":  [sharpSteps[1], SHARP],\n\t\t\"b\":  [sharpSteps[2], SHARP],\n\t\t\"f#\": [sharpSteps[3], SHARP],\n\t\t\"c#\": [sharpSteps[4], SHARP],\n\t\t\"g#\": [sharpSteps[5], SHARP],\n\t\t\"d#\": [sharpSteps[6], SHARP],\n\t\t\"a#\": [sharpSteps[7], SHARP],\n\n\t\t// major flats\n\t\t\"F\":  [flatSteps[1], FLAT],\n\t\t\"Bb\": [flatSteps[2], FLAT],\n\t\t\"Eb\": [flatSteps[3], FLAT],\n\t\t\"Ab\": [flatSteps[4], FLAT],\n\t\t\"Db\": [flatSteps[5], FLAT],\n\t\t\"Gb\": [flatSteps[6], FLAT],\n\t\t\"Cb\": [flatSteps[7], FLAT],\n\n\t\t// minor flats\n\t\t\"d\":  [flatSteps[1], FLAT],\n\t\t\"g\":  [flatSteps[2], FLAT],\n\t\t\"c\":  [flatSteps[3], FLAT],\n\t\t\"f\":  [flatSteps[4], FLAT],\n\t\t\"bb\": [flatSteps[5], FLAT],\n\t\t\"eb\": [flatSteps[6], FLAT],\n\t\t\"ab\": [flatSteps[7], FLAT]\n\t};\n\nfunction Key ({value=\"C\", measure, beat}) {\n\tthis.value = value;\n\tthis.measure = measure;\n\tthis.beat = beat;\n}\n\nKey.prototype.type = TYPE;\n\n/*\n * @param position {Point} - the location to draw the first accidental\n */\nKey.prototype.render = function (context = {}) {\n\tconst group = this.group = new paper.Group({\n\t\tname: TYPE\n\t});\n\n\tlet clefValue = context && context.clef ? context.clef.value : \"treble\";\n\n\tlet clefToPosition = {\n\t\t\"treble\": [0, 0],\n\t\t\"bass\": [0, Scored.config.layout.stepSpacing * 2],\n\t\t\"alto\": [0, Scored.config.layout.stepSpacing],\n\t\t\"tenor\": [0, -Scored.config.layout.stepSpacing]\n\t};\n\n\tlet [signature, accidental] = nameToSignature[this.value],\n\t\tposition = new paper.Point(clefToPosition[clefValue]);\n\n\t// let symbol, item, yTranslate;\n\tfor (let i = 0; i < signature.length; i++) {\n\t\tconst item = drawAccidental(accidental);\n\n\t\tconst yTranslate = placement.calculateAccidentalYpos(signature[i], Scored.config.lineSpacing/2);\n\n\t\titem.position = position.add([0, yTranslate]);\n\n\t\tposition = position.add([7, 0]);\n\n\t\tgroup.addChild(item);\n\t}\n\n\treturn group;\n};\n\nKey.prototype.getPitches = function () {\n\treturn keyToPitches[this.value];\n};\n\nKey.prototype.equals = function (key) {\n\treturn (\n\t\tthis.type === key.type &&\n\t\tthis.value === key.value &&\n\t\tthis.measure === key.measure &&\n\t\tthis.beat === key.beat\n\t);\n};\n\nexport default Key;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Key.js","import paper from \"paper/dist/paper-core\";\n\nimport {drawRest, drawDots} from \"../engraver\";\nimport constants from \"../constants\";\nimport {restEquals} from \"../utils/equality\";\n\nconst TYPE = constants.type.rest;\n\nfunction Rest ({voice=0, value=4, dots=0, tuplet, time, slur}) {\n\tthis.voice = voice;\n\tthis.value = value;\n\tthis.dots = dots;\n\tthis.tuplet = tuplet;\n\tthis.time = time;\n\tthis.slur = slur;\n}\n\nRest.render = function (rest, context={}) {\n\treturn rest.render(context);\n}\n\nRest.prototype.type = TYPE;\n\nRest.prototype.render = function (context) {\n\tconst group = this.group = new paper.Group({\n\t\tname: TYPE\n\t});\n\n\tgroup.addChild(drawRest(this.value));\n\tgroup.position = [0, 0];\n\n\tif (this.dots) {\n\t\tthis.drawDots(this.dots, context.clef);\n\t}\n\n\treturn group;\n};\n\nRest.prototype.drawDots = function (dots) {\n\tconst noteHeadCenterY = this.group.bounds.center.y + Scored.config.note.head.yOffset;\n\tconst yPos = noteHeadCenterY - Scored.config.layout.stepSpacing;\n\n\tconst point = new paper.Point(this.group.bounds.right + (Scored.config.note.head.width / 2), yPos);\n\n\tconst dotGroups = drawDots(point, dots);\n\tthis.group.addChildren(dotGroups);\n};\n\nRest.prototype.drawGroupBounds = function (group) {\n\tconst rectangle = new paper.Path.Rectangle(new paper.Rectangle(group.bounds));\n\trectangle.name = \"bounds\";\n\t// rectangle.fillColor = \"blue\"; // create a fill so the center can be clicked\n\t// rectangle.opacity = 0.2;\n\tgroup.insertChild(0, rectangle);\n};\n\nRest.prototype.equals = function (rest) {\n\treturn restEquals(this, rest);\n};\n\nexport default Rest;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Rest.js","import paper from \"paper/dist/paper-core\";\nimport _ from \"lodash\";\n\nimport System from \"./System\";\nimport TimeContext from \"./TimeContext\";\nimport Slur from \"./Slur\";\nimport Text from \"./Text\";\nimport {createMeasures} from \"./Measure\";\nimport constants from \"../constants\";\nimport {map, reductions, clone, concat} from \"../utils/common\";\nimport {getTimeContexts} from \"../utils/line\";\nimport {getStaffItems, iterateByTime} from \"../utils/system\";\nimport {getAccidentalContexts} from \"../utils/accidental\";\nimport {getTime, equals} from \"../utils/timeUtils\";\nimport {isClef, isKey, isText, isTimeSignature} from \"../types\";\n\nconst TYPE = constants.type.score;\n\n/*\n * Class for managing Systems and Lines.\n * Meta data such as title/composer could also be attached here.\n * @param pageWidth - pixels given 72 dpi\n * @param pageHeight - pixels given 72 dpi\n */\nfunction Score ({pageWidth=595, pageHeight=842, length, title}, children=[]) {\n    /*\n     * A score should have both systems and lines.\n     * A line represents all measures from 0 to the end of the score. It is one-dimentional.\n     * A stave represents a section of the measures from all the lines. It is two-dimentional.\n     */\n    const types = _.groupBy(children, child => child.type);\n\n    this.timeSigs = types.timeSig || [];\n    this.lines = types.line || [];\n    this.systems = types.system || [];\n    this.pages = types.page || [];\n    this.length = length;\n    this.pageWidth = pageWidth;\n    this.pageHeight = pageHeight;\n    this.title = parseTitle(title);\n}\n\nScore.prototype.type = TYPE;\n\nScore.render = function (score, {measures, voices=[], chordSymbols=[], repeats=[], pages=[0]}) {\n    // Create the Score Group. No actual rendering is done here.\n    const scoreGroup = score.render();\n\n    // Optimize here. Measures shouldn't need to be recreated every time the score is re-rendered.\n    measures = measures || scoreToMeasures(score, repeats);\n\n    {\n        const times = measures.map(measure => measure.startsAt);\n        voices.map(voice => {\n            voice.breakDurations(times);\n        });\n    }\n\n    const systemsToRender = _.reduce(score.systems, (acc, system, index) => {\n        return _.contains(pages, system.page) ? concat(acc, {system, index}) : acc;\n    }, []);\n\n    if (systemsToRender.length) {\n        // get the start measure for each System.\n        const startMeasures = reductions((acc, system) => acc + system.measures, score.systems, 0);\n        const startTimes = startMeasures.map((measure) => getTime(measures, {measure}));\n\n        // [startTime inclusive, endTime exclusive]\n        const timeFrame = [startTimes[_.first(systemsToRender).index], startTimes[_.last(systemsToRender).index + 1]];\n\n        // get voice time frames for rendering decorations.\n        const voiceTimeFrames = voices.map(voice => {\n            if (isVoiceUsed(voice, score.lines)) {\n                return voice.getTimeFrame(timeFrame[0].time, timeFrame[1].time);\n            } else {\n                return null;\n            }\n        });\n        // slurs are grouped by voice.\n        const slurs = voiceTimeFrames.map(voice => {\n            return Slur.groupSlurs(voice, startTimes).map(slurred => {\n                const slurStartTime = _.first(slurred).time;\n                const slurEndTime = _.last(slurred).time;\n                const systemBreak = _.contains(startTimes.map(time => time.time), slurEndTime);\n                const isEnd = !!systemBreak && slurred.length === 1;\n                return Slur.of({systemBreak, isEnd}, slurred);\n        })});\n\n        const systemTimeContexts = partitionBySystem(createTimeContexts(score.lines, voices, measures, chordSymbols), startMeasures);\n\n        // Create the context marking for the beginning of each system.\n        map(({index}) => {\n            const systemContext = systemTimeContexts[index];\n            const firstTime = _.first(systemContext);\n            const startTime = startTimes[index]\n            const startContext = getStartContext(score, startTime);\n            if (firstTime) {\n                const time = firstTime.time\n                if (startTime.time < time.time) {\n                    // Add a new TimeContext for the startTime of the system.\n                    const systemTimeContext = _.map(startContext, _.partial(createLineTimeContext, startTime));\n                    systemTimeContexts[index] = [new TimeContext(systemTimeContext), ...systemContext];\n                } else {\n                    _.each(firstTime.lines, (timeContext, i) => {\n                        if (timeContext) { // there are items at the time.\n                            // add markings to the items list if they don't exist.\n                            const {context, items} = timeContext;\n                            if (!_.find(timeContext.items, isClef)) items.push(clone(context.clef));\n                            if (!_.find(timeContext.items, isKey)) items.push(clone(context.key));\n                            if (!_.find(timeContext.items, isTimeSignature)) items.push(clone(context.timeSig));\n                        } else { // create a context and marking items for the line\n                            firstTime.lines[i] = createLineTimeContext(startTime, startContext[i]);\n                        }\n                    });\n                }\n            } else {\n                // create a timeContext with the cloned startContext markings\n                const systemTimeContext = _.map(startContext, _.partial(createLineTimeContext, startTime));\n                systemContext.push(new TimeContext(systemTimeContext));\n            }\n        }, systemsToRender);\n\n        let systemOffset = 0;\n\n        if (score.title && _.contains(pages, 0)) {\n            const titleGroup = score.title.render();\n            const xTranslate = (score.length || score.pageWidth)/2;\n            titleGroup.translate(xTranslate, 0);\n            systemOffset = titleGroup.bounds.height;\n            scoreGroup.addChild(titleGroup);\n        }\n\n        const systemGroups = _.map(systemsToRender, ({system, index}, i) => {\n            const endMeasure = startMeasures[index] + system.measures;\n            const systemMeasures = _.slice(measures, startMeasures[index], endMeasure);\n            const timeContexts = systemTimeContexts[index];\n\n            const systemGroup = System.renderTimeContexts({\n                system, voices, timeContexts, chordSymbols,\n                lines: score.lines,\n                measures: systemMeasures,\n                length: system.length || score.length\n            });\n\n            const systemTranslation = (!_.contains(pages, system.page)) ?\n                score.pages[system.page].staffSpacing[i] || i * 250 :\n                score.pages[system.page].staffSpacing[i] || i * 250 + _.indexOf(pages, system.page) * score.pageHeight;\n\n            systemGroup.translate(system.indentation, systemTranslation + systemOffset);\n\n            return systemGroup;\n        });\n\n        // render slurs\n        const slurGroups = _.flatten(slurs).map(slur => slur.render());\n        scoreGroup.addChildren(slurGroups);\n        scoreGroup.addChildren(systemGroups);\n    }\n\n    return scoreGroup;\n};\n\nScore.prototype.render = function () {\n    const group = new paper.Group({\n        name: TYPE\n    });\n\n    return group;\n};\n\nfunction isVoiceUsed (voice, lines) {\n    return _.some(lines, line => _.some(line.voices, linesVoice => linesVoice === voice.name));\n}\n\nfunction getStartContext (score, time) {\n    return score.lines.map(line => line.contextAt(time));\n}\n\nexport function scoreToMeasures (score, repeats) {\n    const numMeasures = _.sum(score.systems, system => system.measures);\n    return createMeasures(numMeasures, [...score.timeSigs, ...repeats]);\n}\n\n/*\n * @param time - Time object.\n * @param context - Return value of line.contextAt.\n * @return TimeContext object {context, time, items}\n */\nexport function createLineTimeContext (time, context) {\n    const items = [clone(context.clef), clone(context.key), clone(context.timeSig)];\n    return {context, items, time};\n}\n\nfunction createTimeContexts (lines, voices, measures, chordSymbols) {\n    // get the time contexts\n\tconst lineItems = getStaffItems(lines, voices);\n    // FIXME: returned contexts are incorrect when clef starts on beat other than 0.\n\tconst lineTimes = map((line, items) => getTimeContexts(line, measures, items), lines, lineItems);\n\n    // calculate the accidentals for each line.\n\t_.each(lineTimes, (times) => {\n\t\tconst accidentals = getAccidentalContexts(times);\n\t\t// add accidentals to times\n\t\t_.each(times, (time, i) => time.context.accidentals = accidentals[i]);\n\t});\n\n    return iterateByTime(timeContext => {\n        let [symbols, ] = _.partition(chordSymbols, (sym) => {\n            const symbolTime = getTime(measures, sym);\n            const contextTime = _.find(timeContext, line => !!line).time;\n            return equals(contextTime, symbolTime);\n        });\n\n        return new TimeContext(timeContext, symbols);\n    }, lineTimes);\n}\n\n/*\n * @return [TimeContext[]]\n */\nexport function partitionBySystem (timeContexts, startMeasures) {\n    // split staffTimes and measures\n    let systemIdx = 0;\n\n    const systemTimeContexts =  _.reduce(timeContexts, (acc, timeContext) => {\n        const measure = timeContext.time.measure;\n        const shouldPartition = measure >= startMeasures[systemIdx + 1];\n\t\tif (shouldPartition) {\n            systemIdx++;\n            while (measure >= startMeasures[systemIdx + 1]) {\n                acc.push([]);\n                systemIdx++;\n            }\n\t\t\tlet partition = [timeContext];\n\t\t\tacc.push(partition);\n\t\t} else {\n            if (!acc[acc.length-1]) {\n                acc.push([timeContext]);\n            } else {\n                acc[acc.length-1].push(timeContext);\n            }\n\t\t}\n\t\treturn acc;\n\t}, []);\n\n    // add empty contexts for any remaining systemIdxs'\n    _.each(_.drop(startMeasures, systemIdx + 2), () => systemTimeContexts.push([]));\n\n    return systemTimeContexts;\n}\n\nfunction getLineByVoice (voice, lines) {\n    return _.find(lines, (line) => {\n        return _.indexOf(line.voices, voice) !== -1;\n    });\n}\n\nfunction parseTitle (title) {\n    if (isText(title)) {\n        return title;\n    } else if (_.isObject(title)) {\n        return new Text(title);\n    } else if (_.isString(title)) {\n        return new Text({value: title});\n    } else {\n        return null;\n    }\n}\n\nScore.getLineByVoice = getLineByVoice;\n\nexport default Score;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Score.js","import paper from \"paper/dist/paper-core\";\nimport {isEqual} from \"lodash\";\nimport {drawTimeSig} from \"../engraver\";\nimport constants from \"../constants\";\n\nconst TYPE = constants.type.timeSig;\n\nconst beatStructures = {\n\t\"4/4\": [1, 1, 1, 1],\n\t\"2/4\": [1, 1],\n\t\"c\": [2,2],\n\t\"h\": [2,2],\n\t\"3/4\": [1, 1, 1],\n\t\"12/8\": [3, 3, 3, 3],\n\t\"9/8\": [3, 3, 3],\n\t\"6/8\": [3, 3],\n\t\"3/8\": [3]\n};\n\nfunction TimeSignature ({value=\"4/4\", measure, beatStructure}) {\n\tthis.value = value;\n\tthis.measure = measure;\n\t// this.beatStructure = beatStructure || TimeSignature.createBeatStructure(value);\n\tthis.beatStructure = beatStructure || beatStructures[value];\n}\n\nTimeSignature.prototype.type = TYPE;\n\nTimeSignature.prototype.render = function () {\n\tconst margin = {\n\t\ttop: 0,\n\t\tleft: 2,\n\t\tbottom: 0,\n\t\tright: 10\n\t};\n\n\tconst group = this.group = new paper.Group({\n\t\tname: TYPE\n\t});\n\n\tgroup.addChild(drawTimeSig(this.value, margin));\n\tgroup.position = [0, 0];\n\n\treturn group;\n};\n\nTimeSignature.prototype.equals = function (timeSig) {\n\treturn (\n        this.type === timeSig.type &&\n\t\tthis.value === timeSig.value &&\n        this.measure === timeSig.measure &&\n        isEqual(this.beatStructure, timeSig.beatStructure)\n\t);\n};\n\nexport default TimeSignature;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/TimeSignature.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap) {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n  var base64 = new Buffer(JSON.stringify(sourceMap)).toString('base64');\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n  return '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 30\n// module chunks = 0","/**\n * @license\n * lodash 3.10.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.10.1';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns)\n   * and those outlined by [`EscapeRegExpPattern`](http://ecma-international.org/ecma-262/6.0/#sec-escaperegexppattern).\n   */\n  var reRegExpChars = /^[:!,]|[\\\\^$.*+?()[\\]{}|\\/]|(^[0-9a-fA-Fnrtuvx])|([\\n\\r\\u2028\\u2029])/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](http://ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'isFinite',\n    'parseFloat', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled regexes. */\n  var regexpEscapes = {\n    '0': 'x30', '1': 'x31', '2': 'x32', '3': 'x33', '4': 'x34',\n    '5': 'x35', '6': 'x36', '7': 'x37', '8': 'x38', '9': 'x39',\n    'A': 'x41', 'B': 'x42', 'C': 'x43', 'D': 'x44', 'E': 'x45', 'F': 'x46',\n    'a': 'x61', 'b': 'x62', 'c': 'x63', 'd': 'x64', 'e': 'x65', 'f': 'x66',\n    'n': 'x6e', 'r': 'x72', 't': 'x74', 'u': 'x75', 'v': 'x76', 'x': 'x78'\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it's the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsNull = value === null,\n          valIsUndef = value === undefined,\n          valIsReflexive = value === value;\n\n      var othIsNull = other === null,\n          othIsUndef = other === undefined,\n          othIsReflexive = other === other;\n\n      if ((value > other && !othIsNull) || !valIsReflexive ||\n          (valIsNull && !othIsUndef && othIsReflexive) ||\n          (valIsUndef && othIsReflexive)) {\n        return 1;\n      }\n      if ((value < other && !valIsNull) || !othIsReflexive ||\n          (othIsNull && !valIsUndef && valIsReflexive) ||\n          (othIsUndef && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it's not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of a value to another\n   * and stable sort them.\n   *\n   * If `orders` is unspecified, all valuess are sorted in ascending order. Otherwise,\n   * a value is sorted in ascending order if its corresponding order is \"asc\", and\n   * descending if \"desc\".\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        var order = orders[index];\n        return result * ((order === 'asc' || order === true) ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.escapeRegExp` to escape characters for inclusion in compiled regexes.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @param {string} leadingChar The capture group for a leading character.\n   * @param {string} whitespaceChar The capture group for a whitespace character.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeRegExpChar(chr, leadingChar, whitespaceChar) {\n    if (leadingChar) {\n      chr = regexpEscapes[chr];\n    } else if (whitespaceChar) {\n      chr = stringEscapes[chr];\n    }\n    return '\\\\' + chr;\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = context.ArrayBuffer,\n        clearTimeout = context.clearTimeout,\n        parseFloat = context.parseFloat,\n        pow = Math.pow,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = getNative(context, 'Set'),\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = context.Uint8Array,\n        WeakMap = getNative(context, 'WeakMap');\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeCreate = getNative(Object, 'create'),\n        nativeFloor = Math.floor,\n        nativeIsArray = getNative(Array, 'isArray'),\n        nativeIsFinite = context.isFinite,\n        nativeKeys = getNative(Object, 'keys'),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = getNative(Date, 'now'),\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = 4294967295,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /**\n     * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = 9007199254740991;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that retrieve a single value or may return a\n     * primitive value will automatically end the chain returning the unwrapped\n     * value. Explicit chaining may be enabled using `_.chain`. The execution of\n     * chained methods is lazy, that is, execution is deferred until `_#value`\n     * is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization strategy which merge iteratee calls; this can help\n     * to avoid the creation of intermediate data structures and greatly reduce the\n     * number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defaultsDeep`,\n     * `defer`, `delay`, `difference`, `drop`, `dropRight`, `dropRightWhile`,\n     * `dropWhile`, `fill`, `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`,\n     * `matchesProperty`, `memoize`, `merge`, `method`, `methodOf`, `mixin`,\n     * `modArgs`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `restParam`,\n     * `reverse`, `set`, `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`,\n     * `sortByOrder`, `splice`, `spread`, `take`, `takeRight`, `takeRightWhile`,\n     * `takeWhile`, `tap`, `throttle`, `thru`, `times`, `toArray`, `toPlainObject`,\n     * `transform`, `union`, `uniq`, `unshift`, `unzip`, `unzipWith`, `values`,\n     * `valuesIn`, `where`, `without`, `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clone`, `cloneDeep`,\n     * `deburr`, `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`,\n     * `floor`, `get`, `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`,\n     * `inRange`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isError`, `isFinite` `isFunction`, `isMatch`,\n     * `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`, `isPlainObject`,\n     * `isRegExp`, `isString`, `isUndefined`, `isTypedArray`, `join`, `kebabCase`,\n     * `last`, `lastIndexOf`, `lt`, `lte`, `max`, `min`, `noConflict`, `noop`,\n     * `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `repeat`, `result`, `round`, `runInContext`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`,\n     * `startsWith`, `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`,\n     * `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = arrayCopy(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = arrayCopy(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = arrayCopy(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || arrLength < LARGE_ARRAY_SIZE || (arrLength == length && takeCount == length)) {\n        return baseWrapperValue((isRight && isArr) ? array.reverse() : array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a new array joining `array` with `other`.\n     *\n     * @private\n     * @param {Array} array The array to join.\n     * @param {Array} other The other array to join.\n     * @returns {Array} Returns the new concatenated array.\n     */\n    function arrayConcat(array, other) {\n      var index = -1,\n          length = array.length,\n          othIndex = -1,\n          othLength = other.length,\n          result = Array(length + othLength);\n\n      while (++index < length) {\n        result[index] = array[index];\n      }\n      while (++othIndex < othLength) {\n        result[index++] = other[othIndex];\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\n     * with one argument: (value).\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function arrayExtremum(array, iteratee, comparator, exValue) {\n      var index = -1,\n          length = array.length,\n          computed = exValue,\n          result = computed;\n\n      while (++index < length) {\n        var value = array[index],\n            current = +iteratee(value);\n\n        if (comparator(current, computed)) {\n          computed = current;\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * Appends the elements of `values` to `array`.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to append.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayPush(array, values) {\n      var index = -1,\n          length = values.length,\n          offset = array.length;\n\n      while (++index < length) {\n        array[offset + index] = values[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for callback\n     * shorthands and `this` binding..\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array, iteratee) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +iteratee(array[length]) || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var index = -1,\n          props = keys(source),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr ? collection.length : 0,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          object.prototype = prototype;\n          var result = new object;\n          object.prototype = undefined;\n        }\n        return result || {};\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index|key, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(collection, iteratee, comparator, exValue) {\n      var computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = +iteratee(value, index, collection);\n        if (comparator(current, computed) || (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict, result) {\n      result || (result = []);\n\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, isDeep, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      if (pathKey !== undefined && pathKey in toObject(object)) {\n        path = [pathKey];\n      }\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[path[index++]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} matchData The propery names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = toObject(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        var key = matchData[0][0],\n            value = matchData[0][1];\n\n        return function(object) {\n          if (object == null) {\n            return false;\n          }\n          return object[key] === value && (value !== undefined || (key in toObject(object)));\n        };\n      }\n      return function(object) {\n        return baseIsMatch(object, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(srcValue),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === srcValue\n          ? (srcValue !== undefined || (key in object))\n          : baseIsEqual(srcValue, object[key], undefined, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n          props = isSrcArr ? undefined : keys(source);\n\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((result !== undefined || (isSrcArr && !(key in object))) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = indexes[length];\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + nativeFloor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= LARGE_ARRAY_SIZE,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var action = actions[index];\n        result = action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if ((retHighest ? (computed <= value) : (computed < value)) && computed !== null) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isDef = computed !== undefined,\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsNull) {\n          setLow = isReflexive && isDef && (retHighest || computed != null);\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || isDef);\n        } else if (computed == null) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      var result = new ArrayBuffer(buffer.byteLength),\n          view = new Uint8Array(result);\n\n      view.set(new Uint8Array(buffer));\n      return result;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(leftLength + argsLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a `_.countBy`, `_.groupBy`, `_.indexBy`, or `_.partition` function.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 ? sources[length - 2] : undefined,\n            guard = length > 2 ? sources[2] : undefined,\n            thisArg = length > 1 ? sources[length - 1] : undefined;\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : undefined;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    function createCache(values) {\n      return (nativeCreate && Set) ? new SetCache(values) : null;\n    }\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors.\n        // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = undefined;\n        }\n        var result = createWrapper(func, flag, undefined, undefined, undefined, undefined, undefined, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.defaults` or `_.defaultsDeep` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Function} Returns the new defaults function.\n     */\n    function createDefaults(assigner, customizer) {\n      return restParam(function(args) {\n        var object = args[0];\n        if (object == null) {\n          return object;\n        }\n        args.push(customizer);\n        return assigner.apply(undefined, args);\n      });\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(comparator, exValue) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = undefined;\n        }\n        iteratee = getCallback(iteratee, thisArg, 3);\n        if (iteratee.length == 1) {\n          collection = isArray(collection) ? collection : toIterable(collection);\n          var result = arrayExtremum(collection, iteratee, comparator, exValue);\n          if (!(collection.length && result === exValue)) {\n            return result;\n          }\n        }\n        return baseExtremum(collection, iteratee, comparator, exValue);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var wrapper,\n            length = arguments.length,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper') {\n            wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, undefined, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n          Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : undefined,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : undefined,\n                newHoldersRight = isCurry ? undefined : argsHolders,\n                newPartials = isCurry ? args : undefined,\n                newPartialsRight = isCurry ? undefined : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtorWrapper(func);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, nativeCeil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.ceil`, `_.floor`, or `_.round` function.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        precision = precision === undefined ? 0 : (+precision || 0);\n        if (precision) {\n          precision = pow(10, precision);\n          return func(number * precision) / precision;\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var callback = getCallback(iteratee);\n        return (iteratee == null && callback === baseCallback)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, callback(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index],\n            result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n        if (result !== undefined) {\n          if (result) {\n            continue;\n          }\n          return false;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (isLoose) {\n          if (!arraySome(other, function(othValue) {\n                return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              })) {\n            return false;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      var skipCtor = isLoose;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key],\n            result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = func.name,\n          array = realNames[result],\n          length = array ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Gets the propery names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = pairs(object),\n          length = result.length;\n\n      while (length--) {\n        result[length][2] = isStrictComparable(result[length][1]);\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = object == null ? undefined : object[key];\n      return isNative(value) ? value : undefined;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func);\n      if (!(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      var other = lodash[funcName];\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function mergeDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length;\n\n      var allowIndexes = !!length && isLength(length) &&\n        (isArray(object) || isArguments(object));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(nativeFloor(size) || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of unique `array` values not included in the other\n     * provided arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return (isObjectLike(array) && isArrayLike(array))\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value);\n        if (index < length &&\n            (value === value ? (value === array[index]) : (array[index] !== array[index]))) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values that are included in all of the provided\n     * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    var intersection = restParam(function(arrays) {\n      var othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(length),\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          result = [];\n\n      while (othIndex--) {\n        var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\n        caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\n      }\n      var array = arrays[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          var othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all of the provided arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it is invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? undefined : isSorted;\n        isSorted = false;\n      }\n      var callback = getCallback();\n      if (!(iteratee == null && callback === baseCallback)) {\n        iteratee = callback(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? arrayPush(baseDifference(result, array), baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 2 ? arrays[length - 2] : undefined,\n          thisArg = length > 1 ? arrays[length - 1] : undefined;\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a new array joining a wrapped array with any additional arrays\n     * and/or values.\n     *\n     * @name concat\n     * @memberOf _\n     * @category Chain\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var wrapped = _(array).concat(2, [3], [[4]]);\n     *\n     * console.log(wrapped.value());\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    var wrapperConcat = restParam(function(values) {\n      values = baseFlatten(values);\n      return this.thru(function(array) {\n        return arrayConcat(isArray(array) ? array : [toObject(array)], values);\n      });\n    });\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapped = wrapped.plant(other);\n     *\n     * otherWrapped.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n\n      var interceptor = function(value) {\n        return (wrapped && wrapped.__dir__ < 0) ? value : value.reverse();\n      };\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(interceptor);\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it is used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex <= length && collection.indexOf(target, fromIndex) > -1)\n        : (!!length && getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it is\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `sortByAll`,\n     * and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var index = -1,\n          result = toArray(collection),\n          length = result.length,\n          lastIndex = length - 1;\n\n      n = nativeMin(n < 0 ? 0 : (+n || 0), length);\n      while (++index < n) {\n        var rand = baseRandom(index, lastIndex),\n            value = result[rand];\n\n        result[rand] = result[index];\n        result[index] = value;\n      }\n      result.length = n;\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      return sample(collection, POSITIVE_INFINITY);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. If `orders` is unspecified, all\n     * values are sorted in ascending order. Otherwise, a value is sorted in\n     * ascending order if its corresponding order is \"asc\", and descending if \"desc\".\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], ['asc', 'desc']), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = undefined;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = undefined;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the debounced function return the result of the last\n     * `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = !!options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        lastCalled = 0;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function complete(isCalled, id) {\n        if (id) {\n          clearTimeout(id);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = undefined;\n          }\n        }\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          complete(trailingCall, maxTimeoutId);\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        complete(trailing, timeoutId);\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = undefined;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that runs each argument through a corresponding\n     * transform function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms] The functions to transform\n     * arguments, specified as individual functions or arrays of functions.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var modded = _.modArgs(function(x, y) {\n     *   return [x, y];\n     * }, square, doubled);\n     *\n     * modded(1, 2);\n     * // => [1, 4]\n     *\n     * modded(5, 10);\n     * // => [25, 20]\n     */\n    var modArgs = restParam(function(func, transforms) {\n      transforms = baseFlatten(transforms);\n      if (typeof func != 'function' || !arrayEvery(transforms, baseIsFunction)) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = transforms.length;\n      return restParam(function(args) {\n        var index = nativeMin(args.length, length);\n        while (index--) {\n          args[index] = transforms[index](args[index]);\n        }\n        return func.apply(this, args);\n      });\n    });\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed invocations. Provide an options object to indicate\n     * that `func` should be invoked on the leading and/or trailing edge of the\n     * `wait` timeout. Subsequent calls to the throttled function return the\n     * result of the last `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, undefined, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      return typeof customizer == 'function'\n        ? baseClone(value, isDeep, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, isDeep);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      return typeof customizer == 'function'\n        ? baseClone(value, true, bindCallback(customizer, thisArg, 1))\n        : baseClone(value, true);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    function gt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    function gte(value, other) {\n      return value >= other;\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @alias eq\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](http://ecma-international.org/ecma-262/6.0/#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return isObject(value) && objToString.call(value) == funcTag;\n    }\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      return baseIsMatch(object, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (isFunction(value)) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reIsHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      var Ctor;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\n          (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObject(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`, else `false`.\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    function lt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    function lte(value, other) {\n      return value <= other;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = undefined;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = createDefaults(assign, assignDefaults);\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n     * // => { 'user': { 'name': 'barney', 'age': 36 } }\n     *\n     */\n    var defaultsDeep = createDefaults(merge, mergeDefaults);\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value at `path` of `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), path + '');\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        if (object == null) {\n          return false;\n        }\n        path = last(path);\n        result = hasOwnProperty.call(object, path);\n      }\n      return result || (isLength(object.length) && isIndex(path, object.length) &&\n        (isArray(object) || isArguments(object)));\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = undefined;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object == null ? undefined : object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || isArguments(object)) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      object = toObject(object);\n\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it is invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : object[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : object[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it is created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == lastIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) ? Ctor.prototype : undefined);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = undefined;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, escapeRegExpChar)\n        : (string || '(?:)');\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = nativeFloor(mid),\n          rightLength = nativeCeil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n      // Chrome fails to trim leading <BOM> whitespace characters.\n      // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n      if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      string = trim(string);\n      return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = undefined;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = undefined;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = undefined;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, true));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` on a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path on `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj ? keys(source) : undefined,\n            methodNames = (props && props.length) ? baseFunctions(source, props) : undefined;\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              return func.apply(object, arrayPush([this.value()], arguments));\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      root._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function that returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), path + '');\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = undefined;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = nativeFloor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Calculates `n` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Calculates `n` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(gt, NEGATIVE_INFINITY);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(lt, POSITIVE_INFINITY);\n\n    /**\n     * Calculates `n` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return iteratee.length == 1\n        ? arraySum(isArray(collection) ? collection : toIterable(collection), iteratee)\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.modArgs = modArgs;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.floor = floor;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.eq = isEqual;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__;\n        if (filtered && !index) {\n          return new LazyWrapper(this);\n        }\n        n = n == null ? 1 : nativeMax(nativeFloor(n) || 0, 0);\n\n        var result = this.clone();\n        if (filtered) {\n          result.__takeCount__ = nativeMin(result.__takeCount__, n);\n        } else {\n          result.__views__.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type != LAZY_MAP_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var result = this.clone();\n        result.__iteratees__.push({ 'iteratee': getCallback(iteratee, thisArg, 1), 'type': type });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate, thisArg) {\n      return this.reverse().takeWhile(predicate, thisArg).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(POSITIVE_INFINITY);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName),\n          lodashFunc = lodash[retUnwrapped ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName];\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var args = retUnwrapped ? [1] : arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var interceptor = function(value) {\n          return (retUnwrapped && chainAll)\n            ? lodashFunc(value, 1)[0]\n            : lodashFunc.apply(undefined, arrayPush([value], args));\n        };\n\n        var action = { 'func': thru, 'args': [interceptor], 'thisArg': undefined },\n            onlyLazy = isLazy && !isHybrid;\n\n        if (retUnwrapped && !chainAll) {\n          if (onlyLazy) {\n            value = value.clone();\n            value.__actions__.push(action);\n            return func.call(value);\n          }\n          return lodashFunc.call(undefined, this.value())[0];\n        }\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push(action);\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name,\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(undefined, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.concat = wrapperConcat;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Rhino with CommonJS support.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/palestrina/~/lodash/index.js\n// module id = 31\n// module chunks = 0","var accidentalValues = {\n  'bb': -2,\n  'b': -1,\n  '': 0,\n  '#': 1,\n  'x': 2\n};\n\nmodule.exports = function accidentalNumber(acc) {\n  return accidentalValues[acc];\n}\n\nmodule.exports.interval = function accidentalInterval(acc) {\n  var val = accidentalValues[acc];\n  return [-4 * val, 7 * val];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/accidental-value/index.js","/**\n * @license Fraction.js v3.3.1 09/09/2015\n * http://www.xarg.org/2014/03/precise-calculations-in-javascript/\n *\n * Copyright (c) 2015, Robert Eisele (robert@xarg.org)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n **/\n\n\n/**\n *\n * This class offers the possibility to calculate fractions.\n * You can pass a fraction in different formats. Either as array, as double, as string or as an integer.\n *\n * Array/Object form\n * [ 0 => <nominator>, 1 => <denominator> ]\n * [ n => <nominator>, d => <denominator> ]\n *\n * Integer form\n * - Single integer value\n *\n * Double form\n * - Single double value\n *\n * String form\n * 123.456 - a simple double\n * 123/456 - a string fraction\n * 123.'456' - a double with repeating decimal places\n * 123.(456) - synonym\n * 123.45'6' - a double with repeating last place\n * 123.45(6) - synonym\n *\n * Example:\n *\n * var f = new Fraction(\"9.4'31'\");\n * f.mul([-4, 3]).div(4.9);\n *\n */\n\n(function(root) {\n\n  \"use strict\";\n\n  // Maximum search depth for cyclic rational numbers. 2000 should be more than enough. \n  // Example: 1/7 = 0.(142857) has 6 repeating decimal places.\n  // If MAX_CYCLE_LEN gets reduced, long cycles will not be detected and toString() only gets the first 10 digits\n  var MAX_CYCLE_LEN = 2000;\n\n  // Parsed data to avoid calling \"new\" all the time\n  var P = {\n    \"s\": 1,\n    \"n\": 0,\n    \"d\": 1\n  };\n\n  function assign(n, s) {\n\n    if (isNaN(n = parseInt(n, 10))) {\n      throwInvalidParam();\n    }\n    return n * s;\n  }\n\n  function throwInvalidParam() {\n    throw \"Invalid Param\";\n  }\n\n  var parse = function(p1, p2) {\n\n    var n = 0, d = 1, s = 1;\n    var v = 0, w = 0, x = 0, y = 1, z = 1;\n\n    var A = 0, B = 1;\n    var C = 1, D = 1;\n\n    var N = 10000000;\n    var M;\n\n    if (p1 === undefined || p1 === null) {\n      /* void */\n    } else if (p2 !== undefined) {\n      n = p1;\n      d = p2;\n      s = n * d;\n    } else\n      switch (typeof p1) {\n\n        case \"object\":\n        {\n          if (\"d\" in p1 && \"n\" in p1) {\n            n = p1[\"n\"];\n            d = p1[\"d\"];\n            if (\"s\" in p1)\n              n*= p1[\"s\"];\n          } else if (0 in p1) {\n            n = p1[0];\n            if (1 in p1)\n              d = p1[1];\n          } else {\n            throwInvalidParam();\n          }\n          s = n * d;\n          break;\n        }\n        case \"number\":\n        {\n          if (p1 < 0) {\n            s = p1;\n            p1 = -p1;\n          }\n\n          if (p1 % 1 === 0) {\n            n = p1;\n          } else if (p1 > 0) { // check for != 0, scale would become NaN (log(0)), which converges really slow\n\n            if (p1 >= 1) {\n              z = Math.pow(10, Math.floor(1 + Math.log(p1) / Math.LN10));\n              p1/= z;\n            }\n\n            // Using Farey Sequences\n            // http://www.johndcook.com/blog/2010/10/20/best-rational-approximation/\n\n            while (B <= N && D <= N) {\n              M = (A + C) / (B + D);\n\n              if (p1 === M) {\n                if (B + D <= N) {\n                  n = A + C;\n                  d = B + D;\n                } else if (D > B) {\n                  n = C;\n                  d = D;\n                } else {\n                  n = A;\n                  d = B;\n                }\n                break;\n\n              } else {\n\n                if (p1 > M) {\n                  A+= C;\n                  B+= D;\n                } else {\n                  C+= A;\n                  D+= B;\n                }\n\n                if (B > N) {\n                  n = C;\n                  d = D;\n                } else {\n                  n = A;\n                  d = B;\n                }\n              }\n            }\n            n*= z;\n          } else if (isNaN(p1) || isNaN(p2)) {\n            d = n = NaN;\n          }\n          break;\n        }\n        case \"string\":\n        {\n          B = p1.match(/\\d+|./g);\n\n          if (B[A] === '-') {// Check for minus sign at the beginning\n            s = -1;\n            A++;\n          } else if (B[A] === '+') {// Check for plus sign at the beginning\n            A++;\n          }\n\n          if (B.length === A + 1) { // Check if it's just a simple number \"1234\"\n            w = assign(B[A++], s);\n          } else if (B[A + 1] === '.' || B[A] === '.') { // Check if it's a decimal number\n\n            if (B[A] !== '.') { // Handle 0.5 and .5\n              v = assign(B[A++], s);\n            }\n            A++;\n\n            // Check for decimal places\n            if (A + 1 === B.length || B[A + 1] === '(' && B[A + 3] === ')' || B[A + 1] === \"'\" && B[A + 3] === \"'\") {\n              w = assign(B[A], s);\n              y = Math.pow(10, B[A].length);\n              A++;\n            }\n\n            // Check for repeating places\n            if (B[A] === '(' && B[A + 2] === ')' || B[A] === \"'\" && B[A + 2] === \"'\") {\n              x = assign(B[A + 1], s);\n              z = Math.pow(10, B[A + 1].length) - 1;\n              A+= 3;\n            }\n\n          } else if (B[A + 1] === '/' || B[A + 1] === ':') { // Check for a simple fraction \"123/456\" or \"123:456\"\n            w = assign(B[A], s);\n            y = assign(B[A + 2], 1);\n            A+= 3;\n          } else if (B[A + 3] === '/' && B[A + 1] === ' ') { // Check for a complex fraction \"123 1/2\"\n            v = assign(B[A], s);\n            w = assign(B[A + 2], s);\n            y = assign(B[A + 4], 1);\n            A+= 5;\n          }\n\n          if (B.length <= A) { // Check for more tokens on the stack\n            d = y * z;\n            s = /* void */\n                    n = x + d * v + z * w;\n            break;\n          }\n\n          /* Fall through on error */\n        }\n        default:\n          throwInvalidParam();\n      }\n\n    if (d === 0) {\n      throw \"DIV/0\";\n    }\n\n    P[\"s\"] = s < 0 ? -1 : 1;\n    P[\"n\"] = Math.abs(n);\n    P[\"d\"] = Math.abs(d);\n  };\n\n  var modpow = function(b, e, m) {\n\n    for (var r = 1; e > 0; b = (b * b) % m, e >>= 1) {\n\n      if (e & 1) {\n        r = (r * b) % m;\n      }\n    }\n    return r;\n  };\n\n  var cycleLen = function(n, d) {\n\n    for (; d % 2 === 0;\n            d/= 2) {}\n\n    for (; d % 5 === 0;\n            d/= 5) {}\n\n    if (d === 1) // Catch non-cyclic numbers\n      return 0;\n\n    // If we would like to compute really large numbers quicker, we could make use of Fermat's little theorem:\n    // 10^(d-1) % d == 1\n    // However, we don't need such large numbers and MAX_CYCLE_LEN should be the capstone, \n    // as we want to translate the numbers to strings.\n\n    var rem = 10 % d;\n\n    for (var t = 1; rem !== 1; t++) {\n      rem = rem * 10 % d;\n\n      if (t > MAX_CYCLE_LEN)\n        return 0; // Returning 0 here means that we don't print it as a cyclic number. It's likely that the answer is `d-1`\n    }\n    return t;\n  };\n\n  var cycleStart = function(n, d, len) {\n\n    var rem1 = 1;\n    var rem2 = modpow(10, len, d);\n\n    for (var t = 0; t < 300; t++) { // s < ~log10(Number.MAX_VALUE)\n      // Solve 10^s == 10^(s+t) (mod d)\n\n      if (rem1 === rem2)\n        return t;\n\n      rem1 = rem1 * 10 % d;\n      rem2 = rem2 * 10 % d;\n    }\n    return 0;\n  };\n\n  var gcd = function(a, b) {\n\n    if (!a) return b;\n    if (!b) return a;\n\n    while (1) {\n      a%= b;\n      if (!a) return b;\n      b%= a;\n      if (!b) return a;\n    }\n  };\n\n  /**\n   * Module constructor\n   *\n   * @constructor\n   * @param {number|Fraction} a\n   * @param {number=} b\n   */\n  function Fraction(a, b) {\n\n    if (!(this instanceof Fraction)) {\n      return new Fraction(a, b);\n    }\n\n    parse(a, b);\n\n    if (Fraction['REDUCE']) {\n      a = gcd(P[\"d\"], P[\"n\"]); // Abuse a\n    } else {\n      a = 1;\n    }\n\n    this[\"s\"] = P[\"s\"];\n    this[\"n\"] = P[\"n\"] / a;\n    this[\"d\"] = P[\"d\"] / a;\n  }\n\n  /**\n   * Boolean global variable to be able to disable automatic reduction of the fraction\n   *\n   */\n  Fraction['REDUCE'] = 1;\n\n  Fraction.prototype = {\n\n    \"s\": 1,\n    \"n\": 0,\n    \"d\": 1,\n\n    /**\n     * Calculates the absolute value\n     *\n     * Ex: new Fraction(-4).abs() => 4\n     **/\n    \"abs\": function() {\n\n      return new Fraction(this[\"n\"], this[\"d\"]);\n    },\n\n    /**\n     * Inverts the sign of the current fraction\n     *\n     * Ex: new Fraction(-4).neg() => 4\n     **/\n    \"neg\": function() {\n\n      return new Fraction(-this[\"s\"] * this[\"n\"], this[\"d\"]);\n    },\n\n    /**\n     * Adds two rational numbers\n     *\n     * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => 467 / 30\n     **/\n    \"add\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * this[\"n\"] * P[\"d\"] + P[\"s\"] * this[\"d\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Subtracts two rational numbers\n     *\n     * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => -427 / 30\n     **/\n    \"sub\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * this[\"d\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Multiplies two rational numbers\n     *\n     * Ex: new Fraction(\"-17.(345)\").mul(3) => 5776 / 111\n     **/\n    \"mul\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Divides two rational numbers\n     *\n     * Ex: new Fraction(\"-17.(345)\").inverse().div(3)\n     **/\n    \"div\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"d\"],\n              this[\"d\"] * P[\"n\"]\n              );\n    },\n\n    /**\n     * Clones the actual object\n     *\n     * Ex: new Fraction(\"-17.(345)\").clone()\n     **/\n    \"clone\": function() {\n      return new Fraction(this);\n    },\n\n    /**\n     * Calculates the modulo of two rational numbers - a more precise fmod\n     *\n     * Ex: new Fraction('4.(3)').mod([7, 8]) => (13/3) % (7/8) = (5/6)\n     **/\n    \"mod\": function(a, b) {\n\n      if (isNaN(this['n']) || isNaN(this['d'])) {\n        return new Fraction(NaN);\n      }\n\n      if (a === undefined) {\n        return new Fraction(this[\"s\"] * this[\"n\"] % this[\"d\"], 1);\n      }\n\n      parse(a, b);\n      if (0 === P[\"n\"] && 0 === this[\"d\"]) {\n        Fraction(0, 0); // Throw div/0\n      }\n\n      /*\n       * First silly attempt, kinda slow\n       *\n       return that[\"sub\"]({\n       \"n\": num[\"n\"] * Math.floor((this.n / this.d) / (num.n / num.d)),\n       \"d\": num[\"d\"],\n       \"s\": this[\"s\"]\n       });*/\n\n      /*\n       * New attempt: a1 / b1 = a2 / b2 * q + r\n       * => b2 * a1 = a2 * b1 * q + b1 * b2 * r\n       * => (b2 * a1 % a2 * b1) / (b1 * b2)\n       */\n      return new Fraction(\n              (this[\"s\"] * P[\"d\"] * this[\"n\"]) % (P[\"n\"] * this[\"d\"]),\n              P[\"d\"] * this[\"d\"]\n              );\n    },\n\n    /**\n     * Calculates the fractional gcd of two rational numbers\n     *\n     * Ex: new Fraction(5,8).gcd(3,7) => 1/56\n     */\n    \"gcd\": function(a, b) {\n\n      parse(a, b);\n\n      // gcd(a / b, c / d) = gcd(a, c) / lcm(b, d)\n\n      return new Fraction(gcd(P[\"n\"], this[\"n\"]), P[\"d\"] * this[\"d\"] / gcd(P[\"d\"], this[\"d\"]));\n    },\n\n    /**\n     * Calculates the fractional lcm of two rational numbers\n     *\n     * Ex: new Fraction(5,8).lcm(3,7) => 15\n     */\n    \"lcm\": function(a, b) {\n\n      parse(a, b);\n\n      // lcm(a / b, c / d) = lcm(a, c) / gcd(b, d)\n\n      if (P[\"n\"] === 0 && this[\"n\"] === 0) {\n        return new Fraction;\n      }\n      return new Fraction(P[\"n\"] * this[\"n\"] / gcd(P[\"n\"], this[\"n\"]), gcd(P[\"d\"], this[\"d\"]));\n    },\n\n    /**\n     * Calculates the ceil of a rational number\n     *\n     * Ex: new Fraction('4.(3)').ceil() => (5 / 1)\n     **/\n    \"ceil\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.ceil(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Calculates the floor of a rational number\n     *\n     * Ex: new Fraction('4.(3)').floor() => (4 / 1)\n     **/\n    \"floor\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.floor(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Rounds a rational numbers\n     *\n     * Ex: new Fraction('4.(3)').round() => (4 / 1)\n     **/\n    \"round\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.round(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Gets the inverse of the fraction, means numerator and denumerator are exchanged\n     *\n     * Ex: new Fraction([-3, 4]).inverse() => -4 / 3\n     **/\n    \"inverse\": function() {\n\n      return new Fraction(this[\"s\"] * this[\"d\"], this[\"n\"]);\n    },\n\n    /**\n     * Calculates the fraction to some integer exponent\n     *\n     * Ex: new Fraction(-1,2).pow(-3) => -8\n     */\n    \"pow\": function(m) {\n\n      if (m < 0) {\n        return new Fraction(Math.pow(this['s'] * this[\"d\"],-m), Math.pow(this[\"n\"],-m));\n      } else {\n        return new Fraction(Math.pow(this['s'] * this[\"n\"], m), Math.pow(this[\"d\"], m));\n      }\n    },\n\n    /**\n     * Check if two rational numbers are the same\n     *\n     * Ex: new Fraction(19.6).equals([98, 5]);\n     **/\n    \"equals\": function(a, b) {\n\n      parse(a, b);\n      return this[\"s\"] * this[\"n\"] * P[\"d\"] === P[\"s\"] * P[\"n\"] * this[\"d\"]; // Same as compare() === 0\n    },\n\n    /**\n     * Check if two rational numbers are the same\n     *\n     * Ex: new Fraction(19.6).equals([98, 5]);\n     **/\n    \"compare\": function(a, b) {\n\n      parse(a, b);\n      var t = (this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * P[\"n\"] * this[\"d\"]);\n      return (0 < t) - (t < 0);\n    },\n\n    /**\n     * Check if two rational numbers are divisible\n     *\n     * Ex: new Fraction(19.6).divisible(1.5);\n     */\n    \"divisible\": function(a, b) {\n\n      parse(a, b);\n      return !(!(P[\"n\"] * this[\"d\"]) || ((this[\"n\"] * P[\"d\"]) % (P[\"n\"] * this[\"d\"])));\n    },\n\n    /**\n     * Returns a decimal representation of the fraction\n     *\n     * Ex: new Fraction(\"100.'91823'\").valueOf() => 100.91823918239183\n     **/\n    'valueOf': function() {\n\n      return this[\"s\"] * this[\"n\"] / this[\"d\"];\n    },\n\n    /**\n     * Returns a string-fraction representation of a Fraction object\n     *\n     * Ex: new Fraction(\"1.'3'\").toFraction() => \"4 1/3\"\n     **/\n    'toFraction': function(excludeWhole) {\n\n      var whole, str = \"\";\n      var n = this[\"n\"];\n      var d = this[\"d\"];\n      if (this[\"s\"] < 0) {\n        str+= '-';\n      }\n\n      if (d === 1) {\n        str+= n;\n      } else {\n\n        if (excludeWhole && (whole = Math.floor(n / d)) > 0) {\n          str+= whole;\n          str+= \" \";\n          n%= d;\n        }\n\n        str+= n;\n        str+= '/';\n        str+= d;\n      }\n      return str;\n    },\n\n    /**\n     * Returns a latex representation of a Fraction object\n     *\n     * Ex: new Fraction(\"1.'3'\").toLatex() => \"\\frac{4}{3}\"\n     **/\n    'toLatex': function(excludeWhole) {\n\n      var whole, str = \"\";\n      var n = this[\"n\"];\n      var d = this[\"d\"];\n      if (this[\"s\"] < 0) {\n        str+= '-';\n      }\n\n      if (d === 1) {\n        str+= n;\n      } else {\n\n        if (excludeWhole && (whole = Math.floor(n / d)) > 0) {\n          str+= whole;\n          n%= d;\n        }\n\n        str+= \"\\\\frac{\";\n        str+= n;\n        str+= '}{';\n        str+= d;\n        str+= '}';\n      }\n      return str;\n    },\n\n    /**\n     * Returns an array of continued fraction elements\n     * \n     * Ex: new Fraction(\"7/8\").toContinued() => [0,1,7]\n     */\n    'toContinued': function() {\n\n      var t;\n      var a = this['n'];\n      var b = this['d'];\n      var res = [];\n\n      do {\n        res.push(Math.floor(a / b));\n        t = a % b;\n        a = b;\n        b = t;\n      } while (a !== 1);\n\n      return res;\n    },\n\n    /**\n     * Creates a string representation of a fraction with all digits\n     *\n     * Ex: new Fraction(\"100.'91823'\").toString() => \"100.(91823)\"\n     **/\n    'toString': function() {\n\n      var g;\n      var N = this[\"n\"];\n      var D = this[\"d\"];\n\n      if (isNaN(N) || isNaN(D)) {\n        return \"NaN\";\n      }\n\n      if (!Fraction['REDUCE']) {\n        g = gcd(N, D);\n        N/= g;\n        D/= g;\n      }\n\n      var p = String(N).split(\"\"); // Numerator chars\n      var t = 0; // Tmp var\n\n      var ret = [~this[\"s\"] ? \"\" : \"-\", \"\", \"\"]; // Return array, [0] is zero sign, [1] before comma, [2] after\n      var zeros = \"\"; // Collection variable for zeros\n\n      var cycLen = cycleLen(N, D); // Cycle length\n      var cycOff = cycleStart(N, D, cycLen); // Cycle start\n\n      var j = -1;\n      var n = 1; // str index\n\n      // rough estimate to fill zeros\n      var length = 15 + cycLen + cycOff + p.length; // 15 = decimal places when no repitation\n\n      for (var i = 0; i < length; i++, t*= 10) {\n\n        if (i < p.length) {\n          t+= Number(p[i]);\n        } else {\n          n = 2;\n          j++; // Start now => after comma\n        }\n\n        if (cycLen > 0) { // If we have a repeating part\n          if (j === cycOff) {\n            ret[n]+= zeros + \"(\";\n            zeros = \"\";\n          } else if (j === cycLen + cycOff) {\n            ret[n]+= zeros + \")\";\n            break;\n          }\n        }\n\n        if (t >= D) {\n          ret[n]+= zeros + ((t / D) | 0); // Flush zeros, Add current digit\n          zeros = \"\";\n          t = t % D;\n        } else if (n > 1) { // Add zeros to the zero buffer\n          zeros+= \"0\";\n        } else if (ret[n]) { // If before comma, add zero only if already something was added\n          ret[n]+= \"0\";\n        }\n      }\n\n      // If it's empty, it's a leading zero only\n      ret[0]+= ret[1] || \"0\";\n\n      // If there is something after the comma, add the comma sign\n      if (ret[2]) {\n        return ret[0] + \".\" + ret[2];\n      }\n      return ret[0];\n    }\n  };\n\n  if (typeof define === \"function\" && define[\"amd\"]) {\n    define([], function() {\n      return Fraction;\n    });\n  } else if (typeof exports === \"object\") {\n    module[\"exports\"] = Fraction;\n  } else {\n    root['Fraction'] = Fraction;\n  }\n\n})(this);\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/fraction.js/fraction.js","// First coord is octaves, second is fifths. Distances are relative to c\nvar notes = {\n  c: [0, 0],\n  d: [-1, 2],\n  e: [-2, 4],\n  f: [1, -1],\n  g: [0, 1],\n  a: [-1, 3],\n  b: [-2, 5],\n  h: [-2, 5]\n};\n\nmodule.exports = function(name) {\n  return name in notes ? [notes[name][0], notes[name][1]] : null;\n};\n\nmodule.exports.notes = notes;\nmodule.exports.A4 = [3, 3]; // Relative to C0 (scientic notation, ~16.35Hz)\nmodule.exports.sharp = [-4, 7];\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/notecoord/index.js","var Note = require('./lib/note');\nvar Interval = require('./lib/interval');\nvar Chord = require('./lib/chord');\nvar Scale = require('./lib/scale');\n\n// never thought I would write this, but: Legacy support\nfunction intervalConstructor(from, to) {\n  // Construct a Interval object from string representation\n  if (typeof from === 'string')\n    return Interval.toCoord(from);\n\n  if (typeof to === 'string' && from instanceof Note)\n    return Interval.from(from, Interval.toCoord(to));\n\n  if (to instanceof Interval && from instanceof Note)\n    return Interval.from(from, to);\n\n  if (to instanceof Note && from instanceof Note)\n    return Interval.between(from, to);\n\n  throw new Error('Invalid parameters');\n}\n\nintervalConstructor.toCoord = Interval.toCoord;\nintervalConstructor.from = Interval.from;\nintervalConstructor.between = Interval.between;\nintervalConstructor.invert = Interval.invert;\n\nfunction noteConstructor(name, duration) {\n  if (typeof name === 'string')\n    return Note.fromString(name, duration);\n  else\n    return new Note(name, duration);\n}\n\nnoteConstructor.fromString = Note.fromString;\nnoteConstructor.fromKey = Note.fromKey;\nnoteConstructor.fromFrequency = Note.fromFrequency;\nnoteConstructor.fromMIDI = Note.fromMIDI;\n\nfunction chordConstructor(name, symbol) {\n  if (typeof name === 'string') {\n    var root, octave;\n    root = name.match(/^([a-h])(x|#|bb|b?)/i);\n    if (root && root[0]) {\n      octave = typeof symbol === 'number' ? symbol.toString(10) : '4';\n      return new Chord(Note.fromString(root[0].toLowerCase() + octave),\n                            name.substr(root[0].length));\n    }\n  } else if (name instanceof Note)\n    return new Chord(name, symbol);\n\n  throw new Error('Invalid Chord. Couldn\\'t find note name');\n}\n\nfunction scaleConstructor(tonic, scale) {\n  tonic = (tonic instanceof Note) ? tonic : teoria.note(tonic);\n  return new Scale(tonic, scale);\n}\n\nvar teoria = {\n  note: noteConstructor,\n\n  chord: chordConstructor,\n\n  interval: intervalConstructor,\n\n  scale: scaleConstructor,\n\n  Note: Note,\n  Chord: Chord,\n  Scale: Scale,\n  Interval: Interval\n};\n\nrequire('./lib/sugar')(teoria);\nexports = module.exports = teoria;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/teoria/index.js","var scientific = require('scientific-notation');\nvar helmholtz = require('helmholtz');\nvar knowledge = require('./knowledge');\nvar vector = require('./vector');\nvar Interval = require('./interval');\n\nfunction pad(str, ch, len) {\n  for (; len > 0; len--) {\n    str += ch;\n  }\n\n  return str;\n}\n\n\nfunction Note(coord, duration) {\n  if (!(this instanceof Note)) return new Note(coord, duration);\n  duration = duration || {};\n\n  this.duration = { value: duration.value || 4, dots: duration.dots || 0 };\n  this.coord = coord;\n}\n\nNote.prototype = {\n  octave: function() {\n    return this.coord[0] + knowledge.A4[0] - knowledge.notes[this.name()][0] +\n      this.accidentalValue() * 4;\n  },\n\n  name: function() {\n    return knowledge.fifths[this.coord[1] + knowledge.A4[1] - this.accidentalValue() * 7 + 1];\n  },\n\n  accidentalValue: function() {\n    return Math.round((this.coord[1] + knowledge.A4[1] - 2) / 7);\n  },\n\n  accidental: function() {\n    return knowledge.accidentals[this.accidentalValue() + 2];\n  },\n\n  /**\n   * Returns the key number of the note\n   */\n  key: function(white) {\n    if (white)\n      return this.coord[0] * 7 + this.coord[1] * 4 + 29;\n    else\n      return this.coord[0] * 12 + this.coord[1] * 7 + 49;\n  },\n\n  /**\n  * Returns a number ranging from 0-127 representing a MIDI note value\n  */\n  midi: function() {\n    return this.key() + 20;\n  },\n\n  /**\n   * Calculates and returns the frequency of the note.\n   * Optional concert pitch (def. 440)\n   */\n  fq: function(concertPitch) {\n    concertPitch = concertPitch || 440;\n\n    return concertPitch *\n      Math.pow(2, (this.coord[0] * 12 + this.coord[1] * 7) / 12);\n  },\n\n  /**\n   * Returns the pitch class index (chroma) of the note\n   */\n  chroma: function() {\n    var value = (vector.sum(vector.mul(this.coord, [12, 7])) - 3) % 12;\n\n    return (value < 0) ? value + 12 : value;\n  },\n\n  interval: function(interval) {\n    if (typeof interval === 'string') interval = Interval.toCoord(interval);\n\n    if (interval instanceof Interval)\n      return new Note(vector.add(this.coord, interval.coord));\n    else if (interval instanceof Note)\n      return new Interval(vector.sub(interval.coord, this.coord));\n  },\n\n  transpose: function(interval) {\n    this.coord = vector.add(this.coord, interval.coord);\n    return this;\n  },\n\n  /**\n   * Returns the Helmholtz notation form of the note (fx C,, d' F# g#'')\n   */\n  helmholtz: function() {\n    var octave = this.octave();\n    var name = this.name();\n    name = octave < 3 ? name.toUpperCase() : name.toLowerCase();\n    var padchar = octave < 3 ? ',' : '\\'';\n    var padcount = octave < 2 ? 2 - octave : octave - 3;\n\n    return pad(name + this.accidental(), padchar, padcount);\n  },\n\n  /**\n   * Returns the scientific notation form of the note (fx E4, Bb3, C#7 etc.)\n   */\n  scientific: function() {\n    return this.name().toUpperCase() + this.accidental() + this.octave();\n  },\n\n  /**\n   * Returns notes that are enharmonic with this note.\n   */\n  enharmonics: function(oneaccidental) {\n    var key = this.key(), limit = oneaccidental ? 2 : 3;\n\n    return ['m3', 'm2', 'm-2', 'm-3']\n      .map(this.interval.bind(this))\n      .filter(function(note) {\n      var acc = note.accidentalValue();\n      var diff = key - (note.key() - acc);\n\n      if (diff < limit && diff > -limit) {\n        note.coord = vector.add(note.coord, vector.mul(knowledge.sharp, diff - acc));\n        return true;\n      }\n    });\n  },\n\n  solfege: function(scale, showOctaves) {\n    var interval = scale.tonic.interval(this), solfege, stroke, count;\n    if (interval.direction() === 'down')\n      interval = interval.invert();\n\n    if (showOctaves) {\n      count = (this.key(true) - scale.tonic.key(true)) / 7;\n      count = (count >= 0) ? Math.floor(count) : -(Math.ceil(-count));\n      stroke = (count >= 0) ? '\\'' : ',';\n    }\n\n    solfege = knowledge.intervalSolfege[interval.simple(true).toString()];\n    return (showOctaves) ? pad(solfege, stroke, Math.abs(count)) : solfege;\n  },\n\n  scaleDegree: function(scale) {\n    var inter = scale.tonic.interval(this);\n\n    // If the direction is down, or we're dealing with an octave - invert it\n    if (inter.direction() === 'down' ||\n       (inter.coord[1] === 0 && inter.coord[0] !== 0)) {\n      inter = inter.invert();\n    }\n\n    inter = inter.simple(true).coord;\n\n    return scale.scale.reduce(function(index, current, i) {\n      var coord = Interval.toCoord(current).coord;\n      return coord[0] === inter[0] && coord[1] === inter[1] ? i + 1 : index;\n    }, 0);\n  },\n\n  /**\n   * Returns the name of the duration value,\n   * such as 'whole', 'quarter', 'sixteenth' etc.\n   */\n  durationName: function() {\n    return knowledge.durations[this.duration.value];\n  },\n\n  /**\n   * Returns the duration of the note (including dots)\n   * in seconds. The first argument is the tempo in beats\n   * per minute, the second is the beat unit (i.e. the\n   * lower numeral in a time signature).\n   */\n  durationInSeconds: function(bpm, beatUnit) {\n    var secs = (60 / bpm) / (this.duration.value / 4) / (beatUnit / 4);\n    return secs * 2 - secs / Math.pow(2, this.duration.dots);\n  },\n\n  /**\n   * Returns the name of the note, with an optional display of octave number\n   */\n  toString: function(dont) {\n    return this.name() + this.accidental() + (dont ? '' : this.octave());\n  }\n};\n\nNote.fromString = function(name, dur) {\n  var coord = scientific(name);\n  if (!coord) coord = helmholtz(name);\n  return new Note(coord, dur);\n}\n\nNote.fromKey = function(key) {\n  var octave = Math.floor((key - 4) / 12);\n  var distance = key - (octave * 12) - 4;\n  var name = knowledge.fifths[(2 * Math.round(distance / 2) + 1) % 7];\n  var note = vector.add(vector.sub(knowledge.notes[name], knowledge.A4), [octave + 1, 0]);\n  var diff = (key - 49) - vector.sum(vector.mul(note, [12, 7]));\n\n  return new Note(diff ? vector.add(note, vector.mul(knowledge.sharp, diff)) : note);\n}\n\nNote.fromFrequency = function(fq, concertPitch) {\n  var key, cents, originalFq;\n  concertPitch = concertPitch || 440;\n\n  key = 49 + 12 * ((Math.log(fq) - Math.log(concertPitch)) / Math.log(2));\n  key = Math.round(key);\n  originalFq = concertPitch * Math.pow(2, (key - 49) / 12);\n  cents = 1200 * (Math.log(fq / originalFq) / Math.log(2));\n\n  return { note: Note.fromKey(key), cents: cents };\n}\n\nNote.fromMIDI = function(note) {\n  return Note.fromKey(note - 20);\n}\n\nmodule.exports = Note;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/teoria/lib/note.js","module.exports = {\n  add: function(note, interval) {\n    return [note[0] + interval[0], note[1] + interval[1]];\n  },\n\n  sub: function(note, interval) {\n    return [note[0] - interval[0], note[1] - interval[1]];\n  },\n\n  mul: function(note, interval) {\n    if (typeof interval === 'number')\n      return [note[0] * interval, note[1] * interval];\n    else\n      return [note[0] * interval[0], note[1] * interval[1]];\n  },\n\n  sum: function(coord) {\n    return coord[0] + coord[1];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/teoria/lib/vector.js","import _ from \"lodash\";\n\nimport {isEven} from \"./common\";\nimport * as noteUtils from \"./note\";\n\nconst UP = \"up\", DOWN = \"down\";\n\nfunction defaultStemPoint (chord, stemDirection, stemLength) {\n    let frm, to;\n\tif (stemDirection === UP) {\n        let note = chord.children[0];\n\t\tfrm = note.noteHead.bounds.rightCenter.add(0, Scored.config.note.head.yOffset);\n\t\tto = frm.subtract([0, stemLength]);\n\t} else if (stemDirection === DOWN) {\n        let note = _.last(chord.children);\n\t\tfrm = note.noteHead.bounds.leftCenter.add(0, Scored.config.note.head.yOffset);\n\t\tto = frm.add([0, stemLength]);\n\t}\n\treturn to;\n}\n\n/*\n * @param chord - Chord to find the stem length for.\n * @param centerLineValue - String representing note value at the center line.\n */\nfunction getStemLength (chord, centerLineValue, stemDirection) {\n\tconst octaveHeight = Scored.config.lineSpacing * 3.5;\n    const diff = Math.abs(noteUtils.getSteps(chord.children[0].pitch, _.last(chord.children).pitch) * Scored.config.layout.stepSpacing);\n\n    if (!centerLineValue) return octaveHeight + diff;\n\n    const steps = noteUtils.getSteps(centerLineValue, chord.children[0].pitch);\n\n    // handle stem directions for chords that don't have default direction\n\tif (stemDirection === \"up\" && steps >= 0) return octaveHeight + diff;\n\tif (stemDirection === \"down\" && steps < 0) return octaveHeight + diff;\n\n    const noteDistance = steps * Scored.config.stepSpacing;\n\n\treturn Math.max(octaveHeight, Math.abs(noteDistance)) + diff;\n}\n\n/*\n * @param chord - Chord. Chord gaurantees that the notes are ordered which is required for this function.\n * @return Note[][] - Array of Note arrays where the the first note is lower than the second note.\n */\nfunction getOverlappingNotes (chord) {\n    let notes = chord.children,\n        overlaps = [];\n    for (let i = 1; i < notes.length; i++) {\n        let lower = notes[i-1],\n            higher = notes[i],\n            steps = noteUtils.getSteps(lower.pitch, higher.pitch);\n        if (steps <= 1) {\n            overlaps.push([lower, higher]);\n        }\n    }\n    return overlaps;\n}\n\n/*\n * @param length - number of notes in the chord\n * @param Number[] - the order in which to place the accidentals.\n */\nfunction getAccidentalOrdering (length) {\n    let low = 0,\n        high = length - 1,\n        ordering = new Array(length);\n\n    for (let i = 0; i < length; i++) {\n        if (isEven(i)) {\n            ordering[i] = high;\n            high--;\n        } else {\n            ordering[i] = low;\n            low++;\n        }\n    }\n\n    return ordering;\n}\n\nexport {\n    // getStemDirection,\n    defaultStemPoint,\n    getStemLength,\n    getOverlappingNotes,\n    getAccidentalOrdering\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/chord.js","/*\n * Given an x coordinate, fulcrum and vector, returns the point on the line\n */\nfunction getLinePoint (x, fulcrum, vector) {\n\tconst shift = x - fulcrum.x;\n\treturn fulcrum.add(shift, vector.y / vector.x * shift);\n}\n\nexport {\n    getLinePoint\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/geometry.js","import {map} from \"lodash\";\n\nimport {clone} from \"./common\";\nimport Voice from \"../views/Voice\";\nimport Note from \"../views/Note\";\nimport Rest from \"../views/Rest\";\nimport Repeat from \"../views/Repeat\";\nimport Chord from \"../views/Chord\";\nimport ChordSymbol from \"../views/ChordSymbol\";\nimport System from \"../views/System\";\nimport Line from \"../views/Line\";\nimport Measure from \"../views/Measure\";\nimport Clef from \"../views/Clef\";\nimport Key from \"../views/Key\";\nimport TimeSignature from \"../views/TimeSignature\";\nimport Dynamic from \"../views/Dynamic\";\nimport Score from \"../views/Score\";\nimport Page from \"../views/Page\";\n\nconst typeToConstructor = {\n    voice: (props, children) => new Voice(props, children),\n    note: (props, children) => new Note(props, children),\n    rest: (props, children) => new Rest(props, children),\n    repeat: (props, children) => new Repeat(props,children),\n    chord: (props, children) => new Chord(props, children),\n    chordSymbol: (props, children) => new ChordSymbol(props, children),\n    system: (props, children) => new System(props, children),\n    line: (props, children) => new Line(props, children),\n    measure: (props, children) => new Measure(props, children),\n    clef: (props, children) => new Clef(props, children),\n    key: (props, children) => new Key(props, children),\n    timeSig: (props, children) => new TimeSignature(props, children),\n    dynamic: (props, children) => new Dynamic(props, children),\n    score: (props, children) => new Score(props, children)\n};\n\nexport function parse (element) {\n    const children = map(element.children, parse);\n    return typeToConstructor[element.type](element.props, children);\n}\n\nexport function parseLayout (layout) {\n    const timeSigs = layout.timeSignatures.map(timeSig => {\n        return new TimeSignature({value: convertTimeSig(timeSig.value), measure: timeSig.measure});\n    });\n\n    const lines = layout.lines.map(makeLine.bind(null, timeSigs));\n\n    const pages = makePages(layout.pages);\n\n    const systems = makeSystems(layout.pages, layout.systems);\n\n    return new Score({}, [...timeSigs, ...pages, ...systems, ...lines]);\n}\n\nconst roots = [\n    \"Ab\" ,\"A\", \"A#\", \"Bb\", \"B\", \"B#\", \"Cb\", \"C\", \"C#\", \"Db\", \"D\",\n    \"D#\", \"Eb\", \"E\", \"E#\", \"Fb\", \"F\", \"F#\", \"Gb\", \"G\", \"G#\"\n];\n\nconst modes = [\"major\", \"minor\"];\n\nconst keys = roots.reduce((acc, root) => {\n    acc[root] = modes.reduce((modeAcc, mode) => {\n        modeAcc[mode] = (mode === \"minor\") ? root.toLowerCase() : root;\n        return modeAcc;\n    }, {});\n    return acc;\n}, {});\n\n/*\n * @param pages - {List}\n * @param systems - {List}\n */\nfunction makeSystems (pages, systems) {\n    let page = 0;\n    let count = 1;\n    return systems.map((s) => {\n        const system = new System(Object.assign({}, s, {lineHeights: s.lineSpacing, page}));\n        if (!pages[page]) {\n            page++;\n        } else if (count === pages[page].systems) {\n            page++;\n            count = 1;\n        } else {\n            count++;\n        }\n        return system;\n    });\n}\n\nfunction makePages (pages) {\n    return pages.map(page => new Page(page));\n}\n\n/*\n * @param root - the tonic of the scale.\n * @param mode - the mode of the scale.\n * @return - String representation of the key.\n */\nfunction convertKey ({root, mode}) {\n    return keys[root][mode];\n}\n\nfunction makeLine (timeSigs, line) {\n    return new Line({voices: line.voices}, [\n        ...line.clefs.map((context={}) => new Clef(context)),\n        ...line.keys.map(key => new Key(Object.assign({}, key, {value: convertKey(key)}))),\n        ...timeSigs.map(clone)\n    ]);\n};\n\n/*\n * @param numerator - the top time signature number.\n * @param denominator - the bottom time signature number.\n * @return String representation of the time signature.\n */\nfunction convertTimeSig ([numerator, denominator]) {\n    return `${numerator}/${denominator}`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/parser.js","import constants from \"../constants\";\n\nfunction Page ({staffSpacing=[]}, children=[]) {\n    this.children = children;\n    this.staffSpacing = staffSpacing;\n};\n\nPage.prototype.type = constants.type.page;\n\nexport default Page;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Page.js","import constants from \"../constants\";\nimport {drawRepeat} from \"../engraver\";\n\nconst TYPE = constants.type.repeat;\n\nconst REGULAR = \"regular\";\nconst INVERSE = \"inverse\";\n\nfunction Repeat ({value, measure}) {\n    this.value = value;\n    this.measure = measure;\n}\n\nRepeat.prototype.type = TYPE;\n\nRepeat.prototype.render = function () {\n    const group = this.group = drawRepeat();\n\n    return group;\n};\n\nexport default Repeat;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Repeat.js","import paper from \"paper/dist/paper-core\";\nimport constants from \"../constants\";\n\nconst Text = function ({value=\"\", fontSize=32, fontFamily=\"gonvillealpha\", fillColor=\"black\"}) {\n    this.value = value;\n    this.fontSize = fontSize;\n    this.fontFamily = fontFamily;\n    this.fillColor = fillColor;\n}\n\nText.prototype.type = constants.type.text;\n\nText.prototype.render = function () {\n    return new paper.Group({\n        name: constants.type.text,\n        children: [new paper.PointText({\n            content: this.value,\n            fontFamily: this.fontFamily,\n            fontSize: this.fontSize,\n            fillColor: this.fillColor,\n        })]\n    });\n}\n\nexport default Text;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Text.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 44\n// module chunks = 0","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 45\n// module chunks = 0","\"format es6\";\nimport _ from \"lodash\";\n\n// because Array.prototype.reverse mutates the array\nfunction reverse (array) {\n    return _.reduceRight(array, (acc, n) => {\n        acc.push(n);\n        return acc;\n    }, []);\n}\n\nfunction sumFrom (series, n) {\n    if (Math.floor(n) !== n) {\n        let lower = sumFrom(series, Math.floor(n)),\n            upper = sumFrom(series, Math.ceil(n)),\n            fraction = n - Math.floor(n);\n        return lower + (fraction * (upper - lower));\n    } else if (n < 0) {\n        let rseries = _.map(reverse(series), n => 0 - n);\n        return _.sum(_.map(_.range(Math.abs(n)), (i) => rseries[i % rseries.length]));\n    } else if (n >= 0) {\n        return _.sum(_.map(_.range(n), (i) => series[i % series.length]));\n    }\n}\n\nfunction create (scale) {\n    return _.partial(sumFrom, scale);\n}\n\nfunction mode (scale, n, scaleLenth=7) {\n    return _.compose((x) => x - scale(n), scale, from(n));\n}\n\nlet major = create([2,2,1,2,2,2,1]),\n    minor = create([2,1,2,2,1,2,2]),\n    ionian = mode(major, 0),\n    dorian = mode(major, 1),\n    phrygian = mode(major, 2),\n    lydian = mode(major, 3),\n    mixolydian = mode(major, 4),\n    aeolian = mode(major, 5),\n    locrian = mode(major, 6);\n\nfunction from (base) {\n    return (root) => root + base;\n}\n\n/*\n * Lower midi one octave.\n */\nfunction low (midi) {\n    return from(-12)(midi);\n}\n\n/*\n * Raise midi one octave.\n */\nfunction high (midi) {\n    return from(12)(midi);\n}\n\n/*\n * Lower degree one octave (assuming heptatonic scale).\n */\nfunction lower (degree) {\n    return from(-7)(degree);\n}\n\n/*\n * Raise degree one octave (assuming heptatonic scale).\n */\nfunction raise (degree) {\n    return from(7)(degree);\n}\n\nlet C = from(60),\n    D = from(62),\n    E = from(64),\n    F = from(65),\n    G = from(67),\n    A = from(69),\n    B = from(71),\n    sharp = from(1),\n    flat = from(-1);\n\nexport {\n    major,\n    minor,\n    mode,\n    flat,\n    sharp,\n    ionian, dorian, phrygian, lydian, mixolydian, aeolian, locrian,\n    C, D, E, F, G, A, B,\n    from, low, high, lower, raise\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/palestrina/src/scale.js\n// module id = 46\n// module chunks = 0","import \"./boethius/styles/index.css\";\nimport {map} from \"lodash\";\nimport WebFont from \"webfontloader\";\nimport compile from \"./boethius-lang/src/main\";\nimport Scored from \"./boethius/src/Scored\";\nimport layout from \"../src/glorias-step-layout.json\";\nimport bth from \"../src/glorias-step.bth\";\n\n// function Scored () {\n//     this.render = function () {\n//         console.log(\"render\");\n//     }\n// }\n\n// function compile () {\n//     return {};\n// }\n\nconst music = compile(bth);\n\nfunction start (cb) {\n    var fontLoader = WebFont.load({\n        custom: {\n            families: [\"gonville\", \"gonvillealpha\"]\n        },\n        active: cb\n    });\n}\n\nfunction createCanvas (el) {\n    el.innerHTML = '<canvas class=\"scored-canvas parnassus\"><canvas>';\n\n    return document.getElementsByClassName(\"scored-canvas\");\n}\n\nstart(function () {\n    var canvas = createCanvas(document.getElementById(\"root\"));\n    const scored = new Scored();\n    scored.setup(canvas[0]);\n    scored.render(layout, {\n        voices: musicToScoredObjects(music.voices).map(Scored.parse)\n    }).translate(100, 150);\n    scored.project.view.update();\n});\n\nfunction createElement (type, props, children) {\n    return {type, props, children};\n}\n\nfunction musicToScoredObjects (music) {\n    return map(music, (v, k) => {\n        return createElement(\"voice\", {name: k}, v);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","var SYMBOLS = {\n  'm': ['m3', 'P5'],\n  'mi': ['m3', 'P5'],\n  'min': ['m3', 'P5'],\n  '-': ['m3', 'P5'],\n\n  'M': ['M3', 'P5'],\n  'ma': ['M3', 'P5'],\n  '': ['M3', 'P5'],\n\n  '+': ['M3', 'A5'],\n  'aug': ['M3', 'A5'],\n\n  'dim': ['m3', 'd5'],\n  'o': ['m3', 'd5'],\n\n  'maj': ['M3', 'P5', 'M7'],\n  'dom': ['M3', 'P5', 'm7'],\n  'ø': ['m3', 'd5', 'm7'],\n\n  '5': ['P5'],\n\n  '6/9': ['M3', 'P5', 'M6', 'M9']\n};\n\nmodule.exports = function(symbol) {\n  var c, parsing = 'quality', additionals = [], name, chordLength = 2\n  var notes = ['P1', 'M3', 'P5', 'm7', 'M9', 'P11', 'M13'];\n  var explicitMajor = false;\n\n  function setChord(name) {\n    var intervals = SYMBOLS[name];\n    for (var i = 0, len = intervals.length; i < len; i++) {\n      notes[i + 1] = intervals[i];\n    }\n\n    chordLength = intervals.length;\n  }\n\n  // Remove whitespace, commas and parentheses\n  symbol = symbol.replace(/[,\\s\\(\\)]/g, '');\n  for (var i = 0, len = symbol.length; i < len; i++) {\n    if (!(c = symbol[i]))\n      return;\n\n    if (parsing === 'quality') {\n      var sub3 = (i + 2) < len ? symbol.substr(i, 3).toLowerCase() : null;\n      var sub2 = (i + 1) < len ? symbol.substr(i, 2).toLowerCase() : null;\n      if (sub3 in SYMBOLS)\n        name = sub3;\n      else if (sub2 in SYMBOLS)\n        name = sub2;\n      else if (c in SYMBOLS)\n        name = c;\n      else\n        name = '';\n\n      if (name)\n        setChord(name);\n\n      if (name === 'M' || name === 'ma' || name === 'maj')\n        explicitMajor = true;\n\n\n      i += name.length - 1;\n      parsing = 'extension';\n    } else if (parsing === 'extension') {\n      c = (c === '1' && symbol[i + 1]) ? +symbol.substr(i, 2) : +c;\n\n      if (!isNaN(c) && c !== 6) {\n        chordLength = (c - 1) / 2;\n\n        if (chordLength !== Math.round(chordLength))\n          return new Error('Invalid interval extension: ' + c.toString(10));\n\n        if (name === 'o' || name === 'dim')\n          notes[3] = 'd7';\n        else if (explicitMajor)\n          notes[3] = 'M7';\n\n        i += c >= 10 ? 1 : 0;\n      } else if (c === 6) {\n        notes[3] = 'M6';\n        chordLength = Math.max(3, chordLength);\n      } else\n        i -= 1;\n\n      parsing = 'alterations';\n    } else if (parsing === 'alterations') {\n      var alterations = symbol.substr(i).split(/(#|b|add|maj|sus|M)/i),\n          next, flat = false, sharp = false;\n\n      if (alterations.length === 1)\n        return new Error('Invalid alteration');\n      else if (alterations[0].length !== 0)\n        return new Error('Invalid token: \\'' + alterations[0] + '\\'');\n\n      var ignore = false;\n      alterations.forEach(function(alt, i, arr) {\n        if (ignore || !alt.length)\n          return ignore = false;\n\n        var next = arr[i + 1], lower = alt.toLowerCase();\n        if (alt === 'M' || lower === 'maj') {\n          if (next === '7')\n            ignore = true;\n\n          chordLength = Math.max(3, chordLength);\n          notes[3] = 'M7';\n        } else if (lower === 'sus') {\n          var type = 'P4';\n          if (next === '2' || next === '4') {\n            ignore = true;\n\n            if (next === '2')\n              type = 'M2';\n          }\n\n          notes[1] = type; // Replace third with M2 or P4\n        } else if (lower === 'add') {\n          if (next === '9')\n            additionals.push('M9');\n          else if (next === '11')\n            additionals.push('P11');\n          else if (next === '13')\n            additionals.push('M13');\n\n          ignore = true\n        } else if (lower === 'b') {\n          flat = true;\n        } else if (lower === '#') {\n          sharp = true;\n        } else {\n          var token = +alt, quality, intPos;\n          if (isNaN(token) || String(token).length !== alt.length)\n            return new Error('Invalid token: \\'' + alt + '\\'');\n\n          if (token === 6) {\n            if (sharp)\n              notes[3] = 'A6';\n            else if (flat)\n              notes[3] = 'm6';\n            else\n              notes[3] = 'M6';\n\n            chordLength = Math.max(3, chordLength);\n            return;\n          }\n\n          // Calculate the position in the 'note' array\n          intPos = (token - 1) / 2;\n          if (chordLength < intPos)\n            chordLength = intPos;\n\n          if (token < 5 || token === 7 || intPos !== Math.round(intPos))\n            return new Error('Invalid interval alteration: ' + token);\n\n          quality = notes[intPos][0];\n\n          // Alterate the quality of the interval according the accidentals\n          if (sharp) {\n            if (quality === 'd')\n              quality = 'm';\n            else if (quality === 'm')\n              quality = 'M';\n            else if (quality === 'M' || quality === 'P')\n              quality = 'A';\n          } else if (flat) {\n            if (quality === 'A')\n              quality = 'M';\n            else if (quality === 'M')\n              quality = 'm';\n            else if (quality === 'm' || quality === 'P')\n              quality = 'd';\n          }\n\n          sharp = flat = false;\n          notes[intPos] = quality + token;\n        }\n      });\n      parsing = 'ended';\n    } else if (parsing === 'ended') {\n      break;\n    }\n  }\n\n  return notes.slice(0, chordLength + 1).concat(additionals);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/daccord/index.js","var coords = require('notecoord');\nvar accval = require('accidental-value');\n\nmodule.exports = function helmholtz(name) {\n  var name = name.replace(/\\u2032/g, \"'\").replace(/\\u0375/g, ',');\n  var parts = name.match(/^(,*)([a-h])(x|#|bb|b?)([,\\']*)$/i);\n\n  if (!parts || name !== parts[0])\n    throw new Error('Invalid formatting');\n\n  var note = parts[2];\n  var octaveFirst = parts[1];\n  var octaveLast = parts[4];\n  var lower = note === note.toLowerCase();\n  var octave;\n\n  if (octaveFirst) {\n    if (lower)\n      throw new Error('Invalid formatting - found commas before lowercase note');\n\n    octave = 2 - octaveFirst.length;\n  } else if (octaveLast) {\n    if (octaveLast.match(/^'+$/) && lower)\n      octave = 3 + octaveLast.length;\n    else if (octaveLast.match(/^,+$/) && !lower)\n      octave = 2 - octaveLast.length;\n    else\n      throw new Error('Invalid formatting - mismatch between octave ' +\n        'indicator and letter case')\n  } else\n    octave = lower ? 3 : 2;\n\n  var accidentalValue = accval.interval(parts[3].toLowerCase());\n  var coord = coords(note.toLowerCase());\n\n  coord[0] += octave;\n  coord[0] += accidentalValue[0] - coords.A4[0];\n  coord[1] += accidentalValue[1] - coords.A4[1];\n\n  return coord;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/helmholtz/index.js","var pattern = /^(AA|A|P|M|m|d|dd)(-?\\d+)$/;\n\n// The interval it takes to raise a note a semitone\nvar sharp = [-4, 7];\n\nvar pAlts = ['dd', 'd', 'P', 'A', 'AA'];\nvar mAlts = ['dd', 'd', 'm', 'M', 'A', 'AA'];\n\nvar baseIntervals = [\n  [0, 0],\n  [3, -5],\n  [2, -3],\n  [1, -1],\n  [0, 1],\n  [3, -4],\n  [2, -2],\n  [1, 0]\n];\n\nmodule.exports = function(simple) {\n  var parser = simple.match(pattern);\n  if (!parser) return null;\n\n  var quality = parser[1];\n  var number = +parser[2];\n  var sign = number < 0 ? -1 : 1;\n\n  number = sign < 0 ? -number : number;\n\n  var lower = number > 8 ? (number % 7 || 7) : number;\n  var octaves = (number - lower) / 7;\n\n  var base = baseIntervals[lower - 1];\n  var alts = base[0] <= 1 ? pAlts : mAlts;\n  var alt = alts.indexOf(quality) - 2;\n\n  // this happens, if the alteration wasn't suitable for this type\n  // of interval, such as P2 or M5 (no \"perfect second\" or \"major fifth\")\n  if (alt === -3) return null;\n\n  return [\n    sign * (base[0] + octaves + sharp[0] * alt),\n    sign * (base[1] + sharp[1] * alt)\n  ];\n}\n\n// Copy to avoid overwriting internal base intervals\nmodule.exports.coords = baseIntervals.slice(0);\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/interval-coords/index.js","var coords = require('notecoord');\nvar accval = require('accidental-value');\n\nmodule.exports = function scientific(name) {\n  var format = /^([a-h])(x|#|bb|b?)(-?\\d*)/i;\n\n  var parser = name.match(format);\n  if (!(parser && name === parser[0] && parser[3].length)) return;\n\n  var noteName = parser[1];\n  var octave = +parser[3];\n  var accidental = parser[2].length ? parser[2].toLowerCase() : '';\n\n  var accidentalValue = accval.interval(accidental);\n  var coord = coords(noteName.toLowerCase());\n\n  coord[0] += octave;\n  coord[0] += accidentalValue[0] - coords.A4[0];\n  coord[1] += accidentalValue[1] - coords.A4[1];\n\n  return coord;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/scientific-notation/index.js","var daccord = require('daccord');\nvar knowledge = require('./knowledge');\nvar Note = require('./note');\nvar Interval = require('./interval');\n\nfunction Chord(root, name) {\n  if (!(this instanceof Chord)) return new Chord(root, name);\n  name = name || '';\n  this.name = root.name().toUpperCase() + root.accidental() + name;\n  this.symbol = name;\n  this.root = root;\n  this.intervals = [];\n  this._voicing = [];\n\n  var bass = name.split('/');\n  if (bass.length === 2 && bass[1].trim() !== '9') {\n    name = bass[0];\n    bass = bass[1].trim();\n  } else {\n    bass = null;\n  }\n\n  this.intervals = daccord(name).map(Interval.toCoord)\n  this._voicing = this.intervals.slice();\n\n  if (bass) {\n    var intervals = this.intervals, bassInterval, note;\n    // Make sure the bass is atop of the root note\n    note = Note.fromString(bass + (root.octave() + 1)); // crude\n\n    bassInterval = Interval.between(root, note);\n    bass = bassInterval.simple();\n    bassInterval = bassInterval.invert().direction('down');\n\n    this._voicing = [bassInterval];\n    for (var i = 0, length = intervals.length;  i < length; i++) {\n      if (!intervals[i].simple().equal(bass))\n        this._voicing.push(intervals[i]);\n    }\n  }\n}\n\nChord.prototype = {\n  notes: function() {\n    var root = this.root;\n    return this.voicing().map(function(interval) {\n      return root.interval(interval);\n    });\n  },\n\n  simple: function() {\n    return this.notes().map(function(n) { return n.toString(true); });\n  },\n\n  bass: function() {\n    return this.root.interval(this._voicing[0]);\n  },\n\n  voicing: function(voicing) {\n    // Get the voicing\n    if (!voicing) {\n      return this._voicing;\n    }\n\n    // Set the voicing\n    this._voicing = [];\n    for (var i = 0, length = voicing.length; i < length; i++) {\n      this._voicing[i] = Interval.toCoord(voicing[i]);\n    }\n\n    return this;\n  },\n\n  resetVoicing: function() {\n    this._voicing = this.intervals;\n  },\n\n  dominant: function(additional) {\n    additional = additional || '';\n    return new Chord(this.root.interval('P5'), additional);\n  },\n\n  subdominant: function(additional) {\n    additional = additional || '';\n    return new Chord(this.root.interval('P4'), additional);\n  },\n\n  parallel: function(additional) {\n    additional = additional || '';\n    var quality = this.quality();\n\n    if (this.chordType() !== 'triad' || quality === 'diminished' ||\n        quality === 'augmented') {\n      throw new Error('Only major/minor triads have parallel chords');\n    }\n\n    if (quality === 'major') {\n      return new Chord(this.root.interval('m3', 'down'), 'm');\n    } else {\n      return new Chord(this.root.interval('m3', 'up'));\n    }\n  },\n\n  quality: function() {\n    var third, fifth, seventh, intervals = this.intervals;\n\n    for (var i = 0, length = intervals.length; i < length; i++) {\n      if (intervals[i].number() === 3) {\n        third = intervals[i];\n      } else if (intervals[i].number() === 5) {\n        fifth = intervals[i];\n      } else if (intervals[i].number() === 7) {\n        seventh = intervals[i];\n      }\n    }\n\n    if (!third) {\n      return;\n    }\n\n    third = (third.direction() === 'down') ? third.invert() : third;\n    third = third.simple().toString();\n\n    if (fifth) {\n      fifth = (fifth.direction === 'down') ? fifth.invert() : fifth;\n      fifth = fifth.simple().toString();\n    }\n\n    if (seventh) {\n      seventh = (seventh.direction === 'down') ? seventh.invert() : seventh;\n      seventh = seventh.simple().toString();\n    }\n\n    if (third === 'M3') {\n      if (fifth === 'A5') {\n        return 'augmented';\n      } else if (fifth === 'P5') {\n        return (seventh === 'm7') ? 'dominant' : 'major';\n      }\n\n      return 'major';\n    } else if (third === 'm3') {\n      if (fifth === 'P5') {\n        return 'minor';\n      } else if (fifth === 'd5') {\n        return (seventh === 'm7') ? 'half-diminished' : 'diminished';\n      }\n\n      return 'minor';\n    }\n  },\n\n  chordType: function() { // In need of better name\n    var length = this.intervals.length, interval, has, invert, i, name;\n\n    if (length === 2) {\n      return 'dyad';\n    } else if (length === 3) {\n      has = {first: false, third: false, fifth: false};\n      for (i = 0; i < length; i++) {\n        interval = this.intervals[i];\n        invert = interval.invert();\n        if (interval.base() in has) {\n          has[interval.base()] = true;\n        } else if (invert.base() in has) {\n          has[invert.base()] = true;\n        }\n      }\n\n      name = (has.first && has.third && has.fifth) ? 'triad' : 'trichord';\n    } else if (length === 4) {\n      has = {first: false, third: false, fifth: false, seventh: false};\n      for (i = 0; i < length; i++) {\n        interval = this.intervals[i];\n        invert = interval.invert();\n        if (interval.base() in has) {\n          has[interval.base()] = true;\n        } else if (invert.base() in has) {\n          has[invert.base()] = true;\n        }\n      }\n\n      if (has.first && has.third && has.fifth && has.seventh) {\n        name = 'tetrad';\n      }\n    }\n\n    return name || 'unknown';\n  },\n\n  get: function(interval) {\n    if (typeof interval === 'string' && interval in knowledge.stepNumber) {\n      var intervals = this.intervals, i, length;\n\n      interval = knowledge.stepNumber[interval];\n      for (i = 0, length = intervals.length; i < length; i++) {\n        if (intervals[i].number() === interval) {\n          return this.root.interval(intervals[i]);\n        }\n      }\n\n      return null;\n    } else {\n      throw new Error('Invalid interval name');\n    }\n  },\n\n  interval: function(interval) {\n    return new Chord(this.root.interval(interval), this.symbol);\n  },\n\n  transpose: function(interval) {\n    this.root.transpose(interval);\n    this.name = this.root.name().toUpperCase() +\n                this.root.accidental() + this.symbol;\n\n    return this;\n  },\n\n  toString: function() {\n    return this.name;\n  }\n};\n\nmodule.exports = Chord;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/teoria/lib/chord.js","var knowledge = require('./knowledge');\nvar Interval = require('./interval');\n\nvar scales = {\n  aeolian: ['P1', 'M2', 'm3', 'P4', 'P5', 'm6', 'm7'],\n  blues: ['P1', 'm3', 'P4', 'A4', 'P5', 'm7'],\n  chromatic: ['P1', 'm2', 'M2', 'm3', 'M3', 'P4', 'A4', 'P5', 'm6', 'M6', 'm7', 'M7'],\n  dorian: ['P1', 'M2', 'm3', 'P4', 'P5', 'M6', 'm7'],\n  doubleharmonic: ['P1', 'm2', 'M3', 'P4', 'P5', 'm6', 'M7'],\n  harmonicminor: ['P1', 'M2', 'm3', 'P4', 'P5', 'm6', 'M7'],\n  ionian: ['P1', 'M2', 'M3', 'P4', 'P5', 'M6', 'M7'],\n  locrian: ['P1', 'm2', 'm3', 'P4', 'd5', 'm6', 'm7'],\n  lydian: ['P1', 'M2', 'M3', 'A4', 'P5', 'M6', 'M7'],\n  majorpentatonic: ['P1', 'M2', 'M3', 'P5', 'M6'],\n  melodicminor: ['P1', 'M2', 'm3', 'P4', 'P5', 'M6', 'M7'],\n  minorpentatonic: ['P1', 'm3', 'P4', 'P5', 'm7'],\n  mixolydian: ['P1', 'M2', 'M3', 'P4', 'P5', 'M6', 'm7'],\n  phrygian: ['P1', 'm2', 'm3', 'P4', 'P5', 'm6', 'm7']\n}\n\n// synonyms\nscales.harmonicchromatic = scales.chromatic;\nscales.minor = scales.aeolian;\nscales.major = scales.ionian;\nscales.flamenco = scales.doubleharmonic;\n\nfunction Scale(tonic, scale) {\n  if (!(this instanceof Scale)) return new Scale(tonic, scale);\n  var scaleName, i;\n  if (!('coord' in tonic)) {\n    throw new Error('Invalid Tonic');\n  }\n\n  if (typeof scale === 'string') {\n    scaleName = scale;\n    scale = scales[scale];\n    if (!scale)\n      throw new Error('Invalid Scale');\n  } else {\n    for (i in scales) {\n      if (scales.hasOwnProperty(i)) {\n        if (scales[i].toString() === scale.toString()) {\n          scaleName = i;\n          break;\n        }\n      }\n    }\n  }\n\n  this.name = scaleName;\n  this.tonic = tonic;\n  this.scale = scale;\n}\n\nScale.prototype = {\n  notes: function() {\n    var notes = [];\n\n    for (var i = 0, length = this.scale.length; i < length; i++) {\n      notes.push(this.tonic.interval(this.scale[i]));\n    }\n\n    return notes;\n  },\n\n  simple: function() {\n    return this.notes().map(function(n) { return n.toString(true); });\n  },\n\n  type: function() {\n    var length = this.scale.length - 2;\n    if (length < 8) {\n      return ['di', 'tri', 'tetra', 'penta', 'hexa', 'hepta', 'octa'][length] +\n        'tonic';\n    }\n  },\n\n  get: function(i) {\n    i = (typeof i === 'string' && i in knowledge.stepNumber) ? knowledge.stepNumber[i] : i;\n\n    return this.tonic.interval(this.scale[i - 1]);\n  },\n\n  solfege: function(index, showOctaves) {\n    if (index)\n      return this.get(index).solfege(this, showOctaves);\n\n    return this.notes().map(function(n) {\n      return n.solfege(this, showOctaves);\n    });\n  },\n\n  interval: function(interval) {\n    interval = (typeof interval === 'string') ?\n      Interval.toCoord(interval) : interval;\n    return new Scale(this.tonic.interval(interval), this.scale);\n  },\n\n  transpose: function(interval) {\n    var scale = this.interval(interval);\n    this.scale = scale.scale;\n    this.tonic = scale.tonic;\n\n    return this;\n  }\n};\n\nmodule.exports = Scale;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/teoria/lib/scale.js","var knowledge = require('./knowledge');\n\nmodule.exports = function(teoria) {\n  var Note = teoria.Note;\n  var Chord = teoria.Chord;\n  var Scale = teoria.Scale;\n\n  Note.prototype.chord = function(chord) {\n    chord = (chord in knowledge.chordShort) ? knowledge.chordShort[chord] : chord;\n\n    return new Chord(this, chord);\n  }\n\n  Note.prototype.scale = function(scale) {\n    return new Scale(this, scale);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/~/teoria/lib/sugar.js","import paper from \"paper/dist/paper-core\";\n\nimport Config from \"./config\";\n\nimport Voice from \"./views/Voice\";\nimport Note from \"./views/Note\";\nimport Rest from \"./views/Rest\";\nimport Chord from \"./views/Chord\";\nimport System from \"./views/System\";\nimport Line from \"./views/Line\";\nimport Measure from \"./views/Measure\";\nimport Clef from \"./views/Clef\";\nimport Key from \"./views/Key\";\nimport Text from \"./views/Text\";\nimport TimeSignature from \"./views/TimeSignature\";\nimport Dynamic from \"./views/Dynamic\";\nimport ChordSymbol from \"./views/ChordSymbol\";\nimport Score from \"./views/Score\";\nimport Page from \"./views/Page\";\nimport Repeat from \"./views/Repeat\";\n\nimport {parse, parseLayout} from \"./utils/parser\";\nimport * as lineUtils from \"./utils/line\";\nimport * as noteUtils from \"./utils/note\";\nimport * as accidental from './utils/accidental';\nimport * as common from \"./utils/common\";\nimport * as timeUtils from \"./utils/timeUtils\";\nimport constants from \"./constants\";\nimport vScore from \"./virtual-score\";\n\nconst Scored = function (options={}) {\n\tScored.config = new Config(options.config);\n};\n\nScored.prototype.setup = function (canvas) {\n\tthis.project = paper.setup(canvas).project;\n};\n\nScored.prototype.render = function (composition, args) {\n\tlet view;\n\t// create a white background for images. Possible memleak issue.\n\t// const background = new paper.Path.Rectangle(paper.view.bounds);\n\t// background.fillColor = \"white\";\n\n\tif (!composition.type) throw new Error(\"Layout must have a type\");\n\n\tswitch (composition.type) {\n\t\tcase constants.type.note:\n\t\t\tview = Note.render(composition, args);\n\t\t\tbreak;\n\n\t\tcase constants.type.rest:\n\t\t\tview = Rest.render(composition, args);\n\t\t\tbreak;\n\n\t\tcase constants.type.chord:\n\t\t\tview = Chord.render(composition, args);\n\t\t\tbreak;\n\n\t\tcase constants.type.system:\n\t\t\tview = System.render(composition, args);\n\t\t\tbreak;\n\n\t\tcase constants.type.score:\n\t\t\t// view = vScore(composition, args);\n\t\t\tif (composition instanceof Score) {\n\t\t\t\tview = Score.render(composition, args);\n\t\t\t} else {\n\t\t\t\tview = Score.render(parseLayout(composition), args);\n\t\t\t}\n\t\t\tbreak;\n\t}\n\tpaper.view.update();\n\treturn view;\n};\n\nScored.prototype.serialize = function (item) {\n\treturn common.serialize(item);\n};\n\nScored.prototype.note = function note (context={}) {\n\treturn new Note(context);\n};\n\nScored.prototype.rest = function rest (context={}) {\n\treturn new Rest(context);\n};\n\nScored.prototype.clef = function clef (context={}) {\n\treturn new Clef(context);\n};\n\nScored.prototype.key = function key (context={}) {\n\treturn new Key(context);\n};\n\nScored.prototype.text = function text (context={}) {\n\treturn new Text(context);\n};\n\nScored.prototype.timeSig = function timeSignature (context={}) {\n\treturn new TimeSignature(context);\n};\n\nScored.prototype.dynamic = function dynamic (context={}) {\n\treturn new Dynamic(context);\n};\n\nScored.prototype.chordSymbol = function chordSymbol (context={}) {\n\treturn new ChordSymbol(context);\n};\n\nScored.prototype.chord = function chord (context={}, children=[]) {\n\treturn new Chord(context, children);\n};\n\nScored.prototype.voice = function voice (context={}, children=[]) {\n\treturn new Voice(context, children);\n};\n\nScored.prototype.page = function page (context={} , children=[]) {\n\treturn new Page(context, children);\n}\n\nScored.prototype.measure = function measure (context={}, children) {\n\treturn new Measure(context, children);\n};\n\nScored.prototype.line = function line (context={}, children) {\n\treturn new Line(context, children);\n};\n\nScored.prototype.system = function system (context={}, children) {\n\treturn new System(context, children);\n};\n\nScored.prototype.score = function score (context={}, children) {\n\treturn new Score(context, children);\n};\n\nScored.prototype.repeat = function repeat(context={}) {\n\treturn new Repeat(context);\n};\n\nScored.prototype.clone = common.clone;\n\nScored.parse = parse;\n\nexport default Scored;\n\nif (typeof window === \"object\") {\n\twindow.Scored = Scored;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/Scored.js","import _ from \"lodash\";\n\nconst Config = (function () {\n\tconst FONT_SIZE = 32;\n\tconst FONT_FAMILY = \"gonville\";\n\n\tconst defaultConfig = {\n\t\tfontSize: FONT_SIZE,\n\t\tfontFamily: FONT_FAMILY,\n\t\t// shortestDuration: 0.125,\n\t\tshortestDuration: 0.0625, // sixteenth note\n\t\t// shortestDuration: 0.03125,\n\t\tnote: {\n\t\t\tminWidth: 45,\n\t\t\thead: {\n\t\t\t\twidth: fontSizeToNoteHeadWidth(FONT_SIZE),\n\t\t\t\theight: fontSizeToNoteHeadHeight(FONT_SIZE),\n\t\t\t\tyOffset: fontSizeToNoteHeadYOffset(FONT_SIZE)\n\t\t\t},\n\t\t\taccidental: {\n\t\t\t\txOffset: fontSizeToNoteHeadWidth(FONT_SIZE),\n\t\t\t\tyOffset: -fontSizeToNoteHeadHeight(FONT_SIZE)\n\t\t\t}\n\t\t},\n\t\tlayout: {\n\t\t\tlineSpacing: null,\n\t\t\tlineLength: 1000,\n\t\t\tlineDistance: 100,\n\t\t\tstepSpacing: null\n\n\t\t},\n\t\tmeasure: {\n\t\t\tlength: 100\n\t\t},\n\t\tmaxBeamAngle: 13, // angle in degrees. angle can range from -maxBeamAngle to +maxBeamAngle\n\t\tminStemLength: 10\n\t};\n\n\tfunction Config (configuration) {\n\n\t\tconst config = _.extend({}, defaultConfig, configuration);\n\n\t\treturn processConfig(config);\n\t}\n\n\tfunction processConfig (config) {\n\t\tconfig.note.head.width = fontSizeToNoteHeadWidth(config.fontSize);\n\t\tconfig.note.head.yOffset = fontSizeToNoteHeadYOffset(config.fontSize);\n\t\tconfig.layout.lineSpacing = config.lineSpacing = fontSizeToLineSpacing(config.fontSize, config.fontFamily);\n\t\tconfig.layout.stepSpacing = config.stepSpacing = config.layout.lineSpacing / 2;\n\n\t\treturn config;\n\t}\n\n\tfunction fontSizeToLineSpacing(fontSize) {\n\t\t// Can't access paper at this point because the context hasn't been setup.\n\t\t// The height of the noteHead font is 1.2 * fontSize. This was figured out just by experimenting in the browser console.\n\t\t// var height = fontSize * 1.2;\n\t\tconst height = fontSize;\n\n\t\treturn (5 * height) / 18;\n\t}\n\n\t/*\n\t * @param fontSize - unimplemented\n\t * returns the y distance between the center of the font bounds and the center of the note head.\n\t */\n\tfunction fontSizeToNoteHeadYOffset () {\n\t\treturn 9; // FIXME: This will not scale. Needs to change based on different font sizes.\n\t}\n\n\t/*\n\t * @param fontSize - unimplemented\n\t */\n\tfunction fontSizeToNoteHeadWidth () {\n\t\treturn 10.5;\n\t}\n\n\t/*\n\t * @param fontSize - unimplemented\n\t */\n\tfunction fontSizeToNoteHeadHeight () {\n\t\treturn 10;\n\t}\n\n\treturn Config;\n})();\n\nexport default Config;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/config.js","import {calculateDuration, absoluteToRelativeDuration, gte, lte} from \"./timeUtils\";\nimport {clone} from \"./common\";\nimport {isNote, isRest, isChord} from \"../types\";\n\nconst BREAK = \"BREAK\";\n\n/*\n * Breaks a durationed item so it doesn't run over boundaries such as a barline or invisible barline.\n */\nexport function divide (time, item) {\n    if (!time) return item;\n\n    if (gte(item.time, time)) {\n        return item;\n    }\n    const duration = calculateDuration(item).valueOf();\n    if (lte(item.time + duration, time)) {\n        return item;\n    }\n\n    // get duration of new items\n    const dur1 = absoluteToRelativeDuration(time - item.time);\n    const dur2 = absoluteToRelativeDuration(item.time + duration - time);\n    if (isNote(item) || isChord(item)) {\n        return [clone(item, {...dur1, slur: BREAK}), clone(item, {...dur2, time, slur: BREAK})];\n    } else if (isRest(item)) {\n        return [clone(item, {...dur1}), clone(item, {...dur2, time})];\n    } else {\n        throw new Error(\"Unsure how to divide item\");\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/barline.js","import {every} from \"lodash\";\n\n/*\n * @param previous - Voice\n * @param next - Voice\n * @return - Array of times to rerender of ALL\n */\nexport function voices (previous, next) {\n    const pIterable = previous.iterate();\n    const nIterable = next.iterate();\n    const times = [];\n\n    let pFrame = pIterable.next();\n    let nFrame = nIterable.next();\n    while (!(pFrame.done && nFrame.done)) {\n        const pTime = getFrameTime(pFrame);\n        const nTime = getFrameTime(nFrame);\n        if (pTime === nTime) {\n            // compare the values\n            if (!(pFrame.value.length === nFrame.value.length &&\n                every(pFrame.value, (item, i) => item.equals(nFrame.value[i])))) {\n                    times.push(pTime);\n            }\n\n            // Advance the time of both frames\n            pFrame = pIterable.next();\n            nFrame = nIterable.next();\n        } else if (pTime < nTime) {\n            times.push(pTime);\n            pFrame = pIterable.next();\n        } else if (pTime > nTime) {\n            times.push(nTime);\n            nFrame = nIterable.next();\n        }\n    }\n\n    return times;\n};\n\nfunction getFrameTime (frame) {\n    return !frame.done ? frame.value[0].time : Infinity;\n}\n\n/*\n * @param previous - [Number]\n * @param next - [Number]\n * @return Array of indices at which the given arrays differ.\n */\nexport function arrays (previous, next) {\n    const length = Math.max(previous.length, next.length);\n    const ret = [];\n    for (let i = 0; i < length; i++) {\n        if (previous[i] !== next[i]) ret.push(i);\n    }\n    return ret;\n}\n\n/*\n * @param current {Score} - the currently rendered score.\n * @param next {Score} - the score that is to be rendered next.\n * @return - true if measures have changed, false otherwise.\n * TODO: Need to handle timeSig changes.\n */\nexport function measures (current, next) {\n    const currentNum = _.sum(current.systems, system => system.measures);\n    const nextNum = _.sum(next.systems, system => system.measures);\n\n    return currentNum !== nextNum;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/utils/diff.js","import paper from \"paper/dist/paper-core\";\nimport {filter, first, last} from \"lodash\";\n\nimport constants from \"../constants\";\nimport {isChord} from \"../types\";\nimport {partitionBy} from \"../utils/common\";\nimport {slur} from \"../utils/note\";\n\nconst TYPE = constants.type.slur;\n\n/*\n * @param systemBreak - true if slur is across systems.\n * @param isEnd - true if slur ends on only item in children. Makes no difference is children contains multiple items.\n */\nfunction Slur ({systemBreak, isEnd}, children = []) {\n    this.systemBreak = systemBreak;\n    this.isEnd = isEnd;\n    this.children = children;\n}\n\nSlur.prototype.type = TYPE;\n\nSlur.of = (context, children) => {\n    return new Slur(context, children);\n};\n\nSlur.prototype.render = function () {\n    const group = new paper.Group({name: TYPE});\n\n    const firstItem = first(this.children);\n    const lastItem = last(this.children);\n    if (this.children.length === 1) {\n        if (this.isEnd) {\n            const stem = lastItem.getStemDirection();\n            const end = getSlurPoint(lastItem, null, stem);\n            const begin = end.subtract(20, 0);\n            const handle = getSlurHandle(stem);\n            group.addChild(slur(begin, end, handle));\n        } else {\n            const stem = firstItem.getStemDirection();\n            const begin = getSlurPoint(firstItem, null, stem);\n            const end = begin.add(20, 0);\n            const handle = getSlurHandle(stem);\n            group.addChild(slur(begin, end, handle));\n\n        }\n    } else if (this.systemBreak) {\n        // TODO: Currently assumes only two notes in slur. Need to handle many notes.\n        const firstStem = firstItem.getStemDirection();\n        const s1Begin = getSlurPoint(firstItem, null, firstStem);\n        const s1End = s1Begin.add(20, 0);\n        const s1Handle = getSlurHandle(firstStem);\n        const slur1 = slur(s1Begin, s1End, s1Handle);\n\n        const lastStem = lastItem.getStemDirection();\n        const s2End = getSlurPoint(lastItem, null, lastStem);\n        const s2Begin = s2End.subtract(20, 0);\n        const s2Handle = getSlurHandle(lastStem);\n        const slur2 = slur(s2Begin, s2End, s2Handle);\n\n        group.addChildren([slur1, slur2]);\n    } else {\n    \tconst stem = firstItem.getStemDirection();\n    \tconst begin = getSlurPoint(firstItem, null, stem);\n    \tconst handle = getSlurHandle(stem);\n    \tconst end = getSlurPoint(lastItem, handle);\n        group.addChild(slur(begin, end, handle));\n    }\n    return group;\n};\n\nSlur.groupSlurs = function (items) {\n    return filter(partitionBy(items, item => item.slur), ([item]) => !!item.slur);\n};\n\n/*\n * @param item - Note or Chord.\n * @param incoming - the incoming slur handle\n * @param stemDirection - String.\n */\nfunction getSlurPoint (item, incoming, stemDirection) {\n\tstemDirection = stemDirection || item.getStemDirection();\n\n\tconst noteHead = isChord(item) ? item.getBaseNote(stemDirection).noteHead : item.noteHead;\n\n\tif (!incoming) {\n\t\treturn stemDirection === \"down\" ? noteHead.bounds.center : noteHead.bounds.bottomCenter;\n\t} else if (incoming.y < 0) {\n\t\treturn noteHead.bounds.center;\n\t} else {\n\t\treturn noteHead.bounds.bottomCenter;\n\t}\n}\n\nfunction getSlurHandle (stemDirection) {\n\tconst yVec = stemDirection === \"up\" ? 10 : -10;\n\treturn new paper.Point([0, yVec]);\n}\n\nexport default Slur;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/Slur.js","import paper from \"paper/dist/paper-core\";\nimport _ from \"lodash\";\n\nimport Note from \"./Note\";\nimport Chord from \"./Chord\";\nimport {isNote, isChord, isRest, isDynamic, isPitched, isMarking, hasDuration} from \"../types\";\nimport {calculateNoteYpos, getClefBase, alignNoteHeads, getYOffset, calculateCursor, placeAt} from \"../utils/placement\";\nimport {positionMarkings} from \"../utils/line\";\n\n/*\n * Representation of all items across lines that are at a given time.\n * Internal class. Not exposed as Boethius view.\n * @param timeContext - array of lineTimeContexts.\n * @param symbols - array of symbols.\n */\nfunction TimeContext (timeContext = [], symbols = []) {\n    this.lines = timeContext;\n    this.time = _.find(timeContext, line => !!line).time;\n    this.symbols = symbols;\n}\n\nTimeContext.prototype.render = function (lineHeights) {\n    const group = this.group = new paper.Group();\n\n\tconst cursors = _.map(this.lines, (line, i) => {\n\t\tif (line) {\n\t\t\tconst itemGroups = renderTime(line);\n\n            const markings = _.filter(line.items, isMarking);\n            const pitchedItems = _.filter(line.items, isPitched);\n            const rests = _.filter(line.items, isRest);\n            const dynamics = _.filter(line.items, isDynamic);\n\n            const rootY = new paper.Point(0, lineHeights[i]);\n\n            const cursor = positionMarkings(rootY, 0, line);\n\n            if (pitchedItems.length) {\n                const widestItem = _.max(pitchedItems, item => item.group.bounds.width);\n                placeY(rootY, line.context, widestItem);\n                placeAt(cursor, widestItem);\n                // mutation of notes array\n                _.remove(pitchedItems, item => item === widestItem);\n                _.each(pitchedItems, _.partial(placeY, rootY, line.context));\n\n                const alignToNoteHead = isNote(widestItem) ? widestItem.noteHead : widestItem.children[0].noteHead;\n        \t\talignNoteHeads(alignToNoteHead.bounds.center.x, pitchedItems);\n            }\n\n            rests.map(rest => {\n        \t\trest.group.translate(rootY.add(0, getYOffset(rest)));\n                placeAt(cursor, rest);\n            });\n\n            dynamics.map((dynamic) => {\n        \t\tdynamic.group.translate(rootY.add(0, Scored.config.layout.lineSpacing * 7.5));\n        \t\tplaceAt(cursor, dynamic);\n        \t});\n\n            group.addChildren(itemGroups);\n\n            return cursor;\n\t\t}\n\t});\n\n    // render symbols\n    const minCursor = Math.min.apply(null, _.compact(cursors));\n    const symbolCursor = _.isFinite(minCursor) ? minCursor : 0;\n    const symbolGroups = this.symbols.map(symbol => {\n        const symbolGroup = symbol.render();\n        symbolGroup.translate(symbolCursor, getYOffset(symbol));\n        return symbolGroup;\n    });\n\n    group.addChildren(symbolGroups);\n\n    return group;\n}\n\nTimeContext.prototype.calculateCursor = function () {\n    return this.lines.map((line) => {\n        if (line) {\n            const markingCursor = _.filter(line.items, isMarking).reduce((acc, marking) => calculateCursor(marking) + acc, 0);\n            const durationedCursor = _.min(_.filter(line.items, hasDuration).map(calculateCursor));\n            return markingCursor + durationedCursor;\n        }\n    });\n};\n\nfunction placeY (rootY, context, item) {\n\tconst note = isNote(item) ? item : item.children[0];\n\tconst yPos = calculateNoteYpos(note, Scored.config.lineSpacing/2, getClefBase(context.clef.value), 4);\n\titem.group.translate(rootY.add([0, yPos]));\n};\n\nfunction renderTime ({items, context}) {\n\treturn _.map(items, item => renderItem(item, context));\n};\n\nfunction renderItem (item, context) {\n\tif (isNote(item)) {\n\t\treturn renderNote(item, context);\n\t} else if (isChord(item)) {\n\t\treturn renderChord(item, context);\n\t} else {\n\t\treturn item.render(context);\n\t}\n}\n\n/*\n * @param note - Note\n * @param context - {key, timeSig, time, clef, accidentals}\n * @return paper.Group\n */\nfunction renderNote (note, context) {\n\tconst group = note.render(context);\n\tNote.renderAccidental(note, context.accidentals, context.key);\n\tNote.renderDots(note, context.clef);\n\treturn group;\n};\n\n/*\n * @param Chord - Chord\n * @param context - {key, timeSig, time, clef, accidentals}\n * @return Paper.Group\n */\nfunction renderChord (chord, context) {\n\tconst group = chord.render(context);\n\tChord.renderAccidentals(chord, context);\n\treturn group;\n};\n\nexport default TimeContext;\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/views/TimeContext.js","import _ from \"lodash\";\n\nimport Voice from \"./views/Voice\";\nimport Note from \"./views/Note\";\nimport Rest from \"./views/Rest\";\nimport Chord from \"./views/Chord\";\nimport System from \"./views/System\";\nimport Line from \"./views/Line\";\nimport Measure, {createMeasures} from \"./views/Measure\";\nimport Clef from \"./views/Clef\";\nimport Key from \"./views/Key\";\nimport TimeSignature from \"./views/TimeSignature\";\nimport Dynamic from \"./views/Dynamic\";\nimport ChordSymbol from \"./views/ChordSymbol\";\nimport Score, {scoreToMeasures, getSystemTimeContexts, createLineTimeContext, renderDecorations} from \"./views/Score\";\n\nimport constants from \"./constants\";\nimport {map, reductions, partitionWhen, clone, concat, set} from \"./utils/common\";\nimport {getTimeContexts} from \"./utils/line\";\nimport {getStaffItems, iterateByTime} from \"./utils/system\";\nimport {getAccidentalContexts} from \"./utils/accidental\";\nimport {getTime} from \"./utils/timeUtils\";\nimport * as diff from \"./utils/diff\";\nimport {parse} from \"./utils/parser\";\nimport {isClef, isKey, isTimeSignature} from \"./types\";\n\nconst RENDERALL = \"RENDERALL\";\n\nlet cache = {\n    score: {},\n    startMeasures: [],\n    // [Voice]\n    voices: [],\n    systemGroups: []\n};\nlet scoreGroup, measures, systems, startMeasures, systemGroups;\n\n/*\n * @param score {Score} - the score to render.\n * @param voices {Voice[]}\n * @param pages {Number[]} - the page to render.\n */\nexport default function render (score, {voices=[], pages=[1]}) {\n    // FIXME: voiceDiff currently unused.\n    const voiceDiff = diffAllVoices(cache.voices, voices);\n\n    if (!cache.score || diff.measures(cache.score, score)) {\n        measures = scoreToMeasures(score);\n    }\n\n    // const systemHeights = score.systemHeights;\n    const heightsDiff = diff.arrays(cache.score.systemHeights || [], score.systemHeights);\n    if (scoreGroup && cache.score.systemHeights && heightsDiff.length) {\n        heightsDiff.map((i) => {\n            if (cache.systemGroups[i]) {\n                cache.systemGroups[i].translate(0, score.systemHeights[i] - cache.score.systemHeights[i]);\n            }\n        });\n    } else {\n        if (scoreGroup) {\n            scoreGroup.remove();\n        }\n\n        // Create the Score Group. No actual rendering is done here.\n        scoreGroup = score.render();\n\n        // get the start measure for each System.\n        startMeasures = reductions((acc, stave) => acc + stave.measures, score.systems, 0);\n\n        const startTimes = _.dropRight(startMeasures).map((measure) => getTime(measures, {measure}));\n\n        const startContexts = startTimes.map((time) => {\n            return score.lines.map(line => line.contextAt(time));\n        });\n\n        const systemTimeContexts = getSystemTimeContexts(score, voices, measures, startMeasures);\n\n        // Create the context marking for the beginning of each system.\n        map((systemContext, startContext, startTime) => {\n            const firstTime = _.first(systemContext);\n            if (firstTime) {\n                const time = _.find(firstTime, ctx => !!ctx).time;\n                if (startTime.time < time.time) {\n                    throw new Error(\"Gap in time\");\n                } else {\n                    _.each(firstTime, (timeContext, i) => {\n                        if (timeContext) { // there are items at the time.\n                            // add markings to the items list if they don't exist.\n                            const {context, items} = timeContext;\n                            if (!_.find(timeContext.items, isClef)) items.push(clone(context.clef));\n                            if (!_.find(timeContext.items, isKey)) items.push(clone(context.key));\n                            if (!_.find(timeContext.items, isTimeSignature)) items.push(clone(context.timeSig));\n                        } else { // create a context and marking items for the line\n                            firstTime[i] = createLineTimeContext(startTime, startContext[i]);\n                        }\n                    });\n                }\n            } else {\n                // create a timeContext with the cloned startContext markings\n                const systemTimeContext = _.map(startContext, _.partial(createLineTimeContext, startTime));\n                systemContext.push(systemTimeContext);\n            }\n        }, systemTimeContexts, startContexts, startTimes);\n\n        const systemsToRender = _.reduce(score.systems, (acc, system, i) => {\n            return _.contains(pages, system.page) ? concat(acc, [system, systemTimeContexts[i], i]) : acc;\n        }, []);\n\n        systemGroups = _.reduce(systemsToRender, (acc, [system, timeContext, i]) => {\n            const endMeasure = startMeasures[i] + system.measures;\n            const systemMeasures = _.slice(measures, startMeasures[i], endMeasure);\n\n            const systemGroup = System.renderTimeContexts(system, score.lines, systemMeasures, voices, timeContext, score.length);\n\n            // Add height of previously rendered pages\n            const systemTranslation = (!_.contains(pages, system.page - 1)) ?\n                score.systemHeights[i] :\n                score.systemHeights[i] + _.indexOf(pages, system.page) * score.pageHeight;\n\n            systemGroup.translate(0, systemTranslation);\n\n            return set(acc, i, systemGroup);\n        }, []);\n\n        scoreGroup.addChildren(systemGroups);\n\n        renderDecorations(scoreGroup, voices);\n    }\n\n    // set cache items\n    if (score) cache.score = score;\n    if (startMeasures) cache.startMeasures = startMeasures;\n    if (systemGroups) cache.systemGroups = systemGroups;\n    if (voices) cache.voices = voices;\n\n    return scoreGroup;\n};\n\nfunction diffAllVoices (previous, next) {\n    const previousVoices = _.groupBy(previous, voice => voice.name);\n    const nextVoices = _.groupBy(next, voice => voice.name);\n\n    const voices = previousVoices.length > nextVoices.length ? previousVoices : nextVoices;\n    // loop over longer voice list\n    let times = [];\n    for (let name in voices) {\n        if (!previousVoices[name] || !nextVoices[name]) return RENDERALL;\n        times = times.concat(diff.voices(previousVoices[name][0], nextVoices[name][0]));\n    }\n\n    return _.uniq(_.sortBy(times));\n}\n\nfunction createVoiceScoredObjects (voices) {\n    return voices.map(parse);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/boethius/src/virtual-score.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/base64-js/index.js\n// module id = 62\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/index.js\n// module id = 63\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/~/isarray/index.js\n// module id = 64\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"@font-face {\\n\\tfont-family: 'gonville';\\n\\tsrc: url(\" + require(\"./fonts/gonvillepart1.ttf\") + \") format('truetype');\\n}\\n\\n@font-face {\\n\\tfont-family: 'gonvillealpha';\\n\\tsrc: url(\" + require(\"./fonts/gonvillealpha11.ttf\") + \") format('truetype');\\n}\\n\\np {\\n\\tfont-family: 'gonville';\\n\\tfont-size: 2em;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./server/boethius/styles/fonts.css\n// module id = 65\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\nexports.i(require(\"-!../../../node_modules/css-loader/index.js!./score.css\"), \"\");\nexports.i(require(\"-!../../../node_modules/css-loader/index.js!./fonts.css\"), \"\");\n\n// module\nexports.push([module.id, \".layout-code {\\n\\tborder: 1px solid #000;\\n}\\n\\n.border {\\n  border: 1px solid #000;\\n}\\n\\n.float-right {\\n  float: right;\\n}\\n\\n.display-none {\\n\\tdisplay: none;\\n}\\n\\n/* Header bar */\\n.header {\\n  /*position: fixed;*/\\n  background-color: #3E2723;\\n  color: #FFF;\\n  width: 100%;\\n  padding: 10px 0px 10px 0px;\\n}\\n\\n.palate-wrapper {\\n\\twidth: 50%;\\n\\t/*height: 300px;*/\\n}\\n\\n.mirror-height {\\n\\theight: 300px;\\n}\\n\\n.output-structure {\\n\\twidth: 100%;\\n\\theight: 50%;\\n}\\n\\n.palate-wrapper-left {\\n  /*position: relative;*/\\n  left: -45%;\\n  top: 0px;\\n  width: 50%;\\n  height: 100%;\\n}\\n\\n.palate-wrapper-right {\\n  /*position: relative;*/\\n  /*top: 0px;*/\\n  right: -45%;\\n  width: 50%;\\n}\\n\\n.mrs {\\n\\tmargin-right: 10px;\\n}\\n\\n.mrm {\\n\\tmargin-right: 20px;\\n}\\n\\n.mls {\\n\\tmargin-left: 10px;\\n}\\n\\n.mlm {\\n\\tmargin-left: 20px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./server/boethius/styles/index.css\n// module id = 66\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Material Brown theme\\n *  50 - #EFEBE9\\n * 100 - #D7CCC8\\n * 200 - #BCAAA4\\n * 300 - #A1887F\\n * 400 - #8D6E63\\n * 500 - #795548\\n * 600 - #6D4C41\\n * 700 - 5D4037\\n * 800 - #4E342E\\n * 900 - #3E2723\\n */\\n\\nbody {\\n  padding: 0px;\\n  margin: 0px;\\n}\\n\\ncanvas.full-screen {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.sheet {\\n  position: relative;\\n  width: 902px;\\n  height: 1167px;\\n  border: 1px solid #000;\\n  top: 50px;\\n  left: 150px;\\n}\\n\\n.parnassus {\\n  position: relative;\\n  width: 1425px;\\n  height: 1167px;\\n  border: 1px solid #000;\\n  top: 50px;\\n  left: 10px;\\n}\\n\\n.flex-container {\\n  display: flex;\\n}\\n\\n.toolbar-container {\\n  display: block;\\n  width: 100%;\\n  height: 45px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./server/boethius/styles/score.css\n// module id = 67\n// module chunks = 0","module.exports = __webpack_public_path__ + \"f355a7f741c8a24b89427af9c66833ec.ttf\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius/styles/fonts/gonvillealpha11.ttf\n// module id = 68\n// module chunks = 0","module.exports = __webpack_public_path__ + \"9d6e1d89ae14f398f2058d0b765a0033.ttf\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius/styles/fonts/gonvillepart1.ttf\n// module id = 69\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ieee754/index.js\n// module id = 70\n// module chunks = 0","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.4';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      reLeadingDot = /^\\./,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:(?:1st|2nd|3rd|(?![123])\\\\dth)\\\\b)',\n      rsOrdUpper = '\\\\d*(?:(?:1ST|2ND|3RD|(?![123])\\\\dTH)\\\\b)',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Adds the key-value `pair` to `map`.\n   *\n   * @private\n   * @param {Object} map The map to modify.\n   * @param {Array} pair The key-value pair to add.\n   * @returns {Object} Returns `map`.\n   */\n  function addMapEntry(map, pair) {\n    // Don't return `map.set` because it's not chainable in IE 11.\n    map.set(pair[0], pair[1]);\n    return map;\n  }\n\n  /**\n   * Adds `value` to `set`.\n   *\n   * @private\n   * @param {Object} set The set to modify.\n   * @param {*} value The value to add.\n   * @returns {Object} Returns `set`.\n   */\n  function addSetEntry(set, value) {\n    // Don't return `set.add` because it's not chainable in IE 11.\n    set.add(value);\n    return set;\n  }\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, baseClone, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        if (isObject(srcValue)) {\n          stack || (stack = new Stack);\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(object[key], srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = object[key],\n          srcValue = source[key],\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `map`.\n     *\n     * @private\n     * @param {Object} map The map to clone.\n     * @param {Function} cloneFunc The function to clone values.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned map.\n     */\n    function cloneMap(map, isDeep, cloneFunc) {\n      var array = isDeep ? cloneFunc(mapToArray(map), CLONE_DEEP_FLAG) : mapToArray(map);\n      return arrayReduce(array, addMapEntry, new map.constructor);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of `set`.\n     *\n     * @private\n     * @param {Object} set The set to clone.\n     * @param {Function} cloneFunc The function to clone values.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned set.\n     */\n    function cloneSet(set, isDeep, cloneFunc) {\n      var array = isDeep ? cloneFunc(setToArray(set), CLONE_DEEP_FLAG) : setToArray(set);\n      return arrayReduce(array, addSetEntry, new set.constructor);\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {Function} cloneFunc The function to clone values.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, cloneFunc, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return cloneMap(object, isDeep, cloneFunc);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return cloneSet(object, isDeep, cloneFunc);\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return !!length &&\n        (typeof value == 'number' || reIsUint.test(value)) &&\n        (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (reLeadingDot.test(string)) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            result = wait - timeSinceLastCall;\n\n        return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(args) {\n      args.push(undefined, customDefaultsAssignIn);\n      return apply(assignInWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = (lodashFunc.name + ''),\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/lodash.js\n// module id = 71\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/path-browserify/index.js\n// module id = 73\n// module chunks = 0","module.exports = \"; just the melody\\n~melA = (r/8 g c5/8 (tuplet=3/2 b4/8 c5/8 a4/8 r/8 a4/8 e4/8) |\\ng4/1 | (value=8 octave=4 r f g (slur f f) eb c (slur eb | eb/2))\\n(value=8 r c bb3 (slur c | c/1 | )) g a/8 (slur b/8 b/2) r/8 a4/4. b4 c5/8\\n(slur d5/8 | d5/2) r/8 c5/8 g4/8 (slur bb4/8 | bb4/2.) a4\\nc5/2 r/8 bb4/8 f4/8 (slur ab4/8 | ab4/2.) g4 | bb4/2 r/8 ab4/16 bb4/16 ab4/8 db4/8 |\\neb5/2 r/8 db5/16 eb5/16 db5/8 ab4/8 (slur gb5/1 gb5/1)\\n)\\n\\n[mel (part=pluck tempo=100 ~melA)]\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/glorias-step.bth\n// module id = 74\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = require(\"./fixUrls\");\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\toptions.attrs.type = \"text/css\";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 75\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\tvar fixedCss = css.replace(/url *\\( *(.+?) *\\)/g, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/fixUrls.js\n// module id = 76\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius/styles/index.css\n// module id = 77\n// module chunks = 0","/* Web Font Loader v1.6.27 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.m=b||a;this.c=this.m.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction z(a){if(\"string\"===typeof a.f)return a.f;var b=a.m.location.protocol;\"about:\"==b&&(b=a.a.location.protocol);return\"https:\"==b?\"https:\":\"http:\"}function ea(a){return a.m.location.hostname||a.a.location.hostname}\nfunction A(a,b,c){function d(){k&&e&&f&&(k(g),k=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,k=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction B(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function C(){this.a=0;this.c=null}function D(a){a.a++;return function(){a.a--;E(a)}}function F(a,b){a.c=b;E(a)}function E(a){0==a.a&&a.c&&(a.c(),a.c=null)};function G(a){this.a=a||\"-\"}G.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function H(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return I(a)+\" \"+(a.f+\"00\")+\" 300px \"+J(a.c)}function J(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function K(a){return a.a+a.f}function I(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.m.document.documentElement;this.h=b;this.a=new G(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);L(a,\"loading\")}function M(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}L(a,\"inactive\")}function L(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,K(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function N(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function O(a){u(a.c,\"body\",a.a)}function P(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+J(a.c)+\";\"+(\"font-style:\"+I(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function Q(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}Q.prototype.start=function(){var a=this.c.m.document,b=this,c=q(),d=new Promise(function(d,e){function k(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(k,25)},function(){e()})}k()}),e=new Promise(function(a,d){setTimeout(d,b.f)});Promise.race([e,d]).then(function(){b.g(b.a)},function(){b.j(b.a)})};function R(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.o=this.j=this.h=this.g=null;this.g=new N(this.c,this.s);this.h=new N(this.c,this.s);this.j=new N(this.c,this.s);this.o=new N(this.c,this.s);a=new H(this.a.c+\",serif\",K(this.a));a=P(a);this.g.a.style.cssText=a;a=new H(this.a.c+\",sans-serif\",K(this.a));a=P(a);this.h.a.style.cssText=a;a=new H(\"serif\",K(this.a));a=P(a);this.j.a.style.cssText=a;a=new H(\"sans-serif\",K(this.a));a=\nP(a);this.o.a.style.cssText=a;O(this.g);O(this.h);O(this.j);O(this.o)}var S={D:\"serif\",C:\"sans-serif\"},T=null;function U(){if(null===T){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);T=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return T}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.o.a.offsetWidth;this.A=q();la(this)};\nfunction ma(a,b,c){for(var d in S)if(S.hasOwnProperty(d)&&b===a.f[S[d]]&&c===a.f[S[d]])return!0;return!1}function la(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=U()&&ma(a,b,c));d?q()-a.A>=a.w?U()&&ma(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):na(a):V(a,a.v)}function na(a){setTimeout(p(function(){la(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.o.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.o=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,K(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,K(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,K(a).toString(),\"inactive\")]);L(b,\"fontactive\",a);this.o=!0;oa(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,K(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,K(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,K(a).toString(),\"inactive\"));w(b.f,d,e)}L(b,\"fontinactive\",a);oa(this)};function oa(a){0==--a.f&&a.j&&(a.o?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),L(a,\"active\")):M(a.a))};function pa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}pa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;qa(this,new ha(this.c,a),a)};\nfunction ra(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,k=d||null||{};if(0===c.length&&f)M(b.a);else{b.f+=c.length;f&&(b.j=f);var h,m=[];for(h=0;h<c.length;h++){var l=c[h],n=k[l.c],r=b.a,x=l;r.g&&w(r.f,[r.a.c(\"wf\",x.c,K(x).toString(),\"loading\")]);L(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),ya=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):ya?!1:!0}else X=!1;X?r=new Q(p(b.g,b),p(b.h,b),b.c,l,b.s,n):r=new R(p(b.g,b),p(b.h,b),b.c,l,b.s,a,n);m.push(r)}for(h=0;h<m.length;h++)m[h].start()}},0)}function qa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){ra(a,f,b,d,c)})};function sa(a,b){this.c=a;this.a=b}function ta(a,b,c){var d=z(a.c);a=(a.a.api||\"fast.fonts.net/jsapi\").replace(/^.*http(s?):(\\/\\/)?/,\"\");return d+\"//\"+a+\"/\"+b+\".js\"+(c?\"?v=\"+c:\"\")}\nsa.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var m=0;m<c.length;m++){var l=c[m].fontfamily;void 0!=c[m].fontStyle&&void 0!=c[m].fontWeight?(h=c[m].fontStyle+c[m].fontWeight,e.push(new H(l,h))):e.push(new H(l))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.m;B(this.c,ta(c,d,e),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+d]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+\nd}else a([])};function ua(a,b){this.c=a;this.a=b}ua.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new C;b=0;for(c=d.length;b<c;b++)A(this.c,d[b],D(g));var k=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),m=0;m<h.length;m+=1)k.push(new H(d[0],h[m]));else k.push(new H(d[0]));F(g,function(){a(k,f)})};function va(a,b,c){a?this.c=a:this.c=b+wa;this.a=[];this.f=[];this.g=c||\"\"}var wa=\"//fonts.googleapis.com/css\";function xa(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction za(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function Aa(a){this.f=a;this.a=[];this.c={}}\nvar Ba={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Ca={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Da={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nEa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Fa(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var k=d[1];g=[];if(k)for(var k=k.split(\",\"),h=k.length,m=0;m<h;m++){var l;l=k[m];if(l.match(/^[\\w-]+$/)){var n=Ea.exec(l.toLowerCase());if(null==n)l=\"\";else{l=n[2];l=null==l||\"\"==l?\"n\":Da[l];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Ca[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);l=[l,n].join(\"\")}}else l=\"\";l&&g.push(l)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=Ba[d[0]])&&(a.c[e]=d))}a.c[e]||(d=Ba[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new H(e,f[d]))}};function Ga(a,b){this.c=a;this.a=b}var Ha={Arimo:!0,Cousine:!0,Tinos:!0};Ga.prototype.load=function(a){var b=new C,c=this.c,d=new va(this.a.api,z(c),this.a.text),e=this.a.families;xa(d,e);var f=new Aa(e);Fa(f);A(c,za(d),D(b));F(b,function(){a(f.a,f.c,Ha)})};function Ia(a,b){this.c=a;this.a=b}Ia.prototype.load=function(a){var b=this.a.id,c=this.c.m;b?B(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],k=b[f+1],h=0;h<k.length;h++)e.push(new H(g,k[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(m){}a(e)}},2E3):a([])};function Ja(a,b){this.c=a;this.f=b;this.a=[]}Ja.prototype.load=function(a){var b=this.f.id,c=this.c.m,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,k=c.fonts.length;g<k;++g){var h=c.fonts[g];d.a.push(new H(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},B(this.c,z(this.c)+(this.f.api||\"//f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new pa(window);Y.a.c.custom=function(a,b){return new ua(b,a)};Y.a.c.fontdeck=function(a,b){return new Ja(b,a)};Y.a.c.monotype=function(a,b){return new sa(b,a)};Y.a.c.typekit=function(a,b){return new Ia(b,a)};Y.a.c.google=function(a,b){return new Ga(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webfontloader/webfontloader.js\n// module id = 78\n// module chunks = 0","/* parser generated by jison 0.4.17 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar lang = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,19],$V1=[1,20],$V2=[1,17],$V3=[1,18],$V4=[1,14],$V5=[1,15],$V6=[1,9],$V7=[4,7,12,16,18,21,28,36],$V8=[4,7,12,16,18,21,24,28,30,36],$V9=[1,24],$Va=[1,30],$Vb=[4,7,12,16,18,19,21,24,28,30,36],$Vc=[1,34],$Vd=[4,7,10,12,16,18,19,21,24,28,30,36],$Ve=[1,41],$Vf=[1,47],$Vg=[7,12,16,18,21,23,36],$Vh=[7,12,16,18,21,24,30,36],$Vi=[7,12,19],$Vj=[1,66];\nvar parser = {trace: function trace() { },\nyy: {},\nsymbols_: {\"error\":2,\"expressions\":3,\"EOF\":4,\"statements\":5,\"float\":6,\"INTEGER\":7,\"DOTS\":8,\"duration\":9,\"FWDSLASH\":10,\"pitch\":11,\"PITCHCLASS\":12,\"note\":13,\"notelist\":14,\"rest\":15,\"REST\":16,\"chord\":17,\"OPENBRKT\":18,\"CLOSEBRKT\":19,\"chordSymbol\":20,\"LPAREN\":21,\"CSYM\":22,\"IDENTIFIER\":23,\"RPAREN\":24,\"item\":25,\"ratio\":26,\"voice\":27,\"LBRKT\":28,\"list\":29,\"RBRKT\":30,\"propertydef\":31,\"EQUALS\":32,\"BOOL\":33,\"propertylist\":34,\"propscope\":35,\"VAR\":36,\"assignment\":37,\"statement\":38,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"EOF\",7:\"INTEGER\",8:\"DOTS\",10:\"FWDSLASH\",12:\"PITCHCLASS\",16:\"REST\",18:\"OPENBRKT\",19:\"CLOSEBRKT\",21:\"LPAREN\",22:\"CSYM\",23:\"IDENTIFIER\",24:\"RPAREN\",28:\"LBRKT\",30:\"RBRKT\",32:\"EQUALS\",33:\"BOOL\",36:\"VAR\"},\nproductions_: [0,[3,1],[3,2],[6,3],[9,2],[9,3],[11,1],[11,1],[13,1],[13,2],[14,1],[14,2],[15,1],[15,2],[17,3],[17,4],[20,5],[20,6],[20,6],[25,1],[25,1],[25,1],[25,1],[26,3],[27,4],[31,3],[31,3],[31,3],[31,3],[31,3],[34,1],[34,2],[35,4],[35,4],[35,3],[29,1],[29,2],[29,1],[29,2],[29,1],[29,2],[37,3],[38,1],[38,1],[38,1],[38,1],[5,1],[5,2]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\nreturn {voices: yy.voices, chordSymbols: yy.chordSymbols};\nbreak;\ncase 2:\nreturn $$[$0-1];\nbreak;\ncase 3:\nthis.$ = parseFloat($$[$0-2] + \".\" + $$[$0])\nbreak;\ncase 4:\nthis.$ = {value: Number($$[$0]), dots: 0}\nbreak;\ncase 5:\nthis.$ = {value: Number($$[$0-1]), dots: $$[$0].length}\nbreak;\ncase 6:\nthis.$ = {midi: Number($$[$0])};\nbreak;\ncase 7:\nthis.$ = parsePitch($$[$0]);\nbreak;\ncase 8:\n\n            // default values\n            this.$ = new yy.NoteNode($$[$0]);\n        \nbreak;\ncase 9:\n\n            this.$ = new yy.NoteNode(Object.assign({}, $$[$0-1], $$[$0]));\n        \nbreak;\ncase 10: case 35: case 46:\nthis.$ = [$$[$0]]\nbreak;\ncase 11: case 36: case 40: case 47:\nthis.$ = $$[$0-1].concat($$[$0])\nbreak;\ncase 12:\nthis.$ = new yy.RestNode({});\nbreak;\ncase 13:\nthis.$ = new yy.RestNode({value: $$[$0].value, dots: $$[$0].dots});\nbreak;\ncase 14:\nthis.$ = new yy.ChordNode({}, $$[$0-1]);\nbreak;\ncase 15:\n\n            /*this.$ = {type: CHORD, children: $$[$0-2], props: {value: $$[$0].value, dots: $$[$0].dots}};*/\n            this.$ = new yy.ChordNode({value: $$[$0].value, dots: $$[$0].dots}, $$[$0-2]);\n        \nbreak;\ncase 16:\n\n            var chordSymbol = {type: CHORDSYMBOL, props: {value: $$[$0-2], measure: Number($$[$0-1]), beat: 0}};\n            yy.chordSymbols.push(chordSymbol);\n            this.$ = chordSymbol;\n        \nbreak;\ncase 17: case 18:\n\n            var chordSymbol = {type: CHORDSYMBOL, props: {value: $$[$0-3], measure: Number($$[$0-2]), beat: Number($$[$0-1])}}\n            yy.chordSymbols.push(chordSymbol);\n            this.$ = chordSymbol;\n        \nbreak;\ncase 19: case 20: case 21: case 22: case 39: case 42: case 43: case 44: case 45:\nthis.$ = $$[$0]\nbreak;\ncase 23:\nthis.$ = \"\" + $$[$0-2] + $$[$0-1] + $$[$0]\nbreak;\ncase 24:\n\n            /*var expantion = $$[$0-1].map(function (item) {\n                return item.expand();\n            });*/\n\n            if (!yy.voices[$$[$0-2]]) {\n                // create array for voice items\n                yy.voices[$$[$0-2]] = $$[$0-1];\n            } else {\n                yy.voices[$$[$0-2]] = yy.voices[$$[$0-2]].concat($$[$0-1]);\n            }\n\n            this.$ = $$[$0-1];\n        \nbreak;\ncase 25:\nthis.$ = {key: $$[$0-2], value: toBoolean($$[$0])}\nbreak;\ncase 26:\nthis.$ = {key: $$[$0-2], value: Number($$[$0])}\nbreak;\ncase 27: case 28: case 29:\nthis.$ = {key: $$[$0-2], value: $$[$0]}\nbreak;\ncase 30:\n\n            var props = {};\n            props[$$[$0].key] = $$[$0].value;\n            this.$ = props;\n        \nbreak;\ncase 31:\n\n            var props = {};\n            props[$$[$0].key] = $$[$0].value;\n            this.$ = Object.assign({}, $$[$0-1], props);\n        \nbreak;\ncase 32:\nthis.$ = $$[$0-1].map(function (item) {\n            var props = {};\n            props[$$[$0-2]] = true;\n            return clone(item, props);\n        });\nbreak;\ncase 33:\nthis.$ = $$[$0-1].map(function (item) {\n            // items properties overwrite the proplist's properties\n            var props = Object.assign({}, $$[$0-2], item.props);\n            // resulting props are placed on the item.\n            return item.clone(props);\n        });\nbreak;\ncase 34:\n\n            this.$ = $$[$0-1];\n        \nbreak;\ncase 37:\n\n            var element = yy.vars[$$[$0]];\n            if (!element) throw new Error(errors.unitializedVar($$[$0], this));\n            this.$ = [].concat(element.reduce(function (acc, el) {\n                return acc.concat(clone(el));\n            }, []));\n        \nbreak;\ncase 38:\n\n            var element = yy.vars[$$[$0]];\n            if (!element) throw new Error(errors.unitializedVar($$[$0], this));\n            this.$ = $$[$0-1].concat(element.reduce(function (acc, el) {\n                return acc.concat(clone(el));\n            }, []));\n        \nbreak;\ncase 41:\n\n            yy.vars[$$[$0-2]] = $$[$0];\n            this.$ = $$[$0];\n        \nbreak;\n}\n},\ntable: [{3:1,4:[1,2],5:3,7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,25:6,27:8,28:$V5,35:7,36:$V6,37:5,38:4},{1:[3]},{1:[2,1]},{4:[1,21],7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,25:6,27:8,28:$V5,35:7,36:$V6,37:5,38:22},o($V7,[2,46]),o($V7,[2,42]),o($V7,[2,43]),o($V7,[2,44]),o($V7,[2,45]),{32:[1,23]},o($V8,[2,19]),o($V8,[2,20]),o($V8,[2,21]),o($V8,[2,22]),{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,22:[1,27],23:$V9,25:29,29:26,31:28,34:25,35:31,36:$Va},{23:[1,32]},o($Vb,[2,8],{9:33,10:$Vc}),o($V8,[2,12],{9:35,10:$Vc}),{7:$V0,11:16,12:$V1,13:37,14:36},o($Vd,[2,6]),o($Vd,[2,7]),{1:[2,2]},o($V7,[2,47]),{21:[1,39],35:38},{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,25:29,29:40,32:$Ve,35:31,36:$Va},{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,23:[1,44],25:29,29:42,31:43,35:31,36:$Va},{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,24:[1,45],25:46,35:48,36:$Vf},{23:[1,49]},o($Vg,[2,30]),o($Vh,[2,35]),o($Vh,[2,37]),o($Vh,[2,39]),{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,25:29,29:50,35:31,36:$Va},o($Vb,[2,9]),{7:[1,51]},o($V8,[2,13]),{7:$V0,11:16,12:$V1,13:53,19:[1,52]},o($Vi,[2,10]),o($V7,[2,41]),{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,23:$V9,25:29,29:26,31:28,34:25,35:31,36:$Va},{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,24:[1,54],25:46,35:48,36:$Vf},{6:59,7:[1,56],23:[1,57],26:58,33:[1,55]},{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,24:[1,60],25:46,35:48,36:$Vf},o($Vg,[2,31]),{32:$Ve},o($V8,[2,34]),o($Vh,[2,36]),o($Vh,[2,38]),o($Vh,[2,40]),{7:[1,61]},{7:$V0,11:16,12:$V1,13:10,15:11,16:$V2,17:12,18:$V3,20:13,21:$V4,25:46,30:[1,62],35:48,36:$Vf},o($Vb,[2,4],{8:[1,63]}),o($V8,[2,14],{9:64,10:$Vc}),o($Vi,[2,11]),o($V8,[2,32]),o($Vg,[2,25]),o($Vg,[2,26],{8:$Vj,10:[1,65]}),o($Vg,[2,27]),o($Vg,[2,28]),o($Vg,[2,29]),o($V8,[2,33]),{6:69,7:[1,68],24:[1,67]},o($V7,[2,24]),o($Vb,[2,5]),o($V8,[2,15]),{7:[1,70]},{7:[1,71]},o($V8,[2,16]),{8:$Vj,24:[1,72]},{24:[1,73]},o($Vg,[2,23]),o([7,12,16,18,21,23,24,36],[2,3]),o($V8,[2,17]),o($V8,[2,18])],\ndefaultActions: {2:[2,1],21:[2,2]},\nparseError: function parseError(str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        function _parseError (msg, hash) {\n            this.message = msg;\n            this.hash = hash;\n        }\n        _parseError.prototype = Error;\n\n        throw new _parseError(str, hash);\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n    _token_stack:\n        var lex = function () {\n            var token;\n            token = lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        };\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n                    if (typeof action === 'undefined' || !action.length || !action[0]) {\n                var errStr = '';\n                expected = [];\n                for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                        expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                }\n                if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                }\n                this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                });\n            }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n    var CHORDSYMBOL = \"chordSymbol\";\n\n    var toBoolean = function (string) {\n        if (string === \"false\") {\n            return false;\n        } else {\n            return Boolean(string);\n        }\n    }\n\n    function ScopeNode (props, list) {\n        this.props = props;\n        this.list = list;\n    }\n\n    ScopeNode.prototype.clone = function () {\n\n    };\n\n    function clone (el, props) {\n        if (el instanceof Array) {\n            return el.map(function (item) {\n                return clone(item, props);\n            });\n        } else {\n            return el.clone(props);\n        }\n    }\n\n    var errors = {\n        unitializedVar: function (variable, self) {\n            return (\n                \"Uninitialized variable: \" + variable +\n                \". Line: \" + self._$.first_line + \"-\" + self._$.last_line +\n                \", Column: \" + self._$.first_column + \"-\" + self._$.last_column + \".\"\n            );\n        }\n    };\n\n    function parsePitch (pitch) {\n        var pitchClass = pitch.match(/[a-gA-G][b|#]{0,2}(?![a-zA-Z])/)[0];\n        var octave = pitch.match(/[0-9]+/);\n        if (octave && octave[0].length) {\n            return {pitchClass: pitchClass, octave: Number(octave)};\n        } else {\n            return {pitchClass: pitchClass};\n        }\n    }\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function (match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex() {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin(condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState(condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:/* skip whitespace */\nbreak;\ncase 1:/* ignore comments */\nbreak;\ncase 2:/* ignore barlines */\nbreak;\ncase 3:return 21\nbreak;\ncase 4:return 24\nbreak;\ncase 5:return 28\nbreak;\ncase 6:return 30\nbreak;\ncase 7:return 18\nbreak;\ncase 8:return 19\nbreak;\ncase 9:return 10\nbreak;\ncase 10:return 32\nbreak;\ncase 11:return 16\nbreak;\ncase 12:return 8\nbreak;\ncase 13:return 33\nbreak;\ncase 14:return 7\nbreak;\ncase 15:return 22\nbreak;\ncase 16:return 12\nbreak;\ncase 17:return 36\nbreak;\ncase 18:return 23\nbreak;\ncase 19:return 4\nbreak;\ncase 20:return 'INVALID'\nbreak;\n}\n},\nrules: [/^(?:\\s+)/,/^(?:;.*)/,/^(?:\\|)/,/^(?:\\()/,/^(?:\\))/,/^(?:\\[)/,/^(?:\\])/,/^(?:<)/,/^(?:>)/,/^(?:\\/)/,/^(?:=)/,/^(?:r\\b)/,/^(?:\\.+)/,/^(?:true|false\\b)/,/^(?:[0-9]+)/,/^(?:csym\\b)/,/^(?:[a-gA-G][b|#]{0,2}(?![a-zA-Z])([0-9]+)?)/,/^(?:~[a-zA-Z][a-zA-Z0-9]*)/,/^(?:[a-zA-Z][a-zA-Z0-9]*)/,/^(?:$)/,/^(?:.)/],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = lang;\nexports.Parser = lang.Parser;\nexports.parse = function () { return lang.parse.apply(lang, arguments); };\nexports.main = function commonjsMain(args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/lang/lang.js\n// module id = 79\n// module chunks = 0","/**\n * @license Fraction.js v3.3.1 09/09/2015\n * http://www.xarg.org/2014/03/precise-calculations-in-javascript/\n *\n * Copyright (c) 2015, Robert Eisele (robert@xarg.org)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n **/\n\n\n/**\n *\n * This class offers the possibility to calculate fractions.\n * You can pass a fraction in different formats. Either as array, as double, as string or as an integer.\n *\n * Array/Object form\n * [ 0 => <nominator>, 1 => <denominator> ]\n * [ n => <nominator>, d => <denominator> ]\n *\n * Integer form\n * - Single integer value\n *\n * Double form\n * - Single double value\n *\n * String form\n * 123.456 - a simple double\n * 123/456 - a string fraction\n * 123.'456' - a double with repeating decimal places\n * 123.(456) - synonym\n * 123.45'6' - a double with repeating last place\n * 123.45(6) - synonym\n *\n * Example:\n *\n * var f = new Fraction(\"9.4'31'\");\n * f.mul([-4, 3]).div(4.9);\n *\n */\n\n(function(root) {\n\n  \"use strict\";\n\n  // Maximum search depth for cyclic rational numbers. 2000 should be more than enough. \n  // Example: 1/7 = 0.(142857) has 6 repeating decimal places.\n  // If MAX_CYCLE_LEN gets reduced, long cycles will not be detected and toString() only gets the first 10 digits\n  var MAX_CYCLE_LEN = 2000;\n\n  // Parsed data to avoid calling \"new\" all the time\n  var P = {\n    \"s\": 1,\n    \"n\": 0,\n    \"d\": 1\n  };\n\n  function assign(n, s) {\n\n    if (isNaN(n = parseInt(n, 10))) {\n      throwInvalidParam();\n    }\n    return n * s;\n  }\n\n  function throwInvalidParam() {\n    throw \"Invalid Param\";\n  }\n\n  var parse = function(p1, p2) {\n\n    var n = 0, d = 1, s = 1;\n    var v = 0, w = 0, x = 0, y = 1, z = 1;\n\n    var A = 0, B = 1;\n    var C = 1, D = 1;\n\n    var N = 10000000;\n    var M;\n\n    if (p1 === undefined || p1 === null) {\n      /* void */\n    } else if (p2 !== undefined) {\n      n = p1;\n      d = p2;\n      s = n * d;\n    } else\n      switch (typeof p1) {\n\n        case \"object\":\n        {\n          if (\"d\" in p1 && \"n\" in p1) {\n            n = p1[\"n\"];\n            d = p1[\"d\"];\n            if (\"s\" in p1)\n              n*= p1[\"s\"];\n          } else if (0 in p1) {\n            n = p1[0];\n            if (1 in p1)\n              d = p1[1];\n          } else {\n            throwInvalidParam();\n          }\n          s = n * d;\n          break;\n        }\n        case \"number\":\n        {\n          if (p1 < 0) {\n            s = p1;\n            p1 = -p1;\n          }\n\n          if (p1 % 1 === 0) {\n            n = p1;\n          } else if (p1 > 0) { // check for != 0, scale would become NaN (log(0)), which converges really slow\n\n            if (p1 >= 1) {\n              z = Math.pow(10, Math.floor(1 + Math.log(p1) / Math.LN10));\n              p1/= z;\n            }\n\n            // Using Farey Sequences\n            // http://www.johndcook.com/blog/2010/10/20/best-rational-approximation/\n\n            while (B <= N && D <= N) {\n              M = (A + C) / (B + D);\n\n              if (p1 === M) {\n                if (B + D <= N) {\n                  n = A + C;\n                  d = B + D;\n                } else if (D > B) {\n                  n = C;\n                  d = D;\n                } else {\n                  n = A;\n                  d = B;\n                }\n                break;\n\n              } else {\n\n                if (p1 > M) {\n                  A+= C;\n                  B+= D;\n                } else {\n                  C+= A;\n                  D+= B;\n                }\n\n                if (B > N) {\n                  n = C;\n                  d = D;\n                } else {\n                  n = A;\n                  d = B;\n                }\n              }\n            }\n            n*= z;\n          } else if (isNaN(p1) || isNaN(p2)) {\n            d = n = NaN;\n          }\n          break;\n        }\n        case \"string\":\n        {\n          B = p1.match(/\\d+|./g);\n\n          if (B[A] === '-') {// Check for minus sign at the beginning\n            s = -1;\n            A++;\n          } else if (B[A] === '+') {// Check for plus sign at the beginning\n            A++;\n          }\n\n          if (B.length === A + 1) { // Check if it's just a simple number \"1234\"\n            w = assign(B[A++], s);\n          } else if (B[A + 1] === '.' || B[A] === '.') { // Check if it's a decimal number\n\n            if (B[A] !== '.') { // Handle 0.5 and .5\n              v = assign(B[A++], s);\n            }\n            A++;\n\n            // Check for decimal places\n            if (A + 1 === B.length || B[A + 1] === '(' && B[A + 3] === ')' || B[A + 1] === \"'\" && B[A + 3] === \"'\") {\n              w = assign(B[A], s);\n              y = Math.pow(10, B[A].length);\n              A++;\n            }\n\n            // Check for repeating places\n            if (B[A] === '(' && B[A + 2] === ')' || B[A] === \"'\" && B[A + 2] === \"'\") {\n              x = assign(B[A + 1], s);\n              z = Math.pow(10, B[A + 1].length) - 1;\n              A+= 3;\n            }\n\n          } else if (B[A + 1] === '/' || B[A + 1] === ':') { // Check for a simple fraction \"123/456\" or \"123:456\"\n            w = assign(B[A], s);\n            y = assign(B[A + 2], 1);\n            A+= 3;\n          } else if (B[A + 3] === '/' && B[A + 1] === ' ') { // Check for a complex fraction \"123 1/2\"\n            v = assign(B[A], s);\n            w = assign(B[A + 2], s);\n            y = assign(B[A + 4], 1);\n            A+= 5;\n          }\n\n          if (B.length <= A) { // Check for more tokens on the stack\n            d = y * z;\n            s = /* void */\n                    n = x + d * v + z * w;\n            break;\n          }\n\n          /* Fall through on error */\n        }\n        default:\n          throwInvalidParam();\n      }\n\n    if (d === 0) {\n      throw \"DIV/0\";\n    }\n\n    P[\"s\"] = s < 0 ? -1 : 1;\n    P[\"n\"] = Math.abs(n);\n    P[\"d\"] = Math.abs(d);\n  };\n\n  var modpow = function(b, e, m) {\n\n    for (var r = 1; e > 0; b = (b * b) % m, e >>= 1) {\n\n      if (e & 1) {\n        r = (r * b) % m;\n      }\n    }\n    return r;\n  };\n\n  var cycleLen = function(n, d) {\n\n    for (; d % 2 === 0;\n            d/= 2) {}\n\n    for (; d % 5 === 0;\n            d/= 5) {}\n\n    if (d === 1) // Catch non-cyclic numbers\n      return 0;\n\n    // If we would like to compute really large numbers quicker, we could make use of Fermat's little theorem:\n    // 10^(d-1) % d == 1\n    // However, we don't need such large numbers and MAX_CYCLE_LEN should be the capstone, \n    // as we want to translate the numbers to strings.\n\n    var rem = 10 % d;\n\n    for (var t = 1; rem !== 1; t++) {\n      rem = rem * 10 % d;\n\n      if (t > MAX_CYCLE_LEN)\n        return 0; // Returning 0 here means that we don't print it as a cyclic number. It's likely that the answer is `d-1`\n    }\n    return t;\n  };\n\n  var cycleStart = function(n, d, len) {\n\n    var rem1 = 1;\n    var rem2 = modpow(10, len, d);\n\n    for (var t = 0; t < 300; t++) { // s < ~log10(Number.MAX_VALUE)\n      // Solve 10^s == 10^(s+t) (mod d)\n\n      if (rem1 === rem2)\n        return t;\n\n      rem1 = rem1 * 10 % d;\n      rem2 = rem2 * 10 % d;\n    }\n    return 0;\n  };\n\n  var gcd = function(a, b) {\n\n    if (!a) return b;\n    if (!b) return a;\n\n    while (1) {\n      a%= b;\n      if (!a) return b;\n      b%= a;\n      if (!b) return a;\n    }\n  };\n\n  /**\n   * Module constructor\n   *\n   * @constructor\n   * @param {number|Fraction} a\n   * @param {number=} b\n   */\n  function Fraction(a, b) {\n\n    if (!(this instanceof Fraction)) {\n      return new Fraction(a, b);\n    }\n\n    parse(a, b);\n\n    if (Fraction['REDUCE']) {\n      a = gcd(P[\"d\"], P[\"n\"]); // Abuse a\n    } else {\n      a = 1;\n    }\n\n    this[\"s\"] = P[\"s\"];\n    this[\"n\"] = P[\"n\"] / a;\n    this[\"d\"] = P[\"d\"] / a;\n  }\n\n  /**\n   * Boolean global variable to be able to disable automatic reduction of the fraction\n   *\n   */\n  Fraction['REDUCE'] = 1;\n\n  Fraction.prototype = {\n\n    \"s\": 1,\n    \"n\": 0,\n    \"d\": 1,\n\n    /**\n     * Calculates the absolute value\n     *\n     * Ex: new Fraction(-4).abs() => 4\n     **/\n    \"abs\": function() {\n\n      return new Fraction(this[\"n\"], this[\"d\"]);\n    },\n\n    /**\n     * Inverts the sign of the current fraction\n     *\n     * Ex: new Fraction(-4).neg() => 4\n     **/\n    \"neg\": function() {\n\n      return new Fraction(-this[\"s\"] * this[\"n\"], this[\"d\"]);\n    },\n\n    /**\n     * Adds two rational numbers\n     *\n     * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => 467 / 30\n     **/\n    \"add\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * this[\"n\"] * P[\"d\"] + P[\"s\"] * this[\"d\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Subtracts two rational numbers\n     *\n     * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => -427 / 30\n     **/\n    \"sub\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * this[\"d\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Multiplies two rational numbers\n     *\n     * Ex: new Fraction(\"-17.(345)\").mul(3) => 5776 / 111\n     **/\n    \"mul\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"n\"],\n              this[\"d\"] * P[\"d\"]\n              );\n    },\n\n    /**\n     * Divides two rational numbers\n     *\n     * Ex: new Fraction(\"-17.(345)\").inverse().div(3)\n     **/\n    \"div\": function(a, b) {\n\n      parse(a, b);\n      return new Fraction(\n              this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"d\"],\n              this[\"d\"] * P[\"n\"]\n              );\n    },\n\n    /**\n     * Clones the actual object\n     *\n     * Ex: new Fraction(\"-17.(345)\").clone()\n     **/\n    \"clone\": function() {\n      return new Fraction(this);\n    },\n\n    /**\n     * Calculates the modulo of two rational numbers - a more precise fmod\n     *\n     * Ex: new Fraction('4.(3)').mod([7, 8]) => (13/3) % (7/8) = (5/6)\n     **/\n    \"mod\": function(a, b) {\n\n      if (isNaN(this['n']) || isNaN(this['d'])) {\n        return new Fraction(NaN);\n      }\n\n      if (a === undefined) {\n        return new Fraction(this[\"s\"] * this[\"n\"] % this[\"d\"], 1);\n      }\n\n      parse(a, b);\n      if (0 === P[\"n\"] && 0 === this[\"d\"]) {\n        Fraction(0, 0); // Throw div/0\n      }\n\n      /*\n       * First silly attempt, kinda slow\n       *\n       return that[\"sub\"]({\n       \"n\": num[\"n\"] * Math.floor((this.n / this.d) / (num.n / num.d)),\n       \"d\": num[\"d\"],\n       \"s\": this[\"s\"]\n       });*/\n\n      /*\n       * New attempt: a1 / b1 = a2 / b2 * q + r\n       * => b2 * a1 = a2 * b1 * q + b1 * b2 * r\n       * => (b2 * a1 % a2 * b1) / (b1 * b2)\n       */\n      return new Fraction(\n              (this[\"s\"] * P[\"d\"] * this[\"n\"]) % (P[\"n\"] * this[\"d\"]),\n              P[\"d\"] * this[\"d\"]\n              );\n    },\n\n    /**\n     * Calculates the fractional gcd of two rational numbers\n     *\n     * Ex: new Fraction(5,8).gcd(3,7) => 1/56\n     */\n    \"gcd\": function(a, b) {\n\n      parse(a, b);\n\n      // gcd(a / b, c / d) = gcd(a, c) / lcm(b, d)\n\n      return new Fraction(gcd(P[\"n\"], this[\"n\"]), P[\"d\"] * this[\"d\"] / gcd(P[\"d\"], this[\"d\"]));\n    },\n\n    /**\n     * Calculates the fractional lcm of two rational numbers\n     *\n     * Ex: new Fraction(5,8).lcm(3,7) => 15\n     */\n    \"lcm\": function(a, b) {\n\n      parse(a, b);\n\n      // lcm(a / b, c / d) = lcm(a, c) / gcd(b, d)\n\n      if (P[\"n\"] === 0 && this[\"n\"] === 0) {\n        return new Fraction;\n      }\n      return new Fraction(P[\"n\"] * this[\"n\"] / gcd(P[\"n\"], this[\"n\"]), gcd(P[\"d\"], this[\"d\"]));\n    },\n\n    /**\n     * Calculates the ceil of a rational number\n     *\n     * Ex: new Fraction('4.(3)').ceil() => (5 / 1)\n     **/\n    \"ceil\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.ceil(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Calculates the floor of a rational number\n     *\n     * Ex: new Fraction('4.(3)').floor() => (4 / 1)\n     **/\n    \"floor\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.floor(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Rounds a rational numbers\n     *\n     * Ex: new Fraction('4.(3)').round() => (4 / 1)\n     **/\n    \"round\": function(places) {\n\n      places = Math.pow(10, places || 0);\n\n      if (isNaN(this[\"n\"]) || isNaN(this[\"d\"])) {\n        return new Fraction(NaN);\n      }\n      return new Fraction(Math.round(places * this[\"s\"] * this[\"n\"] / this[\"d\"]), places);\n    },\n\n    /**\n     * Gets the inverse of the fraction, means numerator and denumerator are exchanged\n     *\n     * Ex: new Fraction([-3, 4]).inverse() => -4 / 3\n     **/\n    \"inverse\": function() {\n\n      return new Fraction(this[\"s\"] * this[\"d\"], this[\"n\"]);\n    },\n\n    /**\n     * Calculates the fraction to some integer exponent\n     *\n     * Ex: new Fraction(-1,2).pow(-3) => -8\n     */\n    \"pow\": function(m) {\n\n      if (m < 0) {\n        return new Fraction(Math.pow(this['s'] * this[\"d\"],-m), Math.pow(this[\"n\"],-m));\n      } else {\n        return new Fraction(Math.pow(this['s'] * this[\"n\"], m), Math.pow(this[\"d\"], m));\n      }\n    },\n\n    /**\n     * Check if two rational numbers are the same\n     *\n     * Ex: new Fraction(19.6).equals([98, 5]);\n     **/\n    \"equals\": function(a, b) {\n\n      parse(a, b);\n      return this[\"s\"] * this[\"n\"] * P[\"d\"] === P[\"s\"] * P[\"n\"] * this[\"d\"]; // Same as compare() === 0\n    },\n\n    /**\n     * Check if two rational numbers are the same\n     *\n     * Ex: new Fraction(19.6).equals([98, 5]);\n     **/\n    \"compare\": function(a, b) {\n\n      parse(a, b);\n      var t = (this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * P[\"n\"] * this[\"d\"]);\n      return (0 < t) - (t < 0);\n    },\n\n    /**\n     * Check if two rational numbers are divisible\n     *\n     * Ex: new Fraction(19.6).divisible(1.5);\n     */\n    \"divisible\": function(a, b) {\n\n      parse(a, b);\n      return !(!(P[\"n\"] * this[\"d\"]) || ((this[\"n\"] * P[\"d\"]) % (P[\"n\"] * this[\"d\"])));\n    },\n\n    /**\n     * Returns a decimal representation of the fraction\n     *\n     * Ex: new Fraction(\"100.'91823'\").valueOf() => 100.91823918239183\n     **/\n    'valueOf': function() {\n\n      return this[\"s\"] * this[\"n\"] / this[\"d\"];\n    },\n\n    /**\n     * Returns a string-fraction representation of a Fraction object\n     *\n     * Ex: new Fraction(\"1.'3'\").toFraction() => \"4 1/3\"\n     **/\n    'toFraction': function(excludeWhole) {\n\n      var whole, str = \"\";\n      var n = this[\"n\"];\n      var d = this[\"d\"];\n      if (this[\"s\"] < 0) {\n        str+= '-';\n      }\n\n      if (d === 1) {\n        str+= n;\n      } else {\n\n        if (excludeWhole && (whole = Math.floor(n / d)) > 0) {\n          str+= whole;\n          str+= \" \";\n          n%= d;\n        }\n\n        str+= n;\n        str+= '/';\n        str+= d;\n      }\n      return str;\n    },\n\n    /**\n     * Returns a latex representation of a Fraction object\n     *\n     * Ex: new Fraction(\"1.'3'\").toLatex() => \"\\frac{4}{3}\"\n     **/\n    'toLatex': function(excludeWhole) {\n\n      var whole, str = \"\";\n      var n = this[\"n\"];\n      var d = this[\"d\"];\n      if (this[\"s\"] < 0) {\n        str+= '-';\n      }\n\n      if (d === 1) {\n        str+= n;\n      } else {\n\n        if (excludeWhole && (whole = Math.floor(n / d)) > 0) {\n          str+= whole;\n          n%= d;\n        }\n\n        str+= \"\\\\frac{\";\n        str+= n;\n        str+= '}{';\n        str+= d;\n        str+= '}';\n      }\n      return str;\n    },\n\n    /**\n     * Returns an array of continued fraction elements\n     * \n     * Ex: new Fraction(\"7/8\").toContinued() => [0,1,7]\n     */\n    'toContinued': function() {\n\n      var t;\n      var a = this['n'];\n      var b = this['d'];\n      var res = [];\n\n      do {\n        res.push(Math.floor(a / b));\n        t = a % b;\n        a = b;\n        b = t;\n      } while (a !== 1);\n\n      return res;\n    },\n\n    /**\n     * Creates a string representation of a fraction with all digits\n     *\n     * Ex: new Fraction(\"100.'91823'\").toString() => \"100.(91823)\"\n     **/\n    'toString': function() {\n\n      var g;\n      var N = this[\"n\"];\n      var D = this[\"d\"];\n\n      if (isNaN(N) || isNaN(D)) {\n        return \"NaN\";\n      }\n\n      if (!Fraction['REDUCE']) {\n        g = gcd(N, D);\n        N/= g;\n        D/= g;\n      }\n\n      var p = String(N).split(\"\"); // Numerator chars\n      var t = 0; // Tmp var\n\n      var ret = [~this[\"s\"] ? \"\" : \"-\", \"\", \"\"]; // Return array, [0] is zero sign, [1] before comma, [2] after\n      var zeros = \"\"; // Collection variable for zeros\n\n      var cycLen = cycleLen(N, D); // Cycle length\n      var cycOff = cycleStart(N, D, cycLen); // Cycle start\n\n      var j = -1;\n      var n = 1; // str index\n\n      // rough estimate to fill zeros\n      var length = 15 + cycLen + cycOff + p.length; // 15 = decimal places when no repitation\n\n      for (var i = 0; i < length; i++, t*= 10) {\n\n        if (i < p.length) {\n          t+= Number(p[i]);\n        } else {\n          n = 2;\n          j++; // Start now => after comma\n        }\n\n        if (cycLen > 0) { // If we have a repeating part\n          if (j === cycOff) {\n            ret[n]+= zeros + \"(\";\n            zeros = \"\";\n          } else if (j === cycLen + cycOff) {\n            ret[n]+= zeros + \")\";\n            break;\n          }\n        }\n\n        if (t >= D) {\n          ret[n]+= zeros + ((t / D) | 0); // Flush zeros, Add current digit\n          zeros = \"\";\n          t = t % D;\n        } else if (n > 1) { // Add zeros to the zero buffer\n          zeros+= \"0\";\n        } else if (ret[n]) { // If before comma, add zero only if already something was added\n          ret[n]+= \"0\";\n        }\n      }\n\n      // If it's empty, it's a leading zero only\n      ret[0]+= ret[1] || \"0\";\n\n      // If there is something after the comma, add the comma sign\n      if (ret[2]) {\n        return ret[0] + \".\" + ret[2];\n      }\n      return ret[0];\n    }\n  };\n\n  if (typeof define === \"function\" && define[\"amd\"]) {\n    define([], function() {\n      return Fraction;\n    });\n  } else if (typeof exports === \"object\") {\n    module[\"exports\"] = Fraction;\n  } else {\n    root['Fraction'] = Fraction;\n  }\n\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/~/fraction.js/fraction.js\n// module id = 80\n// module chunks = 0","const CHORD = \"chord\";\n\nfunction ChordNode (props, children) {\n    this.props = props;\n    this.children = children;\n}\n\nChordNode.prototype.type = CHORD;\n\nChordNode.prototype.clone = function (newprops) {\n    var props = Object.assign({}, this.props, newprops);\n    var children = this.children.map(function (child) {return child.clone(newprops)});\n    return new ChordNode(props, children);\n};\n\nChordNode.prototype.toJSON = function () {\n    return Object.assign({}, this, {type: CHORD});\n};\n\nChordNode.prototype.expand = function () {\n    return this;\n};\n\nexport default ChordNode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/ChordNode.js\n// module id = 81\n// module chunks = 0","const NOTE = \"note\";\n\nfunction NoteNode (props) {\n    this.props = props;\n}\n\nNoteNode.prototype.type = NOTE;\n\nNoteNode.prototype.clone = function (newprops) {\n    var props = Object.assign({}, this.props, newprops);\n    return new NoteNode(props);\n};\n\nNoteNode.prototype.toJSON = function () {\n    return Object.assign({}, this, {type: NOTE});\n};\n\nexport default NoteNode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/NoteNode.js\n// module id = 82\n// module chunks = 0","const REST = \"rest\";\n\nfunction RestNode (props) {\n    this.props = props;\n}\n\nRestNode.prototype.type = REST;\n\nRestNode.prototype.clone = function (newprops) {\n    var props = Object.assign({}, this.props, newprops);\n    return new RestNode(props);\n};\n\nRestNode.prototype.toJSON = function () {\n    return Object.assign({}, this, {type: REST});\n};\n\nRestNode.prototype.expand = function () {\n    return this;\n};\n\nexport default RestNode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/RestNode.js\n// module id = 83\n// module chunks = 0","import {parser} from \"../lang/lang\";\nimport {calculateAndSetTimes} from \"./time.js\";\nimport {scale} from \"./palestrina\";\nimport NoteNode from \"./NoteNode\";\nimport RestNode from \"./RestNode\";\nimport ChordNode from \"./ChordNode\";\n\nfunction compile (program) {\n    parser.yy.voices = {};\n    parser.yy.chordSymbols = [];\n    parser.yy.vars = {};\n    parser.yy.NoteNode = NoteNode;\n    parser.yy.RestNode = RestNode;\n    parser.yy.ChordNode = ChordNode;\n\n    const parsed = parser.parse(program);\n\n    for (let voice in parser.yy.voices) {\n        if (parser.yy.voices.hasOwnProperty(voice)) {\n            calculateAndSetTimes(parser.yy.voices[voice]);\n        }\n    }\n\n    return {voices: parser.yy.voices, chordSymbols: parser.yy.chordSymbols};\n}\n\nexport default compile;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/main.js\n// module id = 84\n// module chunks = 0","/**\n * @license Fraction.js v2.9.0 01/06/2015\n * http://www.xarg.org/2014/03/precise-calculations-in-javascript/\n *\n * Copyright (c) 2015, Robert Eisele (robert@xarg.org)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n **/\n\n\n/**\n *\n * This class offers the possebility to calculate fractions.\n * You can pass a fraction in different formats. Either as array, as double, as string or as an integer.\n *\n * Array/Object form\n * [ 0 => <nominator>, 1 => <denominator> ]\n * [ n => <nominator>, d => <denominator> ]\n *\n * Integer form\n * - Single integer value\n *\n * Double form\n * - Single double value\n *\n * String form\n * 123.456 - a simple double\n * 123/456 - A string fraction\n * 123.'456' - a double with repeating decimal places\n * 123.(456) - synonym\n * 123.45'6' - a double with repeating last place\n * 123.45(6) - synonym\n *\n * Example:\n *\n * var f = new Fraction(\"9.4'31'\");\n * f.mul([-4, 3]).div(4.9);\n *\n */\n\n(function(root) {\n\n    \"use strict\";\n    \n    // Maximum search depth for cyclic rational numbers. 2000 should be more than enough. \n    // Example: 1/7 = 0.(142857) has 6 repeating decimal places.\n    // When number gets reduced, long cycles will not be detected and toString() only gets the first 10 digits\n    var MAX_CYCLE_LEN = 2000;\n\n    // Parsed data to avoid calling \"new\" all the time\n    var P = {\n        \"s\": 1,\n        \"n\": 0,\n        \"d\": 1\n    };\n\n    function assign(n, s) {\n\n        if (isNaN(n = parseInt(n, 10))) {\n            thorwInvalidParam();\n        }\n        return n * s;\n    }\n\n    function thorwInvalidParam() {\n        throw \"Invalid Param\";\n    }\n\n    var parse = function(p1, p2) {\n\n        var n = 0, d = 1, s = 1;\n        var v = 0, w = 0, x = 0, y = 1, z = 1;\n\n        var A = 0, B = 1;\n        var C = 1, D = 1;\n\n        var N = 10000000;\n        var M;\n\n        if (p1 === undefined || p1 === null) {\n            /* void */\n        } else if (p2 !== undefined) {\n            n = p1;\n            d = p2;\n            s = n * d;\n        } else\n            switch (typeof p1) {\n\n                case \"object\":\n                {\n                    if (\"d\" in p1 && \"n\" in p1) {\n                        n = p1[\"n\"];\n                        d = p1[\"d\"];\n                        if (\"s\" in p1)\n                            n*= p1[\"s\"];\n                    } else if (0 in p1) {\n                        n = p1[0];\n                        if (1 in p1)\n                            d = p1[1];\n                    } else {\n                        thorwInvalidParam();\n                    }\n                    s = n * d;\n                    break;\n                }\n                case \"number\":\n                {\n                    if (p1 < 0) {\n                        s = p1;\n                        p1 = -p1;\n                    }\n\n                    if (p1 % 1 === 0) {\n                        n = p1;\n                    } else if (p1 > 0) { // check for != 0, scale would become NaN (log(0)), which converges really slow\n\n                        if (p1 >= 1) {\n                            z = Math.pow(10, Math.floor(1 + Math.log(p1) / Math.LN10));\n                            p1/= z;\n                        }\n\n                        // Using Farey Sequences\n                        // http://www.johndcook.com/blog/2010/10/20/best-rational-approximation/\n\n                        while (B <= N && D <= N) {\n                            M = (A + C) / (B + D);\n\n                            if (p1 === M) {\n                                if (B + D <= N) {\n                                    n = A + C;\n                                    d = B + D;\n                                } else if (D > B) {\n                                    n = C;\n                                    d = D;\n                                } else {\n                                    n = A;\n                                    d = B;\n                                }\n                                break;\n\n                            } else {\n\n                                if (p1 > M) {\n                                    A+= C;\n                                    B+= D;\n                                } else {\n                                    C+= A;\n                                    D+= B;\n                                }\n\n                                if (B > N) {\n                                    n = C;\n                                    d = D;\n                                } else {\n                                    n = A;\n                                    d = B;\n                                }\n                            }\n                        }\n                        n*= z;\n                    }\n                    break;\n                }\n                case \"string\":\n                {\n                    B = p1.match(/\\d+|./g);\n\n                    if (B[A] === '-') {// Check for minus sign at the beginning\n                        s = -1;\n                        A++;\n                    } else if (B[A] === '+') {// Check for plus sign at the beginning\n                        A++;\n                    }\n\n                    if (B.length === A + 1) { // Check if it's just a simple number \"1234\"\n                        w = assign(B[A++], s);\n                    } else if (B[A + 1] === '.' || B[A] === '.') { // Check if it's a decimal number\n\n                        if (B[A] !== '.') { // Handle 0.5 and .5\n                            v = assign(B[A++], s);\n                        }\n                        A++;\n\n                        // Check for decimal places\n                        if (A + 1 === B.length || B[A + 1] === '(' && B[A + 3] === ')' || B[A + 1] === \"'\" && B[A + 3] === \"'\") {\n                            w = assign(B[A], s);\n                            y = Math.pow(10, B[A].length);\n                            A++;\n                        }\n\n                        // Check for repeating places\n                        if (B[A] === '(' && B[A + 2] === ')' || B[A] === \"'\" && B[A + 2] === \"'\") {\n                            x = assign(B[A + 1], s);\n                            z = Math.pow(10, B[A + 1].length) - 1;\n                            A+= 3;\n                        }\n\n                    } else if (B[A + 1] === '/' || B[A + 1] === ':') { // Check for a simple fraction \"123/456\" or \"123:456\"\n                        w = assign(B[A], s);\n                        y = assign(B[A + 2], 1);\n                        A+= 3;\n                    } else if (B[A + 3] === '/' && B[A + 1] === ' ') { // Check for a complex fraction \"123 1/2\"\n                        v = assign(B[A], s);\n                        w = assign(B[A + 2], s);\n                        y = assign(B[A + 4], 1);\n                        A+= 5;\n                    }\n\n                    if (B.length <= A) { // Check for more tokens on the stack\n                        s = /* void */\n                        n = x + z * (v * y + w);\n                        d = y * z;\n                        break;\n                    }\n\n                    /* Fall through on error */\n                }\n                default:\n                    thorwInvalidParam();\n            }\n\n        if (!d) {\n            throw \"DIV/0\";\n        }\n\n        P[\"s\"] = s < 0 ? -1 : 1;\n        P[\"n\"] = Math.abs(n);\n        P[\"d\"] = Math.abs(d);\n    };\n\n    var modpow = function(b, e, m) {\n\n        for (var r = 1; e > 0; b = (b * b) % m, e >>= 1) {\n\n            if (e & 1) {\n                r = (r * b) % m;\n            }\n        }\n        return r;\n    };\n\n    var cycleLen = function(n, d) {\n\n        for (; d % 2 === 0; \n            d/= 2) {}\n\n        for (; d % 5 === 0; \n            d/= 5) {}\n        \n        if (d === 1) // Catch non-cyclic numbers\n            return 0;\n            \n        // If we would like to compute really large numbers quicker, we could make use of Fermat's little theorem:\n        // 10^(d-1) % d == 1\n        // However, we don't need such large numbers and MAX_CYCLE_LEN should be the capstone, \n        // as we want to translate the numbers to strings.\n\n        var rem = 10 % d;\n\n        for (var t = 1; rem !== 1; t++) {\n            rem = rem * 10 % d;\n\n            if (t > MAX_CYCLE_LEN)\n                return 0; // Returning 0 here means that we don't print it as a cyclic number. It's likely that the answer is `d-1`\n        }\n        return t;\n    };\n\n    var cycleStart = function(n, d, len) {\n\n        var rem1 = 1;\n        var rem2 = modpow(10, len, d);\n        \n        for (var t = 0; t < 300; t++) { // s < ~log10(Number.MAX_VALUE)\n            // Solve 10^s == 10^(s+t) (mod d)\n\n            if (rem1 === rem2)\n                return t;\n\n            rem1 = rem1 * 10 % d;\n            rem2 = rem2 * 10 % d;\n        }\n        return 0;\n    };\n\n    var gcd = function(a, b) {\n\n        if (!a) return b;\n        if (!b) return a;\n\n        while (1) {\n            a%= b;\n            if (!a) return b;\n            b%= a;\n            if (!b) return a;\n        }\n    };\n\n    /**\n     * Module constructor\n     *\n     * @constructor\n     * @param {number|Fraction} a\n     * @param {number=} b\n     */\n    function Fraction(a, b) {\n\n        if (!(this instanceof Fraction)) {\n            return new Fraction(a, b);\n        }\n\n        parse(a, b);\n\n        if (Fraction['REDUCE']) {\n            a = gcd(P[\"d\"], P[\"n\"]); // Abuse a\n        } else {\n            a = 1;\n        }\n\n        this[\"s\"] = P[\"s\"];\n        this[\"n\"] = P[\"n\"] / a;\n        this[\"d\"] = P[\"d\"] / a;\n    }\n\n    /**\n     * Boolean global variable to be able to disable automatic reduction of the fraction\n     *\n     */\n    Fraction['REDUCE'] = 1;\n\n    Fraction.prototype = {\n\n        \"s\": 1,\n        \"n\": 0,\n        \"d\": 1,\n\n        /**\n         * Calculates the absolute value\n         *\n         * Ex: new Fraction(-4).abs() => 4\n         **/\n        \"abs\": function() {\n\n            return new Fraction(this[\"n\"], this[\"d\"]);\n        },\n\n        /**\n         * Inverts the sign of the current fraction\n         *\n         * Ex: new Fraction(-4).neg() => 4\n         **/\n        \"neg\": function() {\n\n            return new Fraction(-this[\"s\"] * this[\"n\"], this[\"d\"]);\n        },\n\n        /**\n         * Adds two rational numbers\n         *\n         * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => 467 / 30\n         **/\n        \"add\": function(a, b) {\n\n            parse(a, b);\n            return new Fraction(\n                    this[\"s\"] * this[\"n\"] * P[\"d\"] + P[\"s\"] * this[\"d\"] * P[\"n\"],\n                    this[\"d\"] * P[\"d\"]\n                    );\n        },\n\n        /**\n         * Subtracts two rational numbers\n         *\n         * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => -427 / 30\n         **/\n        \"sub\": function(a, b) {\n\n            parse(a, b);\n            return new Fraction(\n                    this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * this[\"d\"] * P[\"n\"],\n                    this[\"d\"] * P[\"d\"]\n                    );\n        },\n\n        /**\n         * Multiplies two rational numbers\n         *\n         * Ex: new Fraction(\"-17.(345)\").mul(3) => 5776 / 111\n         **/\n        \"mul\": function(a, b) {\n\n            parse(a, b);\n            return new Fraction(\n                    this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"n\"],\n                    this[\"d\"] * P[\"d\"]\n                    );\n        },\n\n        /**\n         * Divides two rational numbers\n         *\n         * Ex: new Fraction(\"-17.(345)\").inverse().div(3)\n         **/\n        \"div\": function(a, b) {\n\n            parse(a, b);\n            return new Fraction(\n                    this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"d\"],\n                    this[\"d\"] * P[\"n\"]\n                    );\n        },\n\n        /**\n         * Clones the actual object\n         *\n         * Ex: new Fraction(\"-17.(345)\").clone()\n         **/\n        \"clone\": function() {\n            return new Fraction(this);\n        },\n\n        /**\n         * Calculates the modulo of two rational numbers - a more precise fmod\n         *\n         * Ex: new Fraction('4.(3)').mod([7, 8]) => (13/3) % (7/8) = (5/6)\n         **/\n        \"mod\": function(a, b) {\n\n            if (a === undefined) {\n                return new Fraction(this[\"s\"] * this[\"n\"] % this[\"d\"], 1);\n            }\n\n            parse(a, b);\n            if (0 === (P[\"n\"] * this[\"d\"])) {\n                Fraction(0, 0); // Throw div/0\n            }\n\n            /*\n             * First silly attempt, kinda slow\n             *\n             return that[\"sub\"]({\n             \"n\": num[\"n\"] * Math.floor((this.n / this.d) / (num.n / num.d)),\n             \"d\": num[\"d\"],\n             \"s\": this[\"s\"]\n             });*/\n\n            /*\n             * New attempt: a1 / b1 = a2 / b2 * q + r\n             * => b2 * a1 = a2 * b1 * q + b1 * b2 * r\n             * => (b2 * a1 % a2 * b1) / (b1 * b2)\n             */\n            return new Fraction(\n                    (this[\"s\"] * P[\"d\"] * this[\"n\"]) % (P[\"n\"] * this[\"d\"]),\n                    P[\"d\"] * this[\"d\"]\n                    );\n        },\n\n        /**\n         * Calculates the fractional gcd of two rational numbers\n         *\n         * Ex: new Fraction(5,8).gcd(3,7) => 1/56\n         */\n        \"gcd\": function(a, b) {\n\n            parse(a, b);\n\n            // gcd(a / b, c / d) = gcd(a, c) / lcm(b, d)\n\n            return new Fraction(gcd(P[\"n\"], this[\"n\"]), P[\"d\"] * this[\"d\"] / gcd(P[\"d\"], this[\"d\"]));\n        },\n\n        /**\n         * Calculates the ceil of a rational number\n         *\n         * Ex: new Fraction('4.(3)').ceil() => (5 / 1)\n         **/\n        \"ceil\": function() {\n\n            return new Fraction(Math.ceil(this[\"s\"] * this[\"n\"] / this[\"d\"]), 1);\n        },\n\n        /**\n         * Calculates the floor of a rational number\n         *\n         * Ex: new Fraction('4.(3)').floor() => (4 / 1)\n         **/\n        \"floor\": function() {\n\n            return new Fraction(Math.floor(this[\"s\"] * this[\"n\"] / this[\"d\"]), 1);\n        },\n\n        /**\n         * Rounds a rational numbers\n         *\n         * Ex: new Fraction('4.(3)').round() => (4 / 1)\n         **/\n        \"round\": function() {\n\n            return new Fraction(Math.round(this[\"s\"] * this[\"n\"] / this[\"d\"]), 1);\n        },\n\n        /**\n         * Gets the inverse of the fraction, means numerator and denumerator are exchanged\n         *\n         * Ex: new Fraction([-3, 4]).inverse() => -4 / 3\n         **/\n        \"inverse\": function() {\n\n            return new Fraction(this[\"s\"] * this[\"d\"], this[\"n\"]);\n        },\n\n        /**\n         * Calculates the fraction to some integer exponent\n         *\n         * Ex: new Fraction(-1,2).pow(-3) => -8\n         */\n        \"pow\": function(m) {\n\n            var d = this[\"d\"];\n            var n = this[\"n\"];\n            if (m < 0) {\n                this[\"d\"] = Math.pow(n, -m);\n                this[\"n\"] = Math.pow(d, -m);\n            } else {\n                this[\"d\"] = Math.pow(d, m);\n                this[\"n\"] = Math.pow(n, m);\n            }\n\n            if (0 === (m % 2)) {\n                this[\"s\"] = 1;\n            }\n            return this;\n        },\n\n        /**\n         * Check if two rational numbers are the same\n         *\n         * Ex: new Fraction(19.6).equals([98, 5]);\n         **/\n        \"equals\": function(a, b) {\n\n            parse(a, b);\n            return this[\"s\"] * this[\"n\"] * P[\"d\"] === P[\"s\"] * P[\"n\"] * this[\"d\"]; // Same as compare() === 0\n        },\n\n        /**\n         * Check if two rational numbers are the same\n         *\n         * Ex: new Fraction(19.6).equals([98, 5]);\n         **/\n        \"compare\": function(a, b) {\n\n            parse(a, b);\n            var t = (this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * P[\"n\"] * this[\"d\"]);\n            return (0 < t) - (t < 0);\n        },\n\n        /**\n         * Check if two rational numbers are divisible\n         *\n         * Ex: new Fraction(19.6).divisible(1.5);\n         */\n        \"divisible\": function(a, b) {\n\n            parse(a, b);\n            return !!(P[\"n\"] * this[\"d\"]) && !((this[\"n\"] * P[\"d\"]) % (P[\"n\"] * this[\"d\"]));\n        },\n\n        /**\n         * Returns a decimal representation of the fraction\n         *\n         * Ex: new Fraction(\"100.'91823'\").valueOf() => 100.91823918239183\n         **/\n        'valueOf': function() {\n\n            return this[\"s\"] * this[\"n\"] / this[\"d\"];\n        },\n\n        /**\n         * Returns a string-fraction representation of a Fraction object\n         *\n         * Ex: new Fraction(\"1.'3'\").toFraction() => \"4 1/3\"\n         **/\n        'toFraction': function(excludeWhole) {\n\n            var whole, str = \"\";\n            var n = this[\"n\"];\n            var d = this[\"d\"];\n            if (this[\"s\"] < 0) {\n                str+= '-';\n            }\n\n            if (d === 1) {\n                str+= n;\n            } else {\n\n                if (excludeWhole && (whole = Math.floor(n / d)) > 0) {\n                    str+= whole;\n                    str+= \" \";\n                    n %= d;\n                }\n\n                str+= n;\n                str+= '/';\n                str+= d;\n            }\n            return str;\n        },\n\n        /**\n         * Returns a latex representation of a Fraction object\n         *\n         * Ex: new Fraction(\"1.'3'\").toLatex() => \"\\frac{4}{3}\"\n         **/\n        'toLatex': function(excludeWhole) {\n\n            var whole, str = \"\";\n            var n = this[\"n\"];\n            var d = this[\"d\"];\n            if (this[\"s\"] < 0) {\n                str+= '-';\n            }\n\n            if (d === 1) {\n                str+= n;\n            } else {\n                \n                if (excludeWhole && (whole = Math.floor(n / d)) > 0) {\t\t\n                    str+= whole;\t\t\n                    n %= d;\t\t\n                }\n\n                str+= \"\\\\frac{\";\n                str+= n;\n                str+= '}{';\n                str+= d;\n                str+= '}';\n            }\n            return str;\n        },\n\n        /**\n         * Creates a string representation of a fraction with all digits\n         *\n         * Ex: new Fraction(\"100.'91823'\").toString() => \"100.(91823)\"\n         **/\n        'toString': function() {\n\n            var g;\n            var N = this[\"n\"];\n            var D = this[\"d\"];\n\n            if (!Fraction['REDUCE']) {\n                g = gcd(N, D);\n                N/= g;\n                D/= g;\n            }\n\n            var p = String(N).split(\"\"); // Numerator chars\n            var t = 0; // Tmp var\n\n            var ret = [~this[\"s\"] ? \"\" : \"-\", \"\", \"\"]; // Return array, [0] is zero sign, [1] before comma, [2] after\n            var zeros = \"\"; // Collection variable for zeros\n\n            var cycLen = cycleLen(N, D); // Cycle length\n            var cycOff = cycleStart(N, D, cycLen); // Cycle start\n\n            var j = -1;\n            var n = 1; // str index\n\n            // rough estimate to fill zeros\n            var length = 10 + cycLen + cycOff + p.length; // 10 = decimal places when no repitation\n\n            for (var i = 0; i < length; i++, t*= 10) {\n\n                if (i < p.length) {\n                    t+= Number(p[i]);\n                } else {\n                    n = 2;\n                    j++; // Start now => after comma\n                }\n\n                if (cycLen > 0) { // If we have a repeating part\n                    if (j === cycOff) {\n                        ret[n]+= zeros + \"(\";\n                        zeros = \"\";\n                    } else if (j === cycLen + cycOff) {\n                        ret[n]+= zeros + \")\";\n                        break;\n                    }\n                }\n\n                if (t >= D) {\n                    ret[n]+= zeros + ((t / D) | 0); // Flush zeros, Add current digit\n                    zeros = \"\";\n                    t = t % D;\n                } else if (n > 1) { // Add zeros to the zero buffer\n                    zeros+= \"0\";\n                } else if (ret[n]) { // If before comma, add zero only if already something was added\n                    ret[n]+= \"0\";\n                }\n            }\n\n            // If it's empty, it's a leading zero only\n            ret[0]+= ret[1] || \"0\";\n\n            // If there is something after the comma, add the comma sign\n            if (ret[2]) {\n                return ret[0] + \".\" + ret[2];\n            }\n            return ret[0];\n        }\n    };\n\n    if (typeof define === \"function\" && define[\"amd\"]) {\n        define([], function() {\n            return Fraction;\n        });\n    } else if (typeof exports === \"object\") {\n        module[\"exports\"] = Fraction;\n    } else {\n        root['Fraction'] = Fraction;\n    }\n\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/palestrina/~/fraction.js/fraction.js\n// module id = 85\n// module chunks = 0","\"format es6\";\nimport _ from \"lodash\";\nimport {from, lower} from \"./scale\";\n\nconst triad = {i: 0, iii: 2, v: 4};\nconst seventh = {i: 0, iii: 2, v: 4, vii: 6};\nconst ninth = {i: 0, iii: 2, v: 4, vii: 6, ix: 8};\nconst eleventh = {i: 0, iii: 2, v: 4, vii: 6, ix: 8, xi: 10};\nconst thirteenth = {i: 0, iii: 2, v: 4, vii: 6, ix: 8, xi: 10, xiii: 12};\n\nfunction root (chord, tonic) {\n    let rootChord = {},\n        fromTonic = from(tonic);\n    _.each(chord, (v, k) => {\n        rootChord[k] = fromTonic(v);\n    });\n    return rootChord;\n}\n\nfunction inversion (chord, n) {\n    let stable = _.take(_.keys(triad), n),\n        lowered = _.difference(_.keys(chord), stable);\n\n    let invertedChord = {};\n    _.each(stable, (k) => {\n        invertedChord[k] = chord[k];\n    });\n\n    _.each(lowered, (k) => {\n        invertedChord[k] = lower(chord[k]);\n    });\n\n    return invertedChord;\n}\n\nexport {\n    triad,\n    seventh,\n    ninth,\n    eleventh,\n    thirteenth,\n\n    root,\n    inversion\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/palestrina/src/chord.js\n// module id = 86\n// module chunks = 0","\"format es6\";\nconst instruments = {};\n\n/*\n * @param part {String} - the name of the part/instrument.\n * @param instrument {(note) => whatever} - A function that plays a given note.\n */\nfunction createPart (part, instrument) {\n    instruments[part] = instrument;\n}\n\n/*\n * Plays a note according to its part\n */\nfunction playNote (note) {\n    let part = note.part || \"default\";\n    return instruments[part](note);\n}\n\nfunction play (notes) {\n    return notes.map(playNote);\n}\n\nexport {\n    createPart,\n    playNote,\n    play\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/palestrina/src/live.js\n// module id = 87\n// module chunks = 0","\"format es6\";\nimport _ from \"lodash\";\nimport F from \"fraction.js\";\n\n// common\nfunction maybe (fn) {\n\treturn function (arg) {\n\t\tif (arg !== undefined && arg !== null) {\n\t\t\treturn fn(arg);\n\t\t} else {\n\t\t\treturn arg;\n\t\t}\n\t}\n}\n\nfunction concat (a, b) {\n    return a.concat([b]);\n}\n\nfunction calculateTimes (phrase) {\n    return _.map(_.reduce(phrase, (acc, note) => {\n        let previous = _.last(acc);\n        if (previous) {\n            note.time = new F(previous.duration).add(previous.time);\n        } else {\n            note.time = 0;\n        }\n        return concat(acc, note);\n    }, []), (note) => {\n        note.time = note.time.valueOf();\n        return note;\n    });\n}\n\n/*\n * [a] -> [b] -> [c] ->[{duration: a, pitch: b, velocity: c}]\n */\nfunction phrase (durations=[], pitches=[], velocity=[]) {\n\t// const ph = new Array(durations.length);\n    const ph = new Array(Math.min(durations.length, pitches.length));\n    // console.log(ph.length);\n\tfor (let i = 0; i < ph.length; i++) {\n\t\tph[i] = {duration: durations[i], pitch: pitches[i], velocity: velocity[i]};\n\t}\n\n\treturn calculateTimes(ph);\n}\n\n/*\n * ...[{time}] -> [...{time}]\n * Same as Leipzig.with\n */\nfunction accompany (...phrases) {\n\treturn _.sortBy(_.flatten(phrases), n => n.time);\n}\n\n/* Delay notes by wait */\n// neccessary?\nfunction after (wait, notes) {\n    const time = new F(wait);\n    return _.map(notes, (note) => {\n        note.time = time.add(note.time).valueOf();\n        return note;\n    });\n}\n\n/* Zips and arbitrary property onto a melody */\nfunction having (prop, values, phrase) {\n\treturn _.map(phrase, (event, i) => {\n\t\tvar property = {};\n\t\tproperty[prop] = values[i];\n\t\treturn _.assign({}, event, property);\n\t});\n}\n\nfunction is (x) {\n\treturn () => x;\n}\n\n/* Sets a constant value for each note of a melody */\nfunction all (prop, value, phrase) {\n\tlet property = {};\n\tproperty[prop] = value;\n\treturn _.map(phrase, (event, i) => {\n\t\treturn _.assign({}, event, property);\n\t});\n}\n\n/* Applies f to the k key of each note in notes, ignoring missing keys */\nfunction where (prop, fn, phrase) {\n\tlet maybeDo = maybe(fn);\n\n\treturn _.map(phrase, (event) => {\n\t\tlet property = {};\n\t\tproperty[prop] = maybeDo(event[prop]);\n\t\treturn _.assign({}, event, property);\n\t});\n}\n\nfunction wherever (applicable, k, f, notes) {\n    return _.map(notes, (note) => {\n        let n = _.clone(note);\n        if (applicable(n)) {\n            n[k] = f(n[k]);\n        }\n        return n;\n    });\n}\n\n/* Replaces part of the melody with another */\nfunction but (start, end, variation, phrase) {\n\tlet variationObject = _.mapKeys(_.take(variation, end - start), (val, k) => +k + start);\n\treturn calculateTimes(_.assign([], phrase, variationObject));\n}\n\n/* Reapeats notes n times */\nfunction times (n, phrase) {\n\treturn calculateTimes(_.flatten(_.times(n, () => _.map(phrase, _.clone))));\n}\n\nlet mapClone = _.partialRight(_.map, _.clone);\n\n/* Sequences later after earlier */\nfunction then (later, earlier) {\n\treturn calculateTimes(mapClone(earlier).concat(mapClone(later)));\n}\n\nfunction mapthen (f, ...melodies) {\n\n}\n\n/*\n * tempo: Number\n * Returns a function that translates a beat number into seconds.\n */\nfunction bpm (tempo) {\n    return (beat) => {\n\t\tlet time = new F(beat, tempo);\n\t\treturn time.mul(60).valueOf();\n\t}\n}\n\n/*\n * Returns the total duration of all the notes.\n */\nfunction duration (notes) {\n    return _.sum(notes, n => n.duration);\n}\n\n/*\n * Translates a sequnce of durations into a rhythm.\n */\nfunction rhythm (durations=[]) {\n    return phrase(durations, _.times(durations.length, () => null));\n}\n\n/*\n * Transforms both time and duration according to timing.\n */\nfunction tempo (timing, notes) {\n\treturn where(\"time\", timing, notes.map((note) => {\n\t\tlet clone = _.clone(note);\n\t\tclone.duration = timing(note.time + note.duration) - timing(note.time);\n\t\treturn clone;\n\t}));\n}\n\n/*\n *\n */\nfunction accelerando (from, to, by) {\n\tfunction rate (t) {\n\t\tif (from >= t) {\n\t\t\treturn t;\n\t\t} else if (to >= t) {\n\t\t\tlet duration = to - from,\n\t\t\t\tposition = t - from,\n\t\t\t\tcompletion = position / duration,\n\t\t\t\textent = by - 1,\n\t\t\t\textra = position * (1/2) * completion * extent;\n\t\t\treturn t + extra;\n\t\t} else {\n\t\t\treturn rate(to) + (by * (t - 2));\n\t\t}\n\t}\n\treturn rate;\n}\n\nexport {\n\tphrase,\n\taccompany,\n\thaving,\n\tis,\n\tall,\n\twhere,\n    wherever,\n\tbut,\n\ttimes,\n\tthen,\n\tmapthen,\n    after,\n    bpm,\n    duration,\n    rhythm,\n    tempo,\n    accelerando\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/palestrina/src/melody.js\n// module id = 88\n// module chunks = 0","\"format es6\";\n\nimport * as scale from \"./scale\";\nimport * as melody from \"./melody\";\nimport * as chord from \"./chord\";\nimport * as live from \"./live\";\n\nexport {scale, melody, chord, live};\n\nif (typeof window === \"object\") {\n\twindow.palestrina = {scale, melody, chord, live};\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/palestrina/src/palestrina.js\n// module id = 89\n// module chunks = 0","import F from \"fraction.js\";\n\nfunction isNote (item) {\n\treturn item.type === \"note\";\n}\n\nfunction isChord (item) {\n\treturn item.type === \"chord\";\n}\n\nfunction isRest (item) {\n\treturn item.type === \"rest\";\n}\n\nfunction isTimeSignature (item) {\n    return item.type === \"timeSig\";\n}\n\nfunction isRepeat (item) {\n    return item.type === \"repeat\";\n}\n\n/*\n * @param item - Scored item. Given an item, return the rational duration of the item;\n * @return Number\n */\nfunction calculateDuration (item) {\n\n\t// The item doesn't have a duration unless it's one of the following types.\n\tif (!(isNote(item) || isChord(item) || isRest(item) ||isRepeat(item))) return 0;\n\n\tconst s = item.props.tuplet ? item.props.tuplet.split(\"/\") : null;\n\tconst tuplet = s ? new F(s[0], s[1]) : null;\n\tconst dots = item.props.dots || 0;\n\n\tlet dur = new F(1, item.props.value || 4);\n\n\tfor (let i = 0; i < dots; i++) {\n\t\tdur = dur.mul(1.5);\n\t}\n\n\tif (tuplet && dur) {\n\t\tdur = dur.mul(s[1]).div(s[0]);\n\t}\n\n\treturn dur;\n}\n\n/*\n * @param items - Item[]\n * @param offset - Optional amount of time that will be added to the items times.\n */\nexport function calculateAndSetTimes (items, offset=0) {\n    return items.reduce((acc, item) => {\n        const previousItem = acc[acc.length-1];\n\n        if (previousItem) {\n            item.props.time = F(previousItem.props.time).add(calculateDuration(previousItem)).add(offset).valueOf();\n        } else {\n            item.props.time = 0;\n        }\n\n        return acc.concat([item]);\n    }, []);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/boethius-lang/src/time.js\n// module id = 90\n// module chunks = 0","module.exports = {\n\t\"_id\": \"p/Star_Spangled_Banner/layout/1482699809626\",\n\t\"_rev\": \"14-533492aca39b02f7f95ea2dbb87d3d4b\",\n\t\"name\": \"\",\n\t\"title\": \"Lead\",\n\t\"composer\": \"\",\n\t\"type\": \"score\",\n\t\"timeSignatures\": [\n\t\t{\n\t\t\t\"value\": [\n\t\t\t\t4,\n\t\t\t\t4\n\t\t\t],\n\t\t\t\"measure\": 0,\n\t\t\t\"beat\": 0\n\t\t}\n\t],\n\t\"currentPage\": 0,\n\t\"pages\": [\n\t\t{\n\t\t\t\"systems\": 4,\n\t\t\t\"staffSpacing\": []\n\t\t},\n\t\t{\n\t\t\t\"systems\": 4,\n\t\t\t\"staffSpacing\": []\n\t\t}\n\t],\n\t\"lines\": [\n\t\t{\n\t\t\t\"name\": \"\",\n\t\t\t\"clefs\": [\n\t\t\t\t{\n\t\t\t\t\t\"value\": \"treble\",\n\t\t\t\t\t\"measure\": 0,\n\t\t\t\t\t\"beat\": 0\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"keys\": [\n\t\t\t\t{\n\t\t\t\t\t\"root\": \"C\",\n\t\t\t\t\t\"mode\": \"major\",\n\t\t\t\t\t\"measure\": 0,\n\t\t\t\t\t\"beat\": 0\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"voices\": [\n\t\t\t\t\"mel\"\n\t\t\t]\n\t\t}\n\t],\n\t\"systems\": [\n\t\t{\n\t\t\t\"measures\": 3,\n\t\t\t\"lineSpacing\": [\n\t\t\t\t0\n\t\t\t],\n\t\t\t\"length\": 800\n\t\t},\n\t\t{\n\t\t\t\"measures\": 4,\n\t\t\t\"lineSpacing\": [],\n\t\t\t\"length\": 800\n\t\t},\n\t\t{\n\t\t\t\"measures\": 4,\n\t\t\t\"lineSpacing\": [],\n\t\t\t\"length\": 800\n\t\t},\n\t\t{\n\t\t\t\"measures\": 4,\n\t\t\t\"lineSpacing\": [],\n\t\t\t\"length\": 800\n\t\t},\n\t\t{\n\t\t\t\"measures\": 4,\n\t\t\t\"lineSpacing\": [],\n\t\t\t\"length\": 800\n\t\t},\n\t\t{\n\t\t\t\"measures\": 4,\n\t\t\t\"lineSpacing\": [],\n\t\t\t\"length\": 800\n\t\t},\n\t\t{\n\t\t\t\"measures\": 3,\n\t\t\t\"lineSpacing\": [],\n\t\t\t\"length\": 800\n\t\t}\n\t]\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/glorias-step-layout.json\n// module id = 91\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node/extend.js (ignored)\n// module id = 92\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node/window.js (ignored)\n// module id = 93\n// module chunks = 0"],"sourceRoot":""}