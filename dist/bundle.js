!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=94)}([function(t,e,n){"use strict";(function(t,r){var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function a(t,e){if(t!==e){var n=null===t,r=t===k,i=t===t,o=null===e,a=e===k,u=e===e;if(t>e&&!o||!i||n&&!a&&u||r&&u)return 1;if(t<e&&!n||!u||o&&!r&&i||a&&i)return-1}return 0}function u(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function s(t,e,n){if(e!==e)return y(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function c(t){return"function"==typeof t||!1}function l(t){return null==t?"":t+""}function f(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function d(t,e){return a(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,u=i.length,s=n.length;++r<u;){var c=a(i[r],o[r]);if(c){if(r>=s)return c;var l=n[r];return c*("asc"===l||l===!0?1:-1)}}return t.index-e.index}function g(t){return Gt[t]}function v(t){return Yt[t]}function _(t,e,n){return e?t=Jt[t]:n&&(t=Xt[t]),"\\"+t}function m(t){return"\\"+Xt[t]}function y(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function w(t){return!!t&&"object"==(void 0===t?"undefined":o(t))}function b(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function x(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=G,o[++i]=n);return o}function S(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var u=t[r],s=e?e(u,r,t):u;r&&n===s||(n=s,a[++o]=u)}return a}function C(t){for(var e=-1,n=t.length;++e<n&&b(t.charCodeAt(e)););return e}function A(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function M(t){return Zt[t]}function P(t){function e(t){if(w(t)&&!Tu(t)&&!(t instanceof i)){if(t instanceof r)return t;if(na.call(t,"__chain__")&&na.call(t,"__wrapped__"))return pr(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oa,this.__views__=[]}function b(){var t=new i(this.__wrapped__);return t.__actions__=ee(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ee(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ee(this.__views__),t}function tt(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function it(){var t=this.__wrapped__.value(),e=this.__dir__,n=Tu(t),r=e<0,i=n?t.length:0,o=Gn(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=Ca(s,this.__takeCount__);if(!n||i<V||i==s&&d==s)return rn(r&&n?t.reverse():t,this.__actions__);var p=[];t:for(;s--&&h<d;){c+=e;for(var g=-1,v=t[c];++g<f;){var _=l[g],m=_.iteratee,y=_.type,w=m(v);if(y==$)v=w;else if(!w){if(y==W)continue t;break t}}p[h++]=v}return p}function at(){this.__data__={}}function Gt(t){return this.has(t)&&delete this.__data__[t]}function Yt(t){return"__proto__"==t?k:this.__data__[t]}function Zt(t){return"__proto__"!=t&&na.call(this.__data__,t)}function Kt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Jt(t){var e=t?t.length:0;for(this.data={hash:ma(null),set:new ha};e--;)this.push(t[e])}function Xt(t,e){var n=t.data;return("string"==typeof e||Li(e)?n.set.has(e):n.hash[e])?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Li(t)?e.set.add(t):e.hash[t]=!0}function te(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,a=qo(r+o);++n<r;)a[n]=t[n];for(;++i<o;)a[n++]=e[i];return a}function ee(t,e){var n=-1,r=t.length;for(e||(e=qo(r));++n<r;)e[n]=t[n];return e}function ne(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function re(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function ie(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ue(t,e,n,r){for(var i=-1,o=t.length,a=r,u=a;++i<o;){var s=t[i],c=+e(s);n(c,a)&&(a=c,u=s)}return u}function se(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function ce(t,e){for(var n=-1,r=t.length,i=qo(r);++n<r;)i[n]=e(t[n],n,t);return i}function le(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fe(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function he(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function de(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function ge(t,e){return t===k?e:t}function ve(t,e,n,r){return t!==k&&na.call(r,n)?t:e}function _e(t,e,n){for(var r=-1,i=Uu(e),o=i.length;++r<o;){var a=i[r],u=t[a],s=n(u,e[a],a,t,e);(s===s?s===u:u!==u)&&(u!==k||a in t)||(t[a]=s)}return t}function me(t,e){return null==e?t:we(e,Uu(e),t)}function ye(t,e){for(var n=-1,r=null==t,i=!r&&Xn(t),o=i?t.length:0,a=e.length,u=qo(a);++n<a;){var s=e[n];u[n]=i?Qn(s,o)?t[s]:k:r?k:t[s]}return u}function we(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function be(t,e,n){var r=void 0===t?"undefined":o(t);return"function"==r?e===k?t:un(t,e,n):null==t?Oo:"object"==r?Fe(t):e===k?Lo(t):Ue(t,e)}function xe(t,e,n,r,i,o,a){var u;if(n&&(u=i?n(t,r,i):n(t)),u!==k)return u;if(!Li(t))return t;var s=Tu(t);if(s){if(u=Yn(t),!e)return ee(t,u)}else{var c=ia.call(t),l=c==Q;if(c!=nt&&c!=Y&&(!l||i))return Ht[c]?Kn(t,c,e):i?t:{};if(u=Zn(l?{}:t),!e)return me(u,t)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==t)return a[f];return o.push(t),a.push(u),(s?ne:je)(t,function(r,i){u[i]=xe(r,e,n,i,t,o,a)}),u}function Se(t,e,n){if("function"!=typeof t)throw new Jo(H);return da(function(){t.apply(k,n)},e)}function Ce(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=Wn(),a=o==s,u=a&&e.length>=V?vn(e):null,c=e.length;u&&(o=Xt,a=!1,e=u);t:for(;++i<n;){var l=t[i];if(a&&l===l){for(var f=c;f--;)if(e[f]===l)continue t;r.push(l)}else o(e,l,0)<0&&r.push(l)}return r}function Ae(t,e){var n=!0;return Ra(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Me(t,e,n,r){var i=r,o=i;return Ra(t,function(t,a,u){var s=+e(t,a,u);(n(s,i)||s===r&&s===o)&&(i=s,o=t)}),o}function Pe(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===k||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)t[n++]=e;return t}function ke(t,e){var n=[];return Ra(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Oe(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}function Te(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];w(a)&&Xn(a)&&(n||Tu(a)||Mi(a))?e?Te(a,e,n,r):le(r,a):n||(r[r.length]=a)}return r}function Ie(t,e){return Da(t,e,eo)}function je(t,e){return Da(t,e,Uu)}function Ee(t,e){return Fa(t,e,Uu)}function Ne(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];Ni(t[a])&&(o[++i]=a)}return o}function Le(t,e,n){if(null!=t){n!==k&&n in hr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:k}}function ze(t,e,n,r,i,o){return t===e||(null==t||null==e||!Li(t)&&!w(e)?t!==t&&e!==e:Re(t,e,ze,n,r,i,o))}function Re(t,e,n,r,i,o,a){var u=Tu(t),s=Tu(e),c=Z,l=Z;u||(c=ia.call(t),c==Y?c=nt:c!=nt&&(u=Wi(t))),s||(l=ia.call(e),l==Y?l=nt:l!=nt&&(s=Wi(e)));var f=c==nt,h=l==nt,d=c==l;if(d&&!u&&!f)return Fn(t,e,c);if(!i){var p=f&&na.call(t,"__wrapped__"),g=h&&na.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,r,i,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var v=o.length;v--;)if(o[v]==t)return a[v]==e;o.push(t),a.push(e);var _=(u?Dn:Un)(t,e,n,r,i,o,a);return o.pop(),a.pop(),_}function Be(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=hr(t);r--;){var a=e[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=e[r];var u=a[0],s=t[u],c=a[1];if(o&&a[2]){if(s===k&&!(u in t))return!1}else{var l=n?n(s,c,u):k;if(!(l===k?ze(c,s,n,!0):l))return!1}}return!0}function De(t,e){var n=-1,r=Xn(t)?qo(t.length):[];return Ra(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Fe(t){var e=$n(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(r!==k||n in hr(t)))}}return function(t){return Be(t,e)}}function Ue(t,e){var n=Tu(t),r=er(t)&&ir(e),i=t+"";return t=dr(t),function(o){if(null==o)return!1;var a=i;if(o=hr(o),(n||!r)&&!(a in o)){if(null==(o=1==t.length?o:Le(o,Ze(t,0,-1))))return!1;a=Pr(t),o=hr(o)}return o[a]===e?e!==k||a in o:ze(e,o[a],k,!0)}}function qe(t,e,n,r,i){if(!Li(t))return t;var o=Xn(e)&&(Tu(e)||Wi(e)),a=o?k:Uu(e);return ne(a||e,function(u,s){if(a&&(s=u,u=e[s]),w(u))r||(r=[]),i||(i=[]),Ve(t,e,s,qe,n,r,i);else{var c=t[s],l=n?n(c,u,s,t,e):k,f=l===k;f&&(l=u),l===k&&(!o||s in t)||!f&&(l===l?l===c:c!==c)||(t[s]=l)}}),t}function Ve(t,e,n,r,i,o,a){for(var u=o.length,s=e[n];u--;)if(o[u]==s)return void(t[n]=a[u]);var c=t[n],l=i?i(c,s,n,t,e):k,f=l===k;f&&(l=s,Xn(s)&&(Tu(s)||Wi(s))?l=Tu(c)?c:Xn(c)?ee(c):[]:Ui(s)||Mi(s)?l=Mi(c)?Zi(c):Ui(c)?c:{}:f=!1),o.push(s),a.push(l),f?t[n]=r(l,s,i,o,a):(l===l?l!==c:c===c)&&(t[n]=l)}function We(t){return function(e){return null==e?k:e[t]}}function $e(t){var e=t+"";return t=dr(t),function(n){return Le(n,t,e)}}function He(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Qn(r)){var i=r;pa.call(t,r,1)}}return t}function Ge(t,e){return t+ya(Pa()*(e-t+1))}function Ye(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Ze(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),n=n===k||n>i?i:+n||0,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=qo(i);++r<i;)o[r]=t[r+e];return o}function Ke(t,e){var n;return Ra(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Je(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Xe(t,e,n){var r=qn(),i=-1;return e=ce(e,function(t){return r(t)}),Je(De(t,function(t){return{criteria:ce(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return p(t,e,n)})}function Qe(t,e){var n=0;return Ra(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function tn(t,e){var n=-1,r=Wn(),i=t.length,o=r==s,a=o&&i>=V,u=a?vn():null,c=[];u?(r=Xt,o=!1):(a=!1,u=e?[]:c);t:for(;++n<i;){var l=t[n],f=e?e(l,n,t):l;if(o&&l===l){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),c.push(l)}else r(u,f,0)<0&&((e||a)&&u.push(f),c.push(l))}return c}function en(t,e){for(var n=-1,r=e.length,i=qo(r);++n<r;)i[n]=t[e[n]];return i}function nn(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ze(t,r?0:o,r?o+1:i):Ze(t,r?o+1:0,r?i:o)}function rn(t,e){var n=t;n instanceof i&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var a=e[r];n=a.func.apply(a.thisArg,le([n],a.args))}return n}function on(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=ja){for(;r<i;){var o=r+i>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?r=o+1:i=o}return i}return an(t,e,Oo,n)}function an(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,u=null===e,s=e===k;i<o;){var c=ya((i+o)/2),l=n(t[c]),f=l!==k,h=l===l;if(a)var d=h||r;else d=u?h&&f&&(r||null!=l):s?h&&(r||f):null!=l&&(r?l<=e:l<e);d?i=c+1:o=c}return Ca(o,Ia)}function un(t,e,n){if("function"!=typeof t)return Oo;if(e===k)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function sn(t){var e=new ua(t.byteLength);return new ga(e).set(new ga(t)),e}function cn(t,e,n){for(var r=n.length,i=-1,o=Sa(t.length-r,0),a=-1,u=e.length,s=qo(u+o);++a<u;)s[a]=e[a];for(;++i<r;)s[n[i]]=t[i];for(;o--;)s[a++]=t[i++];return s}function ln(t,e,n){for(var r=-1,i=n.length,o=-1,a=Sa(t.length-i,0),u=-1,s=e.length,c=qo(a+s);++o<a;)c[o]=t[o];for(var l=o;++u<s;)c[l+u]=e[u];for(;++r<i;)c[l+n[r]]=t[o++];return c}function fn(t,e){return function(n,r,i){var o=e?e():{};if(r=qn(r,i,3),Tu(n))for(var a=-1,u=n.length;++a<u;){var s=n[a];t(o,s,r(s,a,n),n)}else Ra(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function hn(t){return mi(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:k,a=i>2?n[2]:k,u=i>1?n[i-1]:k;for("function"==typeof o?(o=un(o,u,5),i-=2):(o="function"==typeof u?u:k,i-=o?1:0),a&&tr(n[0],n[1],a)&&(o=i<3?k:o,i=1);++r<i;){var s=n[r];s&&t(e,s,o)}return e})}function dn(t,e){return function(n,r){var i=n?Va(n):0;if(!rr(i))return t(n,r);for(var o=e?i:-1,a=hr(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function pn(t){return function(e,n,r){for(var i=hr(e),o=r(e),a=o.length,u=t?a:-1;t?u--:++u<a;){var s=o[u];if(n(i[s],s,i)===!1)break}return e}}function gn(t,e){function n(){return(this&&this!==oe&&this instanceof n?r:t).apply(e,arguments)}var r=mn(t);return n}function vn(t){return ma&&ha?new Jt(t):null}function _n(t){return function(e){for(var n=-1,r=Mo(fo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function mn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=za(t.prototype),r=t.apply(n,e);return Li(r)?r:n}}function yn(t){function e(n,r,i){i&&tr(n,r,i)&&(r=k);var o=Bn(n,t,k,k,k,k,k,r);return o.placeholder=e.placeholder,o}return e}function wn(t,e){return mi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(k,n))})}function bn(t,e){return function(n,r,i){if(i&&tr(n,r,i)&&(r=k),r=qn(r,i,3),1==r.length){n=Tu(n)?n:fr(n);var o=ue(n,r,t,e);if(!n.length||o!==e)return o}return Me(n,r,t,e)}}function xn(t,e){return function(n,r,i){if(r=qn(r,i,3),Tu(n)){var o=u(n,r,e);return o>-1?n[o]:k}return Oe(n,r,t)}}function Sn(t){return function(e,n,r){return e&&e.length?(n=qn(n,r,3),u(e,n,t)):-1}}function Cn(t){return function(e,n,r){return n=qn(n,r,3),Oe(e,n,t,!0)}}function An(t){return function(){for(var e,n=arguments.length,i=t?n:-1,o=0,a=qo(n);t?i--:++i<n;){var u=a[o++]=arguments[i];if("function"!=typeof u)throw new Jo(H);!e&&r.prototype.thru&&"wrapper"==Vn(u)&&(e=new r([],!0))}for(i=e?-1:n;++i<n;){u=a[i];var s=Vn(u),c="wrapper"==s?qa(u):k;e=c&&nr(c[0])&&c[1]==(R|E|L|B)&&!c[4].length&&1==c[9]?e[Vn(c[0])].apply(e,c[3]):1==u.length&&nr(u)?e[s]():e.thru(u)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Tu(r)&&r.length>=V)return e.plant(r).value();for(var i=0,o=n?a[i].apply(this,t):r;++i<n;)o=a[i].call(this,o);return o}}}function Mn(t,e){return function(n,r,i){return"function"==typeof r&&i===k&&Tu(n)?t(n,r):e(n,un(r,i,3))}}function Pn(t){return function(e,n,r){return"function"==typeof n&&r===k||(n=un(n,r,3)),t(e,n,eo)}}function kn(t){return function(e,n,r){return"function"==typeof n&&r===k||(n=un(n,r,3)),t(e,n)}}function On(t){return function(e,n,r){var i={};return n=qn(n,r,3),je(e,function(e,r,o){var a=n(e,r,o);r=t?a:r,e=t?e:a,i[r]=e}),i}}function Tn(t){return function(e,n,r){return e=l(e),(t?e:"")+Nn(e,n,r)+(t?"":e)}}function In(t){var e=mi(function(n,r){return Bn(n,t,k,r,x(r,e.placeholder))});return e}function jn(t,e){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===k&&Tu(n)?t(n,r,i,a):Ye(n,qn(r,o,4),i,a,e)}}function En(t,e,n,r,i,o,a,u,s,c){function l(){for(var m=arguments.length,y=m,w=qo(m);y--;)w[y]=arguments[y];if(r&&(w=cn(w,r,i)),o&&(w=ln(w,o,a)),p||v){var b=l.placeholder,S=x(w,b);if((m-=S.length)<c){var C=u?ee(u):k,A=Sa(c-m,0),M=p?S:k,P=p?k:S,O=p?w:k,j=p?k:w;e|=p?L:z,e&=~(p?z:L),g||(e&=~(T|I));var E=[t,e,n,O,M,j,P,C,s,A],N=En.apply(k,E);return nr(t)&&Wa(N,E),N.placeholder=b,N}}var R=h?n:this,B=d?R[t]:t;return u&&(w=cr(w,u)),f&&s<w.length&&(w.length=s),this&&this!==oe&&this instanceof l&&(B=_||mn(t)),B.apply(R,w)}var f=e&R,h=e&T,d=e&I,p=e&E,g=e&j,v=e&N,_=d?k:mn(t);return l}function Nn(t,e,n){var r=t.length;if(e=+e,r>=e||!ba(e))return"";var i=e-r;return n=null==n?" ":n+"",mo(n,_a(i/n.length)).slice(0,i)}function Ln(t,e,n,r){function i(){for(var e=-1,u=arguments.length,s=-1,c=r.length,l=qo(c+u);++s<c;)l[s]=r[s];for(;u--;)l[s++]=arguments[++e];return(this&&this!==oe&&this instanceof i?a:t).apply(o?n:this,l)}var o=e&T,a=mn(t);return i}function zn(t){var e=Ho[t];return function(t,n){return n=n===k?0:+n||0,n?(n=la(10,n),e(t*n)/n):e(t)}}function Rn(t){return function(e,n,r,i){var o=qn(r);return null==r&&o===be?on(e,n,t):an(e,n,o(r,i,1),t)}}function Bn(t,e,n,r,i,o,a,u){var s=e&I;if(!s&&"function"!=typeof t)throw new Jo(H);var c=r?r.length:0;if(c||(e&=~(L|z),r=i=k),c-=i?i.length:0,e&z){var l=r,f=i;r=i=k}var h=s?k:qa(t),d=[t,e,n,r,i,l,f,o,a,u];if(h&&(or(d,h),e=d[1],u=d[9]),d[9]=null==u?s?0:t.length:Sa(u-c,0)||0,e==T)var p=gn(d[0],d[2]);else p=e!=L&&e!=(T|L)||d[4].length?En.apply(k,d):Ln.apply(k,d);return(h?Ua:Wa)(p,d)}function Dn(t,e,n,r,i,o,a){var u=-1,s=t.length,c=e.length;if(s!=c&&!(i&&c>s))return!1;for(;++u<s;){var l=t[u],f=e[u],h=r?r(i?f:l,i?l:f,u):k;if(h!==k){if(h)continue;return!1}if(i){if(!de(e,function(t){return l===t||n(l,t,r,i,o,a)}))return!1}else if(l!==f&&!n(l,f,r,i,o,a))return!1}return!0}function Fn(t,e,n){switch(n){case K:case J:return+t==+e;case X:return t.name==e.name&&t.message==e.message;case et:return t!=+t?e!=+e:t==+e;case rt:case ot:return t==e+""}return!1}function Un(t,e,n,r,i,o,a){var u=Uu(t),s=u.length;if(s!=Uu(e).length&&!i)return!1;for(var c=s;c--;){var l=u[c];if(!(i?l in e:na.call(e,l)))return!1}for(var f=i;++c<s;){l=u[c];var h=t[l],d=e[l],p=r?r(i?d:h,i?h:d,l):k;if(!(p===k?n(h,d,r,i,o,a):p))return!1;f||(f="constructor"==l)}if(!f){var g=t.constructor,v=e.constructor;if(g!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0}function qn(t,n,r){var i=e.callback||Po;return i=i===Po?be:i,r?i(t,n,r):i}function Vn(t){for(var e=t.name,n=La[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Wn(t,n,r){var i=e.indexOf||Ar;return i=i===Ar?s:i,t?i(t,n,r):i}function $n(t){for(var e=no(t),n=e.length;n--;)e[n][2]=ir(e[n][1]);return e}function Hn(t,e){var n=null==t?k:t[e];return Bi(n)?n:k}function Gn(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ca(e,t+a);break;case"takeRight":t=Sa(t,e-a)}}return{start:t,end:e}}function Yn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&na.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Zn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Yo),new e}function Kn(t,e,n){var r=t.constructor;switch(e){case ut:return sn(t);case K:case J:return new r(+t);case st:case ct:case lt:case ft:case ht:case dt:case pt:case gt:case vt:var i=t.buffer;return new r(n?sn(i):i,t.byteOffset,t.length);case et:case ot:return new r(t);case rt:var o=new r(t.source,Lt.exec(t));o.lastIndex=t.lastIndex}return o}function Jn(t,e,n){null==t||er(e,t)||(e=dr(e),t=1==e.length?t:Le(t,Ze(e,0,-1)),e=Pr(e));var r=null==t?t:t[e];return null==r?k:r.apply(t,n)}function Xn(t){return null!=t&&rr(Va(t))}function Qn(t,e){return t="number"==typeof t||Bt.test(t)?+t:-1,e=null==e?Ea:e,t>-1&&t%1==0&&t<e}function tr(t,e,n){if(!Li(n))return!1;var r=void 0===e?"undefined":o(e);if("number"==r?Xn(n)&&Qn(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function er(t,e){var n=void 0===t?"undefined":o(t);return!!("string"==n&&kt.test(t)||"number"==n)||!Tu(t)&&(!Pt.test(t)||null!=e&&t in hr(e))}function nr(t){var n=Vn(t);if(!(n in i.prototype))return!1;var r=e[n];if(t===r)return!0;var o=qa(r);return!!o&&t===o[0]}function rr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ea}function ir(t){return t===t&&!Li(t)}function or(t,e){var n=t[1],r=e[1],i=n|r,o=i<R,a=r==R&&n==E||r==R&&n==B&&t[7].length<=e[8]||r==(R|B)&&n==E;if(!o&&!a)return t;r&T&&(t[2]=e[2],i|=n&T?0:j);var u=e[3];if(u){var s=t[3];t[3]=s?cn(s,u,e[4]):ee(u),t[4]=s?x(t[3],G):ee(e[4])}return u=e[5],u&&(s=t[5],t[5]=s?ln(s,u,e[6]):ee(u),t[6]=s?x(t[5],G):ee(e[6])),u=e[7],u&&(t[7]=ee(u)),r&R&&(t[8]=null==t[8]?e[8]:Ca(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function ar(t,e){return t===k?e:Iu(t,e,ar)}function ur(t,e){t=hr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function sr(t,e){var n={};return Ie(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function cr(t,e){for(var n=t.length,r=Ca(e.length,n),i=ee(t);r--;){var o=e[r];t[r]=Qn(o,n)?i[o]:k}return t}function lr(t){for(var e=eo(t),n=e.length,r=n&&t.length,i=!!r&&rr(r)&&(Tu(t)||Mi(t)),o=-1,a=[];++o<n;){var u=e[o];(i&&Qn(u,r)||na.call(t,u))&&a.push(u)}return a}function fr(t){return null==t?[]:Xn(t)?Li(t)?t:Yo(t):ao(t)}function hr(t){return Li(t)?t:Yo(t)}function dr(t){if(Tu(t))return t;var e=[];return l(t).replace(Ot,function(t,n,r,i){e.push(r?i.replace(Et,"$1"):n||t)}),e}function pr(t){return t instanceof i?t.clone():new r(t.__wrapped__,t.__chain__,ee(t.__actions__))}function gr(t,e,n){e=(n?tr(t,e,n):null==e)?1:Sa(ya(e)||1,1);for(var r=0,i=t?t.length:0,o=-1,a=qo(_a(i/e));r<i;)a[++o]=Ze(t,r,r+=e);return a}function vr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function _r(t,e,n){return(t?t.length:0)?((n?tr(t,e,n):null==e)&&(e=1),Ze(t,e<0?0:e)):[]}function mr(t,e,n){var r=t?t.length:0;return r?((n?tr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ze(t,0,e<0?0:e)):[]}function yr(t,e,n){return t&&t.length?nn(t,qn(e,n,3),!0,!0):[]}function wr(t,e,n){return t&&t.length?nn(t,qn(e,n,3),!0):[]}function br(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&tr(t,e,n)&&(n=0,r=i),Pe(t,e,n,r)):[]}function xr(t){return t?t[0]:k}function Sr(t,e,n){var r=t?t.length:0;return n&&tr(t,e,n)&&(e=!1),r?Te(t,e):[]}function Cr(t){return(t?t.length:0)?Te(t,!0):[]}function Ar(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?Sa(r+n,0):n;else if(n){var i=on(t,e);return i<r&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return s(t,e,n||0)}function Mr(t){return mr(t,1)}function Pr(t){var e=t?t.length:0;return e?t[e-1]:k}function kr(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?Sa(r+n,0):Ca(n||0,r-1))+1;else if(n){i=on(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return y(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Or(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Wn(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)pa.call(e,o,1);return e}function Tr(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(e=qn(e,n,3);++i<a;){var u=t[i];e(u,i,t)&&(r.push(u),o.push(i))}return He(t,o),r}function Ir(t){return _r(t,1)}function jr(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&tr(t,e,n)&&(e=0,n=r),Ze(t,e,n)):[]}function Er(t,e,n){return(t?t.length:0)?((n?tr(t,e,n):null==e)&&(e=1),Ze(t,0,e<0?0:e)):[]}function Nr(t,e,n){var r=t?t.length:0;return r?((n?tr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ze(t,e<0?0:e)):[]}function Lr(t,e,n){return t&&t.length?nn(t,qn(e,n,3),!1,!0):[]}function zr(t,e,n){return t&&t.length?nn(t,qn(e,n,3)):[]}function Rr(t,e,n,r){if(!(t?t.length:0))return[];null!=e&&"boolean"!=typeof e&&(r=n,n=tr(t,e,r)?k:e,e=!1);var i=qn();return null==n&&i===be||(n=i(n,r,3)),e&&Wn()==s?S(t,n):tn(t,n)}function Br(t){if(!t||!t.length)return[];var e=-1,n=0;t=se(t,function(t){if(Xn(t))return n=Sa(t.length,n),!0});for(var r=qo(n);++e<n;)r[e]=ce(t,We(e));return r}function Dr(t,e,n){if(!(t?t.length:0))return[];var r=Br(t);return null==e?r:(e=un(e,n,4),ce(r,function(t){return fe(t,e,k,!0)}))}function Fr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Xn(n))var r=r?le(Ce(r,n),Ce(n,r)):n}return r?tn(r):[]}function Ur(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Tu(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function qr(t){var n=e(t);return n.__chain__=!0,n}function Vr(t,e,n){return e.call(n,t),t}function Wr(t,e,n){return e.call(n,t)}function $r(){return qr(this)}function Hr(){return new r(this.value(),this.__chain__)}function Gr(t){for(var e,r=this;r instanceof n;){var i=pr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Yr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof i){var n=t;return this.__actions__.length&&(n=new i(this)),n=n.reverse(),n.__actions__.push({func:Wr,args:[e],thisArg:k}),new r(n,this.__chain__)}return this.thru(e)}function Zr(){return this.value()+""}function Kr(){return rn(this.__wrapped__,this.__actions__)}function Jr(t,e,n){var r=Tu(t)?ie:Ae;return n&&tr(t,e,n)&&(e=k),"function"==typeof e&&n===k||(e=qn(e,n,3)),r(t,e)}function Xr(t,e,n){var r=Tu(t)?se:ke;return e=qn(e,n,3),r(t,e)}function Qr(t,e){return ou(t,Fe(e))}function ti(t,e,n,r){var i=t?Va(t):0;return rr(i)||(t=ao(t),i=t.length),n="number"!=typeof n||r&&tr(e,n,r)?0:n<0?Sa(i+n,0):n||0,"string"==typeof t||!Tu(t)&&Vi(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Wn(t,e,n)>-1}function ei(t,e,n){var r=Tu(t)?ce:De;return e=qn(e,n,3),r(t,e)}function ni(t,e){return ei(t,Lo(e))}function ri(t,e,n){var r=Tu(t)?se:ke;return e=qn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ii(t,e,n){if(n?tr(t,e,n):null==e){t=fr(t);var r=t.length;return r>0?t[Ge(0,r-1)]:k}var i=-1,o=Yi(t),r=o.length,a=r-1;for(e=Ca(e<0?0:+e||0,r);++i<e;){var u=Ge(i,a),s=o[u];o[u]=o[i],o[i]=s}return o.length=e,o}function oi(t){return ii(t,Oa)}function ai(t){var e=t?Va(t):0;return rr(e)?e:Uu(t).length}function ui(t,e,n){var r=Tu(t)?de:Ke;return n&&tr(t,e,n)&&(e=k),"function"==typeof e&&n===k||(e=qn(e,n,3)),r(t,e)}function si(t,e,n){if(null==t)return[];n&&tr(t,e,n)&&(e=k);var r=-1;return e=qn(e,n,3),Je(De(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}}),d)}function ci(t,e,n,r){return null==t?[]:(r&&tr(e,n,r)&&(n=k),Tu(e)||(e=null==e?[]:[e]),Tu(n)||(n=null==n?[]:[n]),Xe(t,e,n))}function li(t,e){return Xr(t,Fe(e))}function fi(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Jo(H);var n=t;t=e,e=n}return t=ba(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function hi(t,e,n){return n&&tr(t,e,n)&&(e=k),e=t&&null==e?t.length:Sa(+e||0,0),Bn(t,R,k,k,k,k,e)}function di(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Jo(H);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=k),n}}function pi(t,e,n){function r(){d&&sa(d),c&&sa(c),g=0,c=d=p=k}function i(e,n){n&&sa(n),c=d=p=k,e&&(g=vu(),l=t.apply(h,s),d||c||(s=h=k))}function o(){var t=e-(vu()-f);t<=0||t>e?i(p,c):d=da(o,t)}function a(){i(_,d)}function u(){if(s=arguments,f=vu(),h=this,p=_&&(d||!m),v===!1)var n=m&&!d;else{c||m||(g=f);var r=v-(f-g),i=r<=0||r>v;i?(c&&(c=sa(c)),g=f,l=t.apply(h,s)):c||(c=da(a,r))}return i&&d?d=sa(d):d||e===v||(d=da(o,e)),n&&(i=!0,l=t.apply(h,s)),!i||d||c||(s=h=k),l}var s,c,l,f,h,d,p,g=0,v=!1,_=!0;if("function"!=typeof t)throw new Jo(H);if(e=e<0?0:+e||0,n===!0){var m=!0;_=!1}else Li(n)&&(m=!!n.leading,v="maxWait"in n&&Sa(+n.maxWait||0,e),_="trailing"in n?!!n.trailing:_);return u.cancel=r,u}function gi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Jo(H);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new gi.Cache,n}function vi(t){if("function"!=typeof t)throw new Jo(H);return function(){return!t.apply(this,arguments)}}function _i(t){return di(2,t)}function mi(t,e){if("function"!=typeof t)throw new Jo(H);return e=Sa(e===k?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=Sa(n.length-e,0),o=qo(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=qo(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,t.apply(this,a)}}function yi(t){if("function"!=typeof t)throw new Jo(H);return function(e){return t.apply(this,e)}}function wi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Jo(H);return n===!1?r=!1:Li(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(t,e,{leading:r,maxWait:+e,trailing:i})}function bi(t,e){return e=null==e?Oo:e,Bn(e,L,k,[t],[])}function xi(t,e,n,r){return e&&"boolean"!=typeof e&&tr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?xe(t,e,un(n,r,1)):xe(t,e)}function Si(t,e,n){return"function"==typeof e?xe(t,!0,un(e,n,1)):xe(t,!0)}function Ci(t,e){return t>e}function Ai(t,e){return t>=e}function Mi(t){return w(t)&&Xn(t)&&na.call(t,"callee")&&!fa.call(t,"callee")}function Pi(t){return t===!0||t===!1||w(t)&&ia.call(t)==K}function ki(t){return w(t)&&ia.call(t)==J}function Oi(t){return!!t&&1===t.nodeType&&w(t)&&!Ui(t)}function Ti(t){return null==t||(Xn(t)&&(Tu(t)||Vi(t)||Mi(t)||w(t)&&Ni(t.splice))?!t.length:!Uu(t).length)}function Ii(t,e,n,r){n="function"==typeof n?un(n,r,3):k;var i=n?n(t,e):k;return i===k?ze(t,e,n):!!i}function ji(t){return w(t)&&"string"==typeof t.message&&ia.call(t)==X}function Ei(t){return"number"==typeof t&&ba(t)}function Ni(t){return Li(t)&&ia.call(t)==Q}function Li(t){var e=void 0===t?"undefined":o(t);return!!t&&("object"==e||"function"==e)}function zi(t,e,n,r){return n="function"==typeof n?un(n,r,3):k,Be(t,$n(e),n)}function Ri(t){return Fi(t)&&t!=+t}function Bi(t){return null!=t&&(Ni(t)?aa.test(ea.call(t)):w(t)&&Rt.test(t))}function Di(t){return null===t}function Fi(t){return"number"==typeof t||w(t)&&ia.call(t)==et}function Ui(t){var e;if(!w(t)||ia.call(t)!=nt||Mi(t)||!na.call(t,"constructor")&&"function"==typeof(e=t.constructor)&&!(e instanceof e))return!1;var n;return Ie(t,function(t,e){n=e}),n===k||na.call(t,n)}function qi(t){return Li(t)&&ia.call(t)==rt}function Vi(t){return"string"==typeof t||w(t)&&ia.call(t)==ot}function Wi(t){return w(t)&&rr(t.length)&&!!$t[ia.call(t)]}function $i(t){return t===k}function Hi(t,e){return t<e}function Gi(t,e){return t<=e}function Yi(t){var e=t?Va(t):0;return rr(e)?e?ee(t):[]:ao(t)}function Zi(t){return we(t,eo(t))}function Ki(t,e,n){var r=za(t);return n&&tr(t,e,n)&&(e=k),e?me(r,e):r}function Ji(t){return Ne(t,eo(t))}function Xi(t,e,n){var r=null==t?k:Le(t,dr(e),e+"");return r===k?n:r}function Qi(t,e){if(null==t)return!1;var n=na.call(t,e);if(!n&&!er(e)){if(e=dr(e),null==(t=1==e.length?t:Le(t,Ze(e,0,-1))))return!1;e=Pr(e),n=na.call(t,e)}return n||rr(t.length)&&Qn(e,t.length)&&(Tu(t)||Mi(t))}function to(t,e,n){n&&tr(t,e,n)&&(e=k);for(var r=-1,i=Uu(t),o=i.length,a={};++r<o;){var u=i[r],s=t[u];e?na.call(a,s)?a[s].push(u):a[s]=[u]:a[s]=u}return a}function eo(t){if(null==t)return[];Li(t)||(t=Yo(t));var e=t.length;e=e&&rr(e)&&(Tu(t)||Mi(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=qo(e),a=e>0;++r<e;)o[r]=r+"";for(var u in t)a&&Qn(u,e)||"constructor"==u&&(i||!na.call(t,u))||o.push(u);return o}function no(t){t=hr(t);for(var e=-1,n=Uu(t),r=n.length,i=qo(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function ro(t,e,n){var r=null==t?k:t[e];return r===k&&(null==t||er(e,t)||(e=dr(e),t=1==e.length?t:Le(t,Ze(e,0,-1)),r=null==t?k:t[Pr(e)]),r=r===k?n:r),Ni(r)?r.call(t):r}function io(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||er(e,t)?[r]:dr(e);for(var i=-1,o=e.length,a=o-1,u=t;null!=u&&++i<o;){var s=e[i];Li(u)&&(i==a?u[s]=n:null==u[s]&&(u[s]=Qn(e[i+1])?[]:{})),u=u[s]}return t}function oo(t,e,n,r){var i=Tu(t)||Wi(t);if(e=qn(e,r,4),null==n)if(i||Li(t)){var o=t.constructor;n=i?Tu(t)?new o:[]:za(Ni(o)?o.prototype:k)}else n={};return(i?ne:je)(t,function(t,r,i){return e(n,t,r,i)}),n}function ao(t){return en(t,Uu(t))}function uo(t){return en(t,eo(t))}function so(t,e,n){return e=+e||0,n===k?(n=e,e=0):n=+n||0,t>=Ca(e,n)&&t<Sa(e,n)}function co(t,e,n){n&&tr(t,e,n)&&(e=n=k);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Pa();return Ca(t+o*(e-t+ca("1e-"+((o+"").length-1))),e)}return Ge(t,e)}function lo(t){return(t=l(t))&&t.charAt(0).toUpperCase()+t.slice(1)}function fo(t){return(t=l(t))&&t.replace(Dt,g).replace(jt,"")}function ho(t,e,n){t=l(t),e+="";var r=t.length;return n=n===k?r:Ca(n<0?0:+n||0,r),(n-=e.length)>=0&&t.indexOf(e,n)==n}function po(t){return t=l(t),t&&St.test(t)?t.replace(bt,v):t}function go(t){return t=l(t),t&&It.test(t)?t.replace(Tt,_):t||"(?:)"}function vo(t,e,n){t=l(t),e=+e;var r=t.length;if(r>=e||!ba(e))return t;var i=(e-r)/2,o=ya(i);return n=Nn("",_a(i),n),n.slice(0,o)+t+n}function _o(t,e,n){return(n?tr(t,e,n):null==e)?e=0:e&&(e=+e),t=bo(t),Ma(t,e||(zt.test(t)?16:10))}function mo(t,e){var n="";if(t=l(t),(e=+e)<1||!t||!ba(e))return n;do{e%2&&(n+=t),e=ya(e/2),t+=t}while(e);return n}function yo(t,e,n){return t=l(t),n=null==n?0:Ca(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function wo(t,n,r){var i=e.templateSettings;r&&tr(t,n,r)&&(n=r=k),t=l(t),n=_e(me({},r||n),i,ve);var o,a,u=_e(me({},n.imports),i.imports,ve),s=Uu(u),c=en(u,s),f=0,h=n.interpolate||Ft,d="__p += '",p=Zo((n.escape||Ft).source+"|"+h.source+"|"+(h===Mt?Nt:Ft).source+"|"+(n.evaluate||Ft).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Wt+"]")+"\n";t.replace(p,function(e,n,r,i,u,s){return r||(r=i),d+=t.slice(f,s).replace(Ut,m),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+e.length,e}),d+="';\n";var v=n.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(_t,""):d).replace(mt,"$1").replace(yt,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var _=Xu(function(){return $o(s,g+"return "+d).apply(k,c)});if(_.source=d,ji(_))throw _;return _}function bo(t,e,n){var r=t;return(t=l(t))?(n?tr(r,e,n):null==e)?t.slice(C(t),A(t)+1):(e+="",t.slice(f(t,e),h(t,e)+1)):t}function xo(t,e,n){var r=t;return t=l(t),t?(n?tr(r,e,n):null==e)?t.slice(C(t)):t.slice(f(t,e+"")):t}function So(t,e,n){var r=t;return t=l(t),t?(n?tr(r,e,n):null==e)?t.slice(0,A(t)+1):t.slice(0,h(t,e+"")+1):t}function Co(t,e,n){n&&tr(t,e,n)&&(e=k);var r=D,i=F;if(null!=e)if(Li(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?l(e.omission):i}else r=+e||0;if(t=l(t),r>=t.length)return t;var a=r-i.length;if(a<1)return i;var u=t.slice(0,a);if(null==o)return u+i;if(qi(o)){if(t.slice(a).search(o)){var s,c,f=t.slice(0,a);for(o.global||(o=Zo(o.source,(Lt.exec(o)||"")+"g")),o.lastIndex=0;s=o.exec(f);)c=s.index;u=u.slice(0,null==c?a:c)}}else if(t.indexOf(o,a)!=a){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+i}function Ao(t){return t=l(t),t&&xt.test(t)?t.replace(wt,M):t}function Mo(t,e,n){return n&&tr(t,e,n)&&(e=k),t=l(t),t.match(e||qt)||[]}function Po(t,e,n){return n&&tr(t,e,n)&&(e=k),w(t)?To(t):be(t,e)}function ko(t){return function(){return t}}function Oo(t){return t}function To(t){return Fe(xe(t,!0))}function Io(t,e){return Ue(t,xe(e,!0))}function jo(t,e,n){if(null==n){var r=Li(e),i=r?Uu(e):k,o=i&&i.length?Ne(e,i):k;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Ne(e,Uu(e)));var a=!0,u=-1,s=Ni(t),c=o.length;n===!1?a=!1:Li(n)&&"chain"in n&&(a=n.chain);for(;++u<c;){var l=o[u],f=e[l];t[l]=f,s&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__);return(r.__actions__=ee(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,le([this.value()],arguments))}}(f))}return t}function Eo(){return oe._=oa,this}function No(){}function Lo(t){return er(t)?We(t):$e(t)}function zo(t){return function(e){return Le(t,dr(e),e+"")}}function Ro(t,e,n){n&&tr(t,e,n)&&(e=n=k),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=Sa(_a((e-t)/(n||1)),0),o=qo(i);++r<i;)o[r]=t,t+=n;return o}function Bo(t,e,n){if((t=ya(t))<1||!ba(t))return[];var r=-1,i=qo(Ca(t,Ta));for(e=un(e,n,1);++r<t;)r<Ta?i[r]=e(r):e(r);return i}function Do(t){var e=++ra;return l(t)+e}function Fo(t,e){return(+t||0)+(+e||0)}function Uo(t,e,n){return n&&tr(t,e,n)&&(e=k),e=qn(e,n,3),1==e.length?pe(Tu(t)?t:fr(t),e):Qe(t,e)}t=t?ae.defaults(oe.Object(),t,ae.pick(oe,Vt)):oe;var qo=t.Array,Vo=t.Date,Wo=t.Error,$o=t.Function,Ho=t.Math,Go=t.Number,Yo=t.Object,Zo=t.RegExp,Ko=t.String,Jo=t.TypeError,Xo=qo.prototype,Qo=Yo.prototype,ta=Ko.prototype,ea=$o.prototype.toString,na=Qo.hasOwnProperty,ra=0,ia=Qo.toString,oa=oe._,aa=Zo("^"+ea.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ua=t.ArrayBuffer,sa=t.clearTimeout,ca=t.parseFloat,la=Ho.pow,fa=Qo.propertyIsEnumerable,ha=Hn(t,"Set"),da=t.setTimeout,pa=Xo.splice,ga=t.Uint8Array,va=Hn(t,"WeakMap"),_a=Ho.ceil,ma=Hn(Yo,"create"),ya=Ho.floor,wa=Hn(qo,"isArray"),ba=t.isFinite,xa=Hn(Yo,"keys"),Sa=Ho.max,Ca=Ho.min,Aa=Hn(Vo,"now"),Ma=t.parseInt,Pa=Ho.random,ka=Go.NEGATIVE_INFINITY,Oa=Go.POSITIVE_INFINITY,Ta=4294967295,Ia=Ta-1,ja=Ta>>>1,Ea=9007199254740991,Na=va&&new va,La={};e.support={};e.templateSettings={escape:Ct,evaluate:At,interpolate:Mt,variable:"",imports:{_:e}};var za=function(){function t(){}return function(e){if(Li(e)){t.prototype=e;var n=new t;t.prototype=k}return n||{}}}(),Ra=dn(je),Ba=dn(Ee,!0),Da=pn(),Fa=pn(!0),Ua=Na?function(t,e){return Na.set(t,e),t}:Oo,qa=Na?function(t){return Na.get(t)}:No,Va=We("length"),Wa=function(){var t=0,e=0;return function(n,r){var i=vu(),o=q-(i-e);if(e=i,o>0){if(++t>=U)return n}else t=0;return Ua(n,r)}}(),$a=mi(function(t,e){return w(t)&&Xn(t)?Ce(t,Te(e,!1,!0)):[]}),Ha=Sn(),Ga=Sn(!0),Ya=mi(function(t){for(var e=t.length,n=e,r=qo(f),i=Wn(),o=i==s,a=[];n--;){var u=t[n]=Xn(u=t[n])?u:[];r[n]=o&&u.length>=120?vn(n&&u):null}var c=t[0],l=-1,f=c?c.length:0,h=r[0];t:for(;++l<f;)if(u=c[l],(h?Xt(h,u):i(a,u,0))<0){for(var n=e;--n;){var d=r[n];if((d?Xt(d,u):i(t[n],u,0))<0)continue t}h&&h.push(u),a.push(u)}return a}),Za=mi(function(t,e){e=Te(e);var n=ye(t,e);return He(t,e.sort(a)),n}),Ka=Rn(),Ja=Rn(!0),Xa=mi(function(t){return tn(Te(t,!1,!0))}),Qa=mi(function(t,e){return Xn(t)?Ce(t,e):[]}),tu=mi(Br),eu=mi(function(t){var e=t.length,n=e>2?t[e-2]:k,r=e>1?t[e-1]:k;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):k,r=k),t.length=e,Dr(t,n,r)}),nu=mi(function(t){return t=Te(t),this.thru(function(e){return te(Tu(e)?e:[hr(e)],t)})}),ru=mi(function(t,e){return ye(t,Te(e))}),iu=fn(function(t,e,n){na.call(t,n)?++t[n]:t[n]=1}),ou=xn(Ra),au=xn(Ba,!0),uu=Mn(ne,Ra),su=Mn(re,Ba),cu=fn(function(t,e,n){na.call(t,n)?t[n].push(e):t[n]=[e]}),lu=fn(function(t,e,n){t[n]=e}),fu=mi(function(t,e,n){var r=-1,i="function"==typeof e,o=er(e),a=Xn(t)?qo(t.length):[];return Ra(t,function(t){var u=i?e:o&&null!=t?t[e]:k;a[++r]=u?u.apply(t,n):Jn(t,e,n)}),a}),hu=fn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),du=jn(fe,Ra),pu=jn(he,Ba),gu=mi(function(t,e){if(null==t)return[];var n=e[2];return n&&tr(e[0],e[1],n)&&(e.length=1),Xe(t,Te(e),[])}),vu=Aa||function(){return(new Vo).getTime()},_u=mi(function(t,e,n){var r=T;if(n.length){var i=x(n,_u.placeholder);r|=L}return Bn(t,r,e,n,i)}),mu=mi(function(t,e){e=e.length?Te(e):Ji(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Bn(t[i],T,t)}return t}),yu=mi(function(t,e,n){var r=T|I;if(n.length){var i=x(n,yu.placeholder);r|=L}return Bn(e,r,t,n,i)}),wu=yn(E),bu=yn(N),xu=mi(function(t,e){return Se(t,1,e)}),Su=mi(function(t,e,n){return Se(t,e,n)}),Cu=An(),Au=An(!0),Mu=mi(function(t,e){if(e=Te(e),"function"!=typeof t||!ie(e,c))throw new Jo(H);var n=e.length;return mi(function(r){for(var i=Ca(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),Pu=In(L),ku=In(z),Ou=mi(function(t,e){return Bn(t,B,k,k,k,Te(e))}),Tu=wa||function(t){return w(t)&&rr(t.length)&&ia.call(t)==Z},Iu=hn(qe),ju=hn(function(t,e,n){return n?_e(t,e,n):me(t,e)}),Eu=wn(ju,ge),Nu=wn(Iu,ar),Lu=Cn(je),zu=Cn(Ee),Ru=Pn(Da),Bu=Pn(Fa),Du=kn(je),Fu=kn(Ee),Uu=xa?function(t){var e=null==t?k:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Xn(t)?lr(t):Li(t)?xa(t):[]}:lr,qu=On(!0),Vu=On(),Wu=mi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ce(Te(e),Ko);return ur(t,Ce(eo(t),e))}var n=un(e[0],e[1],3);return sr(t,function(t,e,r){return!n(t,e,r)})}),$u=mi(function(t,e){return null==t?{}:"function"==typeof e[0]?sr(t,un(e[0],e[1],3)):ur(t,Te(e))}),Hu=_n(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Gu=_n(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yu=Tn(),Zu=Tn(!0),Ku=_n(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ju=_n(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Xu=mi(function(t,e){try{return t.apply(k,e)}catch(t){return ji(t)?t:new Wo(t)}}),Qu=mi(function(t,e){return function(n){return Jn(n,t,e)}}),ts=mi(function(t,e){return function(n){return Jn(t,n,e)}}),es=zn("ceil"),ns=zn("floor"),rs=bn(Ci,ka),is=bn(Hi,Oa),os=zn("round");return e.prototype=n.prototype,r.prototype=za(n.prototype),r.prototype.constructor=r,i.prototype=za(n.prototype),i.prototype.constructor=i,at.prototype.delete=Gt,at.prototype.get=Yt,at.prototype.has=Zt,at.prototype.set=Kt,Jt.prototype.push=Qt,gi.Cache=at,e.after=fi,e.ary=hi,e.assign=ju,e.at=ru,e.before=di,e.bind=_u,e.bindAll=mu,e.bindKey=yu,e.callback=Po,e.chain=qr,e.chunk=gr,e.compact=vr,e.constant=ko,e.countBy=iu,e.create=Ki,e.curry=wu,e.curryRight=bu,e.debounce=pi,e.defaults=Eu,e.defaultsDeep=Nu,e.defer=xu,e.delay=Su,e.difference=$a,e.drop=_r,e.dropRight=mr,e.dropRightWhile=yr,e.dropWhile=wr,e.fill=br,e.filter=Xr,e.flatten=Sr,e.flattenDeep=Cr,e.flow=Cu,e.flowRight=Au,e.forEach=uu,e.forEachRight=su,e.forIn=Ru,e.forInRight=Bu,e.forOwn=Du,e.forOwnRight=Fu,e.functions=Ji,e.groupBy=cu,e.indexBy=lu,e.initial=Mr,e.intersection=Ya,e.invert=to,e.invoke=fu,e.keys=Uu,e.keysIn=eo,e.map=ei,e.mapKeys=qu,e.mapValues=Vu,e.matches=To,e.matchesProperty=Io,e.memoize=gi,e.merge=Iu,e.method=Qu,e.methodOf=ts,e.mixin=jo,e.modArgs=Mu,e.negate=vi,e.omit=Wu,e.once=_i,e.pairs=no,e.partial=Pu,e.partialRight=ku,e.partition=hu,e.pick=$u,e.pluck=ni,e.property=Lo,e.propertyOf=zo,e.pull=Or,e.pullAt=Za,e.range=Ro,e.rearg=Ou,e.reject=ri,e.remove=Tr,e.rest=Ir,e.restParam=mi,e.set=io,e.shuffle=oi,e.slice=jr,e.sortBy=si,e.sortByAll=gu,e.sortByOrder=ci,e.spread=yi,e.take=Er,e.takeRight=Nr,e.takeRightWhile=Lr,e.takeWhile=zr,e.tap=Vr,e.throttle=wi,e.thru=Wr,e.times=Bo,e.toArray=Yi,e.toPlainObject=Zi,e.transform=oo,e.union=Xa,e.uniq=Rr,e.unzip=Br,e.unzipWith=Dr,e.values=ao,e.valuesIn=uo,e.where=li,e.without=Qa,e.wrap=bi,e.xor=Fr,e.zip=tu,e.zipObject=Ur,e.zipWith=eu,e.backflow=Au,e.collect=ei,e.compose=Au,e.each=uu,e.eachRight=su,e.extend=ju,e.iteratee=Po,e.methods=Ji,e.object=Ur,e.select=Xr,e.tail=Ir,e.unique=Rr,jo(e,e),e.add=Fo,e.attempt=Xu,e.camelCase=Hu,e.capitalize=lo,e.ceil=es,e.clone=xi,e.cloneDeep=Si,e.deburr=fo,e.endsWith=ho,e.escape=po,e.escapeRegExp=go,e.every=Jr,e.find=ou,e.findIndex=Ha,e.findKey=Lu,e.findLast=au,e.findLastIndex=Ga,e.findLastKey=zu,e.findWhere=Qr,e.first=xr,e.floor=ns,e.get=Xi,e.gt=Ci,e.gte=Ai,e.has=Qi,e.identity=Oo,e.includes=ti,e.indexOf=Ar,e.inRange=so,e.isArguments=Mi,e.isArray=Tu,e.isBoolean=Pi,e.isDate=ki,e.isElement=Oi,e.isEmpty=Ti,e.isEqual=Ii,e.isError=ji,e.isFinite=Ei,e.isFunction=Ni,e.isMatch=zi,e.isNaN=Ri,e.isNative=Bi,e.isNull=Di,e.isNumber=Fi,e.isObject=Li,e.isPlainObject=Ui,e.isRegExp=qi,e.isString=Vi,e.isTypedArray=Wi,e.isUndefined=$i,e.kebabCase=Gu,e.last=Pr,e.lastIndexOf=kr,e.lt=Hi,e.lte=Gi,e.max=rs,e.min=is,e.noConflict=Eo,e.noop=No,e.now=vu,e.pad=vo,e.padLeft=Yu,e.padRight=Zu,e.parseInt=_o,e.random=co,e.reduce=du,e.reduceRight=pu,e.repeat=mo,e.result=ro,e.round=os,e.runInContext=P,e.size=ai,e.snakeCase=Ku,e.some=ui,e.sortedIndex=Ka,e.sortedLastIndex=Ja,e.startCase=Ju,e.startsWith=yo,e.sum=Uo,e.template=wo,e.trim=bo,e.trimLeft=xo,e.trimRight=So,e.trunc=Co,e.unescape=Ao,e.uniqueId=Do,e.words=Mo,e.all=Jr,e.any=ui,e.contains=ti,e.eq=Ii,e.detect=ou,e.foldl=du,e.foldr=pu,e.head=xr,e.include=ti,e.inject=du,jo(e,function(){var t={};return je(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ii,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ii(e,t)}):ii(this.value())},e.VERSION=O,ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ne(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=null==n?1:Sa(ya(n)||0,0);var o=this.clone();return r?o.__takeCount__=Ca(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ne(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=$;i.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:qn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),ne(["first","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),ne(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),ne(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Fe:Lo;i.prototype[t]=function(t){return this[n](r(t))}}),i.prototype.compact=function(){return this.filter(Oo)},i.prototype.reject=function(t,e){return t=qn(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new i(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==k&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},i.prototype.toArray=function(){return this.take(Oa)},je(i.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),u=e[a?"take"+("last"==n?"Right":""):n];u&&(e.prototype[n]=function(){var e=a?[1]:arguments,n=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,l=s instanceof i,f=e[0],h=l||Tu(s);h&&o&&"function"==typeof f&&1!=f.length&&(l=h=!1);var d=function(t){return a&&n?u(t,1)[0]:u.apply(k,le([t],e))},p={func:Wr,args:[d],thisArg:k},g=l&&!c;if(a&&!n)return g?(s=s.clone(),s.__actions__.push(p),t.call(s)):u.call(k,this.value())[0];if(!a&&h){s=g?s:new i(this);var v=t.apply(s,e);return v.__actions__.push(p),new r(v,n)}return this.thru(d)})}),ne(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?ta:Xo)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),je(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name;(La[i]||(La[i]=[])).push({name:n,func:r})}}),La[En(k,I).name]=[{name:"wrapper",func:k}],i.prototype.clone=b,i.prototype.reverse=tt,i.prototype.value=it,e.prototype.chain=$r,e.prototype.commit=Hr,e.prototype.concat=nu,e.prototype.plant=Gr,e.prototype.reverse=Yr,e.prototype.toString=Zr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Kr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var k,O="3.10.1",T=1,I=2,j=4,E=8,N=16,L=32,z=64,R=128,B=256,D=30,F="...",U=150,q=16,V=200,W=1,$=2,H="Expected a function",G="__lodash_placeholder__",Y="[object Arguments]",Z="[object Array]",K="[object Boolean]",J="[object Date]",X="[object Error]",Q="[object Function]",tt="[object Map]",et="[object Number]",nt="[object Object]",rt="[object RegExp]",it="[object Set]",ot="[object String]",at="[object WeakMap]",ut="[object ArrayBuffer]",st="[object Float32Array]",ct="[object Float64Array]",lt="[object Int8Array]",ft="[object Int16Array]",ht="[object Int32Array]",dt="[object Uint8Array]",pt="[object Uint8ClampedArray]",gt="[object Uint16Array]",vt="[object Uint32Array]",_t=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,xt=RegExp(wt.source),St=RegExp(bt.source),Ct=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,kt=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Tt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,It=RegExp(Tt.source),jt=/[\u0300-\u036f\ufe20-\ufe23]/g,Et=/\\(\\)?/g,Nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,zt=/^0[xX]/,Rt=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,Dt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ft=/($^)/,Ut=/['\n\r\u2028\u2029\\]/g,qt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Vt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wt=-1,$t={};$t[st]=$t[ct]=$t[lt]=$t[ft]=$t[ht]=$t[dt]=$t[pt]=$t[gt]=$t[vt]=!0,$t[Y]=$t[Z]=$t[ut]=$t[K]=$t[J]=$t[X]=$t[Q]=$t[tt]=$t[et]=$t[nt]=$t[rt]=$t[it]=$t[ot]=$t[at]=!1;var Ht={};Ht[Y]=Ht[Z]=Ht[ut]=Ht[K]=Ht[J]=Ht[st]=Ht[ct]=Ht[lt]=Ht[ft]=Ht[ht]=Ht[et]=Ht[nt]=Ht[rt]=Ht[ot]=Ht[dt]=Ht[pt]=Ht[gt]=Ht[vt]=!0,Ht[X]=Ht[Q]=Ht[tt]=Ht[it]=Ht[at]=!1;var Gt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Zt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kt={function:!0,object:!0},Jt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qt=Kt[o(e)]&&e&&!e.nodeType&&e,te=Kt[o(t)]&&t&&!t.nodeType&&t,ee=Qt&&te&&"object"==(void 0===r?"undefined":o(r))&&r&&r.Object&&r,ne=Kt["undefined"==typeof self?"undefined":o(self)]&&self&&self.Object&&self,re=Kt["undefined"==typeof window?"undefined":o(window)]&&window&&window.Object&&window,ie=te&&te.exports===Qt&&Qt,oe=ee||re!==(this&&this.window)&&re||ne||this,ae=P();"object"==o(n(21))&&n(21)?(oe._=ae,(i=function(){return ae}.call(e,n,e,t))!==k&&(t.exports=i)):Qt&&te?ie?(te.exports=ae)._=ae:Qt._=ae:oe._=ae}).call(void 0)}).call(e,n(23)(t),n(22))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={type:{score:"score",staff:"staff",system:"system",slur:"slur",line:"line",voice:"voice",measure:"measure",note:"note",rest:"rest",chord:"chord",chordSymbol:"chordSymbol",clef:"clef",key:"key",timeSig:"timeSig",dynamic:"dynamic",page:"page",repeat:"repeat",text:"text"},font:{clefs:{treble:"9",base:"8",alto:"7"},timeSigs:{common:"«",half:"ª"},accidentals:{flat:"O",b:"O",doubleFlat:"X",natural:"p",sharp:"♕","#":"♕",doubleSharp:"♓"},flags:{eighth:{down:"♟",up:"¡"},sixteenth:{down:"¢",up:"£"},thirtysecond:{down:"¤",up:"¥"},sixtyfourth:{down:"¦",up:"§"},onehundredtwentyeighth:{down:"¨",up:"©"}},noteheads:{solid:"_",hollow:"`",whole:"♔"},rests:{1:"♞",2:"♛",4:"~",8:"t",16:"♜",32:"♗",64:"♘",128:"♙"}},clefs:{treble:"treble",base:"base",alto:"alto",tenor:"tenor"},noteTypes:[.5,1,2,4,8,16,32,64,128],measure:{defaultLength:200,minLength:75}};e.default=r},function(t,e,n){"use strict";var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(u,s){u=u||n(93);var c=u.window,l=u.document,f=new function(){function t(t,r,i,o,s){function c(n,c){"string"==typeof(c=c||(c=a(r,n))&&(c.get?c:c.value))&&"#"===c[0]&&(c=t[c.substring(1)]||c);var f,h="function"==typeof c,d=c,p=s||h&&!c.base?c&&c.get?n in t:t[n]:null;s&&p||(h&&p&&(c.base=p),h&&o!==!1&&(f=n.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[f[3].toLowerCase()+f[4]]=f[2]),d&&!h&&d.get&&"function"==typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(a(t,n)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=i),u(t,n,d))}var l={};if(r){for(var f in r)r.hasOwnProperty(f)&&!n.test(f)&&c(f);for(var f in l){var h=l[f],d=t["set"+h],p=t["get"+h]||d&&t["is"+h];!p||o!==!0&&0!==p.length||c(f,{get:p,set:d})}}return t}function e(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&f(this,n)}return this}var n=/^(statics|enumerable|beans|preserve)$/,r=[],i=r.slice,o=Object.create,a=Object.getOwnPropertyDescriptor,u=Object.defineProperty,c=r.forEach||function(t,e){for(var n=0,r=this.length;n<r;n++)t.call(e,this[n],n,this)},l=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},f=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t},h=function(t,e,n){if(t){var r=a(t,"length");(r&&"number"==typeof r.value?c:l).call(t,e,n=n||t)}return n};return t(e,{inject:function(e){if(e){var n=e.statics===!0?e:e.statics,r=e.beans,i=e.preserve;n!==e&&t(this.prototype,e,e.enumerable,r,i),t(this,n,!0,r,i)}for(var o=1,a=arguments.length;o<a;o++)this.inject(arguments[o]);return this},extend:function(){for(var e,n,r,i=this,a=0,s=arguments.length;a<s&&(!e||!n);a++)r=arguments[a],e=e||r.initialize,n=n||r.prototype;return e=e||function(){i.apply(this,arguments)},n=e.prototype=n||o(this.prototype),u(n,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this,!0),arguments.length&&this.inject.apply(e,arguments),e.base=i,e}},!0).inject({initialize:e,set:e,inject:function(){for(var e=0,n=arguments.length;e<n;e++){var r=arguments[e];r&&t(this,r,r.enumerable,r.beans,r.preserve)}return this},extend:function(){var t=o(this);return t.inject.apply(t,arguments)},each:function(t,e){return h(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:f,each:h,create:o,define:u,describe:a,clone:function(t){return f(new t.constructor,t)},isPlainObject:function(t){var n=null!=t&&t.constructor;return n&&(n===Object||n===e||"Object"===n.name)},pick:function(t,e){return t!==s?t:e},slice:function(t,e,n){return i.call(t,e,n)}}})};t.exports=f,f.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+f.each(this,function(t,e){if(!/^_/.test(e)){var n=void 0===t?"undefined":o(t);this.push(e+": "+("number"===n?g.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return f.importJSON(t,this)},exportJSON:function(t){return f.exportJSON(this,t)},toJSON:function(){return f.serialize(this)},set:function(t,e){return t&&f.filter(this,t,e,this._prioritize),this},statics:{exports:{enumerable:!0},extend:function t(){var e=t.base.apply(this,arguments),n=e.prototype._class;return n&&!f.exports[n]&&(f.exports[n]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"===(void 0===t?"undefined":o(t))&&"object"===(void 0===e?"undefined":o(e))){if(Array.isArray(t)&&Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(!f.equals(t[n],e[n]))return!1}else{var r=Object.keys(t),n=r.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var i=r[n];if(!e.hasOwnProperty(i)||!f.equals(t[i],e[i]))return!1}}return!0}return!1},read:function(t,e,n,r){if(this===f){var i=this.peek(t,e);return t.__index++,i}var o=this.prototype,a=o._readIndex,u=e||a&&t.__index||0,c=t.length,l=t[u];return r=r||c-u,l instanceof this||n&&n.readNull&&null==l&&r<=1?(a&&(t.__index=u+1),l&&n&&n.clone?l.clone():l):(l=f.create(o),a&&(l.__read=!0),l=l.initialize.apply(l,u>0||u+r<c?f.slice(t,u,u+r):t)||l,a&&(t.__index=u+l.__read,l.__read=s),l)},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,r){for(var i,o=[],a=e||0,u=r?a+r:t.length,s=a;s<u;s++)o.push(Array.isArray(i=t[s])?this.read(i,0,n):this.read(t,s,n,1));return o},readNamed:function(t,e,n,r,i){var o=this.getNamed(t,e),a=o!==s;if(a){var u=t._filtered;u||(u=t._filtered=f.create(t[0]),u._unfiltered=t[0]),u[e]=s}return this.read(a?[o]:t,n,r,i)},getNamed:function(t,e){var n=t[0];if(t._hasObject===s&&(t._hasObject=1===t.length&&f.isPlainObject(n)),t._hasObject)return e?n[e]:t._filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,n,r){function i(r){if(!(n&&r in n||o&&r in o)){var i=e[r];i!==s&&(t[r]=i)}}var o;if(r){for(var a,u={},c=0,l=r.length;c<l;c++)(a=r[c])in e&&(i(a),u[a]=!0);o=u}return Object.keys(e._unfiltered||e).forEach(i),t},isPlainValue:function(t,e){return f.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,n,r){e=e||{};var i,o=!r;if(o&&(e.formatter=new g(e.precision),r={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,r=this.references[n];if(!r){this.length++;var i=e.call(t),o=t._class;o&&i[0]!==o&&i.unshift(o),this.definitions[n]=i,r=this.references[n]=[n]}return r}}),t&&t._serialize){i=t._serialize(e,r);var a=t._class;!a||t._compactSerialize||!o&&n||i[0]===a||i.unshift(a)}else if(Array.isArray(t)){i=[];for(var u=0,s=t.length;u<s;u++)i[u]=f.serialize(t[u],e,n,r)}else if(f.isPlainObject(t)){i={};for(var c=Object.keys(t),u=0,s=c.length;u<s;u++){var l=c[u];i[l]=f.serialize(t[l],e,n,r)}}else i="number"==typeof t?e.formatter.number(t,e.precision):t;return o&&r.length>0?[["dictionary",r.definitions],i]:i},deserialize:function(t,e,n,r,i){var o=t,a=!n,u=a&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var s=t[0],c="dictionary"===s;if(1==t.length&&/^#/.test(s))return n.dictionary[s];s=f.exports[s],o=[];for(var l=s?1:0,h=t.length;l<h;l++)o.push(f.deserialize(t[l],e,n,c,u));if(s){var d=o;e?o=e(s,d,a||i):(o=f.create(s.prototype),s.apply(o,d))}}else if(f.isPlainObject(t)){o={},r&&(n.dictionary=o);for(var p in t)o[p]=f.deserialize(t[p],e,n)}return u?o[1]:o},exportJSON:function(t,e){var n=f.serialize(t,e);return e&&e.asString===!1?n:JSON.stringify(n)},importJSON:function(t,e){return f.deserialize("string"==typeof t?JSON.parse(t):t,function(t,n,r){var i=r&&e&&e.constructor===t,o=i?e:f.create(t.prototype);if(1===n.length&&o instanceof P&&(i||!(o instanceof O))){var a=n[0];f.isPlainObject(a)&&(a.insert=!1)}return(i?o.set:t).apply(o,n),i&&(e=null),o})},splice:function(t,e,n,r){var i=e&&e.length,o=n===s;(n=o?t.length:n)>t.length&&(n=t.length);for(var a=0;a<i;a++)e[a]._index=n+a;if(o)return t.push.apply(t,e),[];var u=[n,r];e&&u.push.apply(u,e);for(var c=t.splice.apply(t,u),a=0,l=c.length;a<l;a++)c[a]._index=s;for(var a=n+i,l=t.length;a<l;a++)t[a]._index=a;return c},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(t,e){if("string"!=typeof t)f.each(t,function(t,e){this.on(e,t)},this);else{var n=this._eventTypes,r=n&&n[t],i=this._callbacks=this._callbacks||{};i=i[t]=i[t]||[],i.indexOf(e)===-1&&(i.push(e),r&&r.install&&1===i.length&&r.install.call(this,t))}return this},off:function(t,e){if("string"!=typeof t)return void f.each(t,function(t,e){this.off(e,t)},this);var n,r=this._eventTypes,i=r&&r[t],o=this._callbacks&&this._callbacks[t];return o&&(!e||(n=o.indexOf(e))!==-1&&1===o.length?(i&&i.uninstall&&i.uninstall.call(this,t),delete this._callbacks[t]):n!==-1&&o.splice(n,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var r=f.slice(arguments,1),i=e&&e.target&&!e.currentTarget;n=n.slice(),i&&(e.currentTarget=this);for(var o=0,a=n.length;o<a;o++)if(n[o].apply(this,r)===!1){e&&e.stop&&e.stop();break}return i&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,r=t?"install":"uninstall";if(e)for(var i in n)if(n[i].length>0){var o=e[i],a=o&&o[r];a&&a.call(this,i)}},statics:{inject:function t(e){var n=e._events;if(n){var r={};f.each(n,function(t,n){var i="string"==typeof t,o=i?t:n,a=f.capitalize(o),u=o.substring(2).toLowerCase();r[u]=i?{}:t,o="_"+o,e["get"+a]=function(){return this[o]},e["set"+a]=function(t){var e=this[o];e&&this.off(u,e),t&&this.on(u,t),this[o]=t}}),e._eventTypes=r}return t.base.apply(this,arguments)}}},d=f.extend({_class:"PaperScope",initialize:function t(){a=this,this.settings=new f({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var n=at.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:ut.nativeModes},at.release(n)}if(!this.agent){var r=u.navigator.userAgent.toLowerCase(),i=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],o="darwin"===i?"mac":i,s=e.agent=e.browser={platform:o};o&&(s[o]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,n,r,i){if(!s.chrome){var o="opera"===e?r:/^(node|trident)$/.test(e)?i:n;s.version=o,s.versionNumber=parseFloat(o),e="trident"===e?"msie":e,s.name=e,s[e]=!0}}),s.chrome&&delete s.webkit,s.atom&&delete s.chrome}},version:"0.10.3",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){a.PaperScript.execute(t,this,e),X.updateFocus()},install:function(t){var e=this;f.each(["project","view","tool"],function(n){f.define(t,n,{configurable:!0,get:function(){return e[n]}})});for(var n in this)!/^_/.test(n)&&this[n]&&(t[n]=this[n])},setup:function(t){return a=this,this.project=new M(t),this},createCanvas:function(t,e){return at.getCanvas(t,e)},activate:function(){a=this},clear:function(){for(var t=this.projects,e=this.tools,n=this.palettes,r=t.length-1;r>=0;r--)t[r].remove();for(var r=e.length-1;r>=0;r--)e[r].remove();for(var r=n.length-1;r>=0;r--)n[r].remove()},remove:function(){this.clear(),delete d._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),p=f.extend(h,{initialize:function(t){this._scope=a,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(f.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),g=f.extend({initialize:function(t){this.precision=f.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});g.instance=new g;var v=new function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t,e,n){function r(t){var e=134217729*t,n=t-e,r=n+e;return[r,t-r]}var i=e*e-t*n,a=e*e+t*n;if(3*o(i)<a){var u=r(t),s=r(e),c=r(n),l=e*e,f=s[0]*s[0]-l+2*s[0]*s[1]+s[1]*s[1],h=t*n;i=l-h+(f-(u[0]*c[0]-h+u[0]*c[1]+u[1]*c[0]+u[1]*c[1]))}return i}function n(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?u(2,-Math.round(s(t))):0}var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],i=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],o=Math.abs,a=Math.sqrt,u=Math.pow,s=Math.log2||function(t){return Math.log(t)*Math.LOG2E},c=1e-12,l=1.12e-16;return{EPSILON:c,MACHINE_EPSILON:l,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(t){return t>=-c&&t<=c},clamp:t,integrate:function(t,e,n,o){for(var a=r[o-2],u=i[o-2],s=.5*(n-e),c=s+e,l=0,f=o+1>>1,h=1&o?u[l++]*t(c):0;l<f;){var d=s*a[l];h+=u[l++]*(t(c+d)+t(c-d))}return s*h},findRoot:function(e,n,r,i,a,u,s){for(var c=0;c<u;c++){var l=e(r),f=l/n(r),h=r-f;if(o(f)<s){r=h;break}l>0?(a=r,r=h<=i?.5*(i+a):h):(i=r,r=h>=a?.5*(i+a):h)}return t(r,i,a)},solveQuadratic:function(r,i,u,s,f,h){var d,p=1/0;if(o(r)<c){if(o(i)<c)return o(u)<c?-1:0;d=-u/i}else{i*=-.5;var g=e(r,i,u);if(g&&o(g)<l){var v=n(o(r),o(i),o(u));v&&(r*=v,i*=v,u*=v,g=e(r,i,u))}if(g>=-l){var _=g<0?0:a(g),m=i+(i<0?-_:_);0===m?(d=u/r,p=-d):(d=m/r,p=u/m)}}var y=0,w=null==f,b=f-c,x=h+c;return isFinite(d)&&(w||d>b&&d<x)&&(s[y++]=w?d:t(d,f,h)),p!==d&&isFinite(p)&&(w||p>b&&p<x)&&(s[y++]=w?p:t(p,f,h)),y},solveCubic:function(e,r,i,s,f,h,d){function p(t){g=t;var n=e*g;_=n+r,m=_*g+i,y=(n+_)*g+m,w=m*g+s}var g,_,m,y,w,b=n(o(e),o(r),o(i),o(s));if(b&&(e*=b,r*=b,i*=b,s*=b),o(e)<c)e=r,_=i,m=s,g=1/0;else if(o(s)<c)_=r,m=i,g=0;else{p(-(r/e)/3);var x=w/e,S=u(o(x),1/3),C=x<0?-1:1,A=-y/e,M=A>0?1.324717957244746*Math.max(S,a(A)):S,P=g-C*M;if(P!==g){do{p(P),P=0===y?g:g-w/y/(1+l)}while(C*P>C*g);o(e)*g*g>o(s/g)&&(m=-s/g,_=(m-i)/g)}}var k=v.solveQuadratic(e,_,m,f,h,d),O=null==h;return isFinite(g)&&(0===k||k>0&&g!==f[0]&&g!==f[1])&&(O||g>h-c&&g<d+c)&&(f[k++]=O?g:t(g,h,d)),k}}},_={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},m=f.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=void 0===t?"undefined":o(t),r=this.__read,i=0;if("number"===n){var a="number"==typeof e;this._set(t,a?e:t),r&&(i=a?2:1)}else if("undefined"===n||null===t)this._set(0,0),r&&(i=null===t?1:0);else{var u="string"===n?t.split(/[\s,]+/)||[]:t;i=1,Array.isArray(u)?this._set(+u[0],+(u.length>1?u[1]:u[0])):"x"in u?this._set(u.x||0,u.y||0):"width"in u?this._set(u.width||0,u.height||0):"angle"in u?(this._set(u.length||0,0),this.setAngle(u.angle||0)):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new m(this.x,this.y)},toString:function(){var t=g.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();v.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=m.read(arguments),e=this.getLength()*t.getLength();if(v.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=m.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=m.read(arguments),e=t.x-this.x,n=t.y-this.y,r=e*e+n*n;return f.read(arguments)?r:Math.sqrt(r)},normalize:function(t){t===s&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,r=new m(this.x*n,this.y*n);return n>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,r=Math.sin(t),i=Math.cos(t);return n=new m(n.x*i-n.y*r,n.x*r+n.y*i),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=m.read(arguments);return new m(this.x+t.x,this.y+t.y)},subtract:function(){var t=m.read(arguments);return new m(this.x-t.x,this.y-t.y)},multiply:function(){var t=m.read(arguments);return new m(this.x*t.x,this.y*t.y)},divide:function(){var t=m.read(arguments);return new m(this.x/t.x,this.y/t.y)},modulo:function(){var t=m.read(arguments);return new m(this.x%t.x,this.y%t.y)},negate:function(){return new m(-this.x,-this.y)},isInside:function(){return x.read(arguments).contains(this)},isClose:function(){var t=m.read(arguments),e=f.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=m.read(arguments);return m.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=m.read(arguments);return m.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function t(){var t=v.isZero;return t(this.x)&&t(this.y)},isNaN:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return isNaN(this.x)||isNaN(this.y)}),isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=m.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=m.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=m.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new m(t.x*e,t.y*e)},statics:{min:function(){var t=m.read(arguments),e=m.read(arguments);return new m(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=m.read(arguments),e=m.read(arguments);return new m(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new m(Math.random(),Math.random())},isCollinear:function(t,e,n,r){return Math.abs(t*r-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+r*r))},isOrthogonal:function(t,e,n,r){return Math.abs(t*n+e*r)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+r*r))}}},f.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new m(e(this.x),e(this.y))}},{})),y=m.extend({initialize:function(t,e,n,r){this._x=t,this._y=e,this._owner=n,this._setter=r},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),w=f.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=void 0===t?"undefined":o(t),r=this.__read,i=0;if("number"===n){var a="number"==typeof e;this._set(t,a?e:t),r&&(i=a?2:1)}else if("undefined"===n||null===t)this._set(0,0),r&&(i=null===t?1:0);else{var u="string"===n?t.split(/[\s,]+/)||[]:t;i=1,Array.isArray(u)?this._set(+u[0],+(u.length>1?u[1]:u[0])):"width"in u?this._set(u.width||0,u.height||0):"x"in u?this._set(u.x||0,u.y||0):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new w(this.width,this.height)},toString:function(){var t=g.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=w.read(arguments);return new w(this.width+t.width,this.height+t.height)},subtract:function(){var t=w.read(arguments);return new w(this.width-t.width,this.height-t.height)},multiply:function(){var t=w.read(arguments);return new w(this.width*t.width,this.height*t.height)},divide:function(){var t=w.read(arguments);return new w(this.width/t.width,this.height/t.height)},modulo:function(){var t=w.read(arguments);return new w(this.width%t.width,this.height%t.height)},negate:function(){return new w(-this.width,-this.height)},isZero:function t(){var t=v.isZero;return t(this.width)&&t(this.height)},isNaN:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return isNaN(this.width)||isNaN(this.height)}),statics:{min:function(t,e){return new w(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new w(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new w(Math.random(),Math.random())}}},f.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new w(e(this.width),e(this.height))}},{})),b=w.extend({initialize:function(t,e,n,r){this._width=t,this._height=e,this._owner=n,this._setter=r},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),x=f.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,r){var i,a=void 0===t?"undefined":o(t);if("number"===a?(this._set(t,e,n,r),i=4):"undefined"===a||null===t?(this._set(0,0,0,0),i=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),i=1):t.x!==s||t.width!==s?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),i=1):t.from===s&&t.to===s&&(this._set(0,0,0,0),f.filter(this,t),i=1)),i===s){var u,c,l=m.readNamed(arguments,"from"),h=f.peek(arguments),d=l.x,p=l.y;if(h&&h.x!==s||f.hasNamed(arguments,"to")){var g=m.readNamed(arguments,"to");u=g.x-d,c=g.y-p,u<0&&(d=g.x,u=-u),c<0&&(p=g.y,c=-c)}else{var v=w.read(arguments);u=v.width,c=v.height}this._set(d,p,u,c),i=arguments.__index}return this.__read&&(this.__read=i),this},set:"#initialize",_set:function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},clone:function(){return new x(this.x,this.y,this.width,this.height)},equals:function(t){var e=f.isPlainValue(t)?x.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=g.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?m:y)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=m.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?w:b)(this.width,this.height,this,"setSize")},setSize:function(){var t=w.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(t){this._fixX!==s&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=t-this.width:this.width=t-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(t){this._fixY!==s&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=t-this.height:this.height=t-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,this._fixY=.5},getCenter:function(t){return new(t?m:y)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=m.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==s||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(x.read(arguments)):this._containsPoint(m.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=x.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height},touches:function(){var t=x.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height},intersect:function(){var t=x.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y);return new x(e,n,Math.min(this.x+this.width,t.x+t.width)-e,Math.min(this.y+this.height,t.y+t.height)-n)},unite:function(){var t=x.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y);return new x(e,n,Math.max(this.x+this.width,t.x+t.width)-e,Math.max(this.y+this.height,t.y+t.height)-n)},include:function(){var t=m.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y);return new x(e,n,Math.max(this.x+this.width,t.x)-e,Math.max(this.y+this.height,t.y)-n)},expand:function(){var t=w.read(arguments),e=t.width,n=t.height;return new x(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===s?t:e)-this.height)}},f.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),r=/^[RL]/.test(n);e>=4&&(t[1]+=r?"Y":"X");var i=t[r?0:1],o=t[r?1:0],a="get"+i,u="get"+o,s="set"+i,c="set"+o,l="get"+n,f="set"+n;this[l]=function(t){return new(t?m:y)(this[a](),this[u](),this,f)},this[f]=function(){var t=m.read(arguments);this[s](t.x),this[c](t.y)}},{beans:!0})),S=x.extend({initialize:function(t,e,n,r,i,o){this._set(t,e,n,r,!0),this._owner=i,this._setter=o},_set:function(t,e,n,r,i){return this._x=t,this._y=e,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){var t=x.prototype;return f.each(["x","y","width","height"],function(t){var e=f.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}},f.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e.changeSelection&&e.changeSelection(2,t)}}))}),C=f.extend({_class:"Matrix",initialize:function t(e,n){var r=arguments.length,i=!0;if(r>=6?this._set.apply(this,arguments):1===r||2===r?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,n):Array.isArray(e)?this._set.apply(this,n?e.concat([n]):e):i=!1:r?i=!1:this.reset(),!i)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,r,i,o,a){return this._a=t,this._b=e,this._c=n,this._d=r,this._tx=i,this._ty=o,a||this._changed(),this},_serialize:function(t,e){return f.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new C(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=g.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,!0,f.pick(t,!0),e),this.isIdentity())},translate:function(){var t=m.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function t(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=m.read(arguments,1),n=e.x,r=e.y,i=Math.cos(t),o=Math.sin(t),a=n-n*i+r*o,u=r-n*o-r*i,s=this._a,c=this._b,l=this._c,f=this._d;return this._a=i*s+o*l,this._b=i*c+o*f,this._c=-o*s+i*l,this._d=-o*c+i*f,this._tx+=a*s+u*l,this._ty+=a*c+u*f,this._changed(),this},shear:function t(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,r=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*r,e&&this.translate(e.negate()),this._changed(),this},skew:function t(){var t=m.read(arguments),e=m.read(arguments,0,{readNull:!0}),n=Math.PI/180,r=new m(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(r,e)},append:function(t){if(t){var e=this._a,n=this._b,r=this._c,i=this._d,o=t._a,a=t._c,u=t._b,s=t._d,c=t._tx,l=t._ty;this._a=o*e+u*r,this._c=a*e+s*r,this._b=o*n+u*i,this._d=a*n+s*i,this._tx+=c*e+l*r,this._ty+=c*n+l*i,this._changed()}return this},prepend:function(t){if(t){var e=this._a,n=this._b,r=this._c,i=this._d,o=this._tx,a=this._ty,u=t._a,s=t._c,c=t._b,l=t._d,f=t._tx,h=t._ty;this._a=u*e+s*n,this._c=u*r+s*i,this._b=c*e+l*n,this._d=c*r+l*i,this._tx=u*o+s*a+f,this._ty=c*o+l*a+h,this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,r=this._d,i=this._tx,o=this._ty,a=t*r-e*n,u=null;return a&&!isNaN(a)&&isFinite(i)&&isFinite(o)&&(this._a=r/a,this._b=-e/a,this._c=-n/a,this._d=t/a,this._tx=(n*o-r*i)/a,this._ty=(e*i-t*o)/a,u=this),u},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new C(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(m.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var r=t.x,i=t.y;return e||(e=new m),e._set(r*this._a+i*this._c+this._tx,r*this._b+i*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var r=0,i=2*n;r<i;r+=2){var o=t[r],a=t[r+1];e[r]=o*this._a+a*this._c+this._tx,e[r+1]=o*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,r=e+t.width,i=n+t.height,o=[e,n,r,n,r,i,e,i];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,n){for(var r=this._transformCorners(t),i=r.slice(0,2),o=i.slice(),a=2;a<8;a++){var u=r[a],s=1&a;u<i[s]?i[s]=u:u>o[s]&&(o[s]=u)}return e||(e=new x),e._set(i[0],i[1],o[0]-i[0],o[1]-i[1],n)},inverseTransform:function(){return this._inverseTransform(m.read(arguments))},_inverseTransform:function(t,e,n){var r=this._a,i=this._b,o=this._c,a=this._d,u=this._tx,s=this._ty,c=r*a-i*o,l=null;if(c&&!isNaN(c)&&isFinite(u)&&isFinite(s)){var f=t.x-this._tx,h=t.y-this._ty;e||(e=new m),l=e._set((f*a-h*o)/c,(h*r-f*i)/c,n)}return l},decompose:function(){var t,e,n,r=this._a,i=this._b,o=this._c,a=this._d,u=r*a-i*o,s=Math.sqrt,c=Math.atan2,l=180/Math.PI;if(0!==r||0!==i){var f=s(r*r+i*i);t=Math.acos(r/f)*(i>0?1:-1),e=[f,u/f],n=[c(r*o+i*a,f*f),0]}else if(0!==o||0!==a){var h=s(o*o+a*a);t=Math.asin(o/h)*(a>0?1:-1),e=[u/h,h],n=[0,c(r*o+i*a,h*h)]}else t=0,n=e=[0,0];return{translation:this.getTranslation(),rotation:t*l,scaling:new m(e),skewing:new m(n[0]*l,n[1]*l)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new m(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},f.each(["a","b","c","d","tx","ty"],function(t){var e=f.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}},{})),A=f.extend({_class:"Line",initialize:function(t,e,n,r,i){var o=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=r,o=i):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new m(this._px,this._py)},getVector:function(){return new m(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return A.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return A.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(A.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0))},isCollinear:function(t){return m.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return m.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,r,i,o,a,u,s,c){s||(n-=t,r-=e,a-=i,u-=o);var l=n*u-r*a;if(!v.isZero(l)){var f=t-i,h=e-o,d=(a*h-u*f)/l,p=(n*h-r*f)/l,g=1e-12,_=-g,y=1+g;if(c||_<d&&d<y&&_<p&&p<y)return c||(d=d<=0?0:d>=1?1:d),new m(t+d*n,e+d*r)}},getSide:function(t,e,n,r,i,o,a,u){a||(n-=t,r-=e);var s=i-t,c=o-e,l=s*r-c*n;return!u&&v.isZero(l)&&(l=(s*n+s*n)/(n*n+r*r))>=0&&l<=1&&(l=0),l<0?-1:l>0?1:0},getSignedDistance:function(t,e,n,r,i,o,a){return a||(n-=t,r-=e),0===n?r>0?i-t:t-i:0===r?n<0?o-e:e-o:((i-t)*r-(o-e)*n)/Math.sqrt(n*n+r*r)},getDistance:function(t,e,n,r,i,o,a){return Math.abs(A.getSignedDistance(t,e,n,r,i,o,a))}}}),M=p.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){p.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Z(null,null,this),this._view=X.create(this,t||at.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return f.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var r=this._changes;if(r&&e){var i=this._changesById,o=e._id,a=i[o];a?a.flags|=t:r.push(i[o]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new O({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:j,match:function(n){var r=n._definition,i=r._id;return e[i]||(e[i]=!0,t.push(r)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var r=t[n],i=r._selection;1&i&&r.isInserted()?e.push(r):i||this._updateSelection(r)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(s,t)},insertLayer:function(t,e){if(e instanceof O){e._remove(!1,!0),f.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(s,new O(P.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return P._getItems(this,t)},getItem:function(t){return P._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return f.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var r in n){var i=n[r];for(var o in e){var a=e[o];a&&a!=n&&delete a[i._id]}i.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var r=this._children,i=new f({offset:new m(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new C],updateMatrix:!0}),o=0,a=r.length;o<a;o++)r[o].draw(t,i);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var u=this._selectionItems,s=this._scope.settings.handleSize,c=this._updateVersion;for(var l in u)u[l]._drawSelection(t,e,s,u,c);t.restore()}}}),P=f.extend(h,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=f.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new C,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return f.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&f.isPlainObject(t),r=n&&t.internal===!0,i=this._matrix=new C,o=n&&t.project||a.project,u=a.settings;return this._id=r?null:_.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&u.applyMatrix,e&&i.translate(e),i._owner=this,this._style=new Z(o._currentStyle,this,o),r||n&&t.insert===!1||!u.insertItems&&(!n||t.insert!==!0)?this._setProject(o):(n&&t.parent||o)._insertItem(s,this,!0),n&&t!==P.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(t,e){function n(n){for(var o in n){var a=i[o];f.equals(a,"leading"===o?1.2*n.fontSize:n[o])||(r[o]=f.serialize(a,t,"data"!==o,e))}}var r={},i=this;return n(this._serializeFields),this instanceof k||n(this._style._defaults),[this._class,r]},_changed:function(t){var e=this._symbol,n=this._parent||e,r=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=s),n&&40&t&&P._clearBoundsCache(n),2&t&&P._clearBoundsCache(this),r&&r._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,r=e._namedChildren;(r[t]=r[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||s,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},f.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=f.capitalize(t),t="_"+t;this["get"+e]=function(){return this[t]},this["set"+e]=function(e){e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].setSelected(t);this.changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,r=t.length;n<r;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,r=e.length;n<r;n++)e[n].setFullySelected(t);this.changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?m:y;if(!e){var r=this._pivot;e=this._position=r?this._matrix._transformPoint(r):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(m.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new y(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=m.read(arguments,0,{clone:!0,readNull:!0}),this._position=s}},f.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof C,r=f.set({},n?e:t,this._boundsOptions);r.stroke&&!this.getStrokeScaling()||(r.cacheItem=this);var i=this._getCachedBounds(n&&t,r);return arguments.length?i:new S(i.x,i.y,i.width,i.height,this,"setBounds")},setBounds:function(){var t=x.read(arguments),e=this.getBounds(),n=this._matrix,r=new C,i=t.getCenter();r.translate(i),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new C).translate(n.getTranslation())),e=this.getBounds()),r.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),i=e.getCenter(),r.translate(-i.x,-i.y),this.transform(r)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(P._updateBoundsCache(this,e.cacheItem),P._getBounds(n,t,e)):new x},_getCachedBounds:function(t,e){t=t&&t._orNullIfIdentity();var n=e.internal,r=e.cacheItem,i=n?null:this._matrix._orNullIfIdentity(),o=r&&(!t||t.equals(i))&&[e.stroke?1:0,e.handle?1:0,n?1:0].join("");if(P._updateBoundsCache(this._parent||this._symbol,r),o&&this._bounds&&o in this._bounds)return this._bounds[o].rect.clone();var a=this._getBounds(t||i,e);if(o){this._bounds||(this._bounds={});this._bounds[o]={rect:a.clone(),internal:e.internal}}return a},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,r=n?n.getViewMatrix().invert():t;return r&&r._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,r=t._boundsCache=t._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(e),r.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=s;for(var n=0,r=e.list,i=r.length;n<i;n++){var o=r[n];o!==t&&(o._bounds=o._position=s,o._boundsCache&&P._clearBoundsCache(o))}}},_getBounds:function(t,e,n){var r=1/0,i=-r,o=r,a=i;n=n||{};for(var u=0,s=t.length;u<s;u++){var c=t[u];if(c._visible&&!c.isEmpty()){var l=c._getCachedBounds(e&&e.appended(c._matrix),n);r=Math.min(l.x,r),o=Math.min(l.y,o),i=Math.max(l.x+l.width,i),a=Math.max(l.y+l.height,a)}}return isFinite(r)?new x(r,o,i-r,a-o):new x}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new y(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=m.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this._decomposed;this.scale(e.x/t.x,e.y/t.y),n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&e.prepend(r.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof O)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return f.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(P.NO_INSERT),n=this._children,r=f.pick(t?t.insert:s,t===s||t===!0),i=f.pick(t?t.deep:s,!0);n&&e.copyAttributes(this),n&&!i||e.copyContent(this),n||e.copyAttributes(this),r&&e.insertAbove(this);var o=this._name,a=this._parent;if(o&&a){for(var n=a._children,u=o,c=1;n[o];)o=u+" "+c++;o!==u&&e.setName(o)}return e},copyContent:function(t){for(var e=t._children,n=0,r=e&&e.length;n<r;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,i=n.length;r<i;r++){var o=n[r];t.hasOwnProperty(o)&&(this[o]=t[o])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,u=t._name;this._data=a?f.clone(a):null,u&&this.setName(u)},rasterize:function(t,e){var n=this.getStrokeBounds(),r=(t||this.getView().getResolution())/72,i=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),a=new w(o.subtract(i)),u=new I(P.NO_INSERT);if(!a.isZero()){var c=at.getCanvas(a.multiply(r)),l=c.getContext("2d"),h=(new C).scale(r).translate(i.negate());l.save(),h.applyToContext(l),this.draw(l,new f({matrices:[h]})),l.restore(),u.setCanvas(c)}return u.transform((new C).translate(i.add(a.divide(2))).scale(1/r)),(e===s||e)&&u.insertAbove(this),u},contains:function(){return!!this._contains(this._matrix._inverseTransform(m.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;n>=0;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return x.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new F.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof P&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(m.read(arguments),N.getOptions(arguments))}function e(){var t=m.read(arguments),e=N.getOptions(arguments),n=[];return this._hitTest(t,f.set({all:n},e)),n}function n(t,e,n,r){var i=this._children;if(i)for(var o=i.length-1;o>=0;o--){var a=i[o],u=a!==r&&a._hitTest(t,e,n);if(u&&!e.all)return u}return null}return M.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(t,e,n){function r(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function i(e,n){var r=c["get"+n]();if(t.subtract(r).divide(s).length<=1)return new N(e,p,{name:f.hyphenate(n),point:r})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var o=this._matrix,a=n?n.appended(o):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(e.tolerance,1e-12),s=e._tolerancePadding=new w(F._getStrokePadding(u,o.inverted()._shiftless()));if(!(t=o._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(s.multiply(2))._containsPoint(t))return null;var c,l,h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==f.hyphenate(this._class)||e.class&&!(this instanceof e.class)),d=e.match,p=this;if(h&&(e.center||e.bounds)&&this._parent){if(c=this.getInternalBounds(),e.center&&(l=i("center","Center")),!l&&e.bounds)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],v=0;v<8&&!l;v++)l=i("bounds",g[v]);l=r(l)}return l||(l=this._hitTestChildren(t,e,a)||h&&r(this._hitTestSelf(t,e,a,this.getStrokeScaling()?null:a.inverted()._shiftless()))||null),l&&l.point&&(l.point=o.transform(l.point)),l},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new N("fill",this)},matches:function(t,e){function n(t,e){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=e[r];if(f.isPlainObject(i)&&f.isPlainObject(o)){if(!n(i,o))return!1}else if(!f.equals(i,o))return!1}return!0}var r=void 0===t?"undefined":o(t);if("object"===r){for(var i in t)if(t.hasOwnProperty(i)&&!this.matches(i,t[i]))return!1;return!0}if("function"===r)return t(this);if("match"===t)return e(this);var a=/^(empty|editable)$/.test(t)?this["is"+f.capitalize(t)]():"type"===t?f.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;a=this._class}if("function"==typeof e)return!!e(a);if(e){if(e.test)return e.test(a);if(f.isPlainObject(e))return n(e,a)}return f.equals(a,e)},getItems:function(t){return P._getItems(this,t,this._matrix)},getItem:function(t){return P._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,n,r,i,a){if(!i){var u="object"===(void 0===n?"undefined":o(n))&&n,s=u&&u.overlapping,c=u&&u.inside,l=s||c,h=l&&x.read([l]);i={items:[],recursive:u&&u.recursive!==!1,inside:!!c,overlapping:!!s,rect:h,path:s&&new F.Rectangle({rectangle:h,insert:!1})},u&&(n=f.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var d=e._children,p=i.items,h=i.rect;r=h&&(r||new C);for(var g=0,v=d&&d.length;g<v;g++){var _=d[g],m=r&&r.appended(_._matrix),y=!0;if(h){var l=_.getBounds(m);if(!h.intersects(l))continue;h.contains(l)||i.overlapping&&(l.contains(h)||i.path.intersects(_,m))||(y=!1)}if(y&&_.matches(n)&&(p.push(_),a))break;if(i.recursive!==!1&&t(_,n,m,i,a),a&&p.length>0)break}return p}}},{importJSON:function(t){var e=f.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(s,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&e.length>0){e=f.slice(e);for(var r=e.length-1;r>=0;r--){var i=e[r];i?i._remove(!1,!0):e.splice(r,1)}f.splice(n,e,t,0);for(var o=this._project,a=o._changes,r=0,u=e.length;r<u;r++){var i=e[r],s=i._name;i._parent=this,i._setProject(o,!0),s&&i.setName(s),a&&this._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),r=t!==this&&n?this:null;return r&&(r._remove(!1,!0),n._insertItem(t._index+e,r)),r},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(s,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",copyTo:function(t){return t._insertItem(s,this.clone(!1))},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,r=this._name,i=n[r],o=i?i.indexOf(this):-1;o!==-1&&(e[r]==this&&delete e[r],i.splice(o,1),i.length?e[r]=i[0]:delete n[r])}},_remove:function(t,e){var n=this._getOwner(),r=this._project,i=this._index;return!!n&&(this._name&&this._removeNamed(),null!=i&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),f.splice(n._children,null,i,1)),this._installEvents(!1),t&&r._changes&&this._changed(5),e&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=f.pick(e,this._children.length);for(var n=f.splice(this._children,null,t,e-t),r=n.length-1;r>=0;r--)n[r]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var n=e(this),r=e(t),i=0,o=Math.min(n.length,r.length);i<o;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},f.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?f:m).read(arguments),r=m.read(arguments,0,{readNull:!0});return this.transform((new C)[t](n,r||this.getPosition(!0)))}},{translate:function(){var t=new C;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n,r){t&&t.isIdentity()&&(t=null);var i=this._matrix,o=(e||this._applyMatrix)&&(!i.isIdentity()||t||e&&n&&this._children);if(!t&&!o)return this;if(t&&(!t.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(t)),o=o&&this._transformContent(i,n,r)){var a=this._pivot,u=this._style,s=u.getFillColor(!0),c=u.getStrokeColor(!0);a&&i._transformPoint(a,a,!0),s&&s.transform(i),c&&c.transform(i),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var l=this._bounds,f=this._position;this._changed(9);var h=l&&t&&t.decompose();if(h&&!h.shearing&&h.rotation%90==0){for(var d in l){var p=l[d];if(o||!p.internal){var g=p.rect;t._transformBounds(g,g)}}var v=this._boundsGetter,g=l[v&&v.getBounds||v||"getBounds"];g&&(this._position=g.getCenter(!0)),this._bounds=l}else t&&f&&(this._position=t._transformPoint(f,f));return this},_transformContent:function(t,e,n){var r=this._children;if(r){for(var i=0,o=r.length;i<o;i++)r[i].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(m.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(m.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(m.read(arguments))},localToParent:function(){return this._matrix._transformPoint(m.read(arguments))},fitBounds:function(t,e){t=x.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=t.height/t.width,o=(e?r>i:r<i)?t.width/n.width:t.height/n.height,a=new x(new m,new w(n.width*o,n.height*o));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,n){var r=this._style;if(r.hasFill()&&(t.fillStyle=r.getFillColor().toCanvasStyle(t)),r.hasStroke()){t.strokeStyle=r.getStrokeColor().toCanvasStyle(t),t.lineWidth=r.getStrokeWidth();var i=r.getStrokeJoin(),o=r.getStrokeCap(),u=r.getMiterLimit();if(i&&(t.lineJoin=i),o&&(t.lineCap=o),u&&(t.miterLimit=u),a.support.nativeDash){var s=r.getDashArray(),c=r.getDashOffset();s&&s.length&&("setLineDash"in t?(t.setLineDash(s),t.lineDashOffset=c):(t.mozDash=s,t.mozDashOffset=c))}}if(r.hasShadow()){var l=e.pixelRatio||1,f=n._shiftless().prepend((new C).scale(l,l)),h=f.transform(new m(r.getShadowBlur(),0)),d=f.transform(this.getShadowOffset());t.shadowColor=r.getShadowColor().toCanvasStyle(t),t.shadowBlur=h.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,n){var r=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var i=e.matrices,o=e.viewMatrix,a=this._matrix,u=i[i.length-1].appended(a);if(u.isInvertible()){o=o?o.appended(u):u,i.push(u),e.updateMatrix&&(u._updateVersion=r,this._globalMatrix=u);var s,c,l,f=this._blendMode,h=this._opacity,d="normal"===f,p=ut.nativeModes[f],g=d&&1===h||e.dontStart||e.clip||(p||d&&h<1)&&this._canComposite(),v=e.pixelRatio||1;if(!g){var _=this.getStrokeBounds(o);if(!_.width||!_.height)return;l=e.offset,c=e.offset=_.getTopLeft().floor(),s=t,t=at.getContext(_.getSize().ceil().add(1).multiply(v)),1!==v&&t.scale(v,v)}t.save();var m=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,y=!g&&e.clipItem,w=!m||y;if(g?(t.globalAlpha=h,p&&(t.globalCompositeOperation=f)):w&&t.translate(-c.x,-c.y),w&&(g?a:o).applyToContext(t),y&&e.clipItem.draw(t,e.extend({clip:!0})),m){t.setTransform(v,0,0,v,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,o,m),t.restore(),i.pop(),e.clip&&!e.dontFinish&&t.clip(),g||(ut.process(f,t,s,h,c.subtract(l).multiply(v)),at.release(t),e.offset=l)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof U)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,r,i){var o=this._selection,a=1&o,u=2&o||a&&this._selectBounds,s=4&o;if(this._drawSelected||(a=!1),(a||u||s)&&this._isUpdated(i)){var c,l=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),f=e.appended(this.getGlobalMatrix(!0)),h=n/2;if(t.strokeStyle=t.fillStyle=l?l.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,f,r),s){var d=this.getPosition(!0),p=d.x,g=d.y;t.beginPath(),t.arc(p,g,h,0,2*Math.PI,!0),t.stroke();for(var v=[[0,-1],[1,0],[0,1],[-1,0]],_=h,m=n+1,y=0;y<4;y++){var w=v[y],b=w[0],x=w[1];t.moveTo(p+b*_,g+x*_),t.lineTo(p+b*m,g+x*m),t.stroke()}}if(u){var S=f._transformCorners(this.getInternalBounds());t.beginPath();for(var y=0;y<8;y++)t[y?"lineTo":"moveTo"](S[y],S[++y]);t.closePath(),t.stroke();for(var y=0;y<8;y++)t.fillRect(S[y]-h,S[++y]-h,n,n)}}},_canComposite:function(){return!1}},f.each(["down","drag","up","move"],function(t){this["removeOn"+f.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this}return this}})),k=P.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),1026&e&&(this._clipItem=s)},_getClipItem:function(){var t=this._clipItem;if(t===s){t=null;for(var e=this._children,n=0,r=e.length;n<r;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,n){var r=this._getClipItem();return r?r._getCachedBounds(e&&e.appended(r._matrix),f.set({},n,{stroke:!1})):t.base.call(this,e,n)},_hitTestChildren:function t(e,n,r){var i=this._getClipItem();return(!i||i.contains(e))&&t.base.call(this,e,n,r,i)},_draw:function(t,e){var n=e.clip,r=!n&&this._getClipItem();e=e.extend({clipItem:r,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):r&&r.draw(t,e.extend({clip:!0}));for(var i=this._children,o=0,a=i.length;o<a;o++){var u=i[o];u!==r&&u.draw(t,e)}}}),O=k.extend({_class:"Layer",initialize:function(){k.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),T=P.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&f.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new b(t.width,t.height,this,"setSize")},setSize:function(){var t=w.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,r=t.height;"rectangle"===e?this._radius.set(w.min(this._radius,t.divide(2))):"circle"===e?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,r/2),this._size._set(n,r),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new b(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=w.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var n=w.max(this._size,t.multiply(2));this._size.set(n)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(F[f.capitalize(this._type)])({center:new m,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),a.settings.applyMatrix&&e.setApplyMatrix(!0),(t===s||t)&&e.insertAbove(this),e},toShape:"#clone",_draw:function(t,e,n,r){var i=this._style,o=i.hasFill(),a=i.hasStroke(),u=e.dontFinish||e.clip,s=!r;if(o||a||u){var c=this._type,l=this._radius,f="circle"===c;if(e.dontStart||t.beginPath(),s&&f)t.arc(0,0,l,0,2*Math.PI,!0);else{var h=f?l:l.width,d=f?l:l.height,p=this._size,g=p.width,v=p.height;if(s&&"rectangle"===c&&0===h&&0===d)t.rect(-g/2,-v/2,g,v);else{var _=g/2,m=v/2,y=.44771525016920644,w=h*y,b=d*y,x=[-_,-m+d,-_,-m+b,-_+w,-m,-_+h,-m,_-h,-m,_-w,-m,_,-m+b,_,-m+d,_,m-d,_,m-b,_-w,m,_-h,m,-_+h,m,-_+w,m,-_,m-b,-_,m-d];r&&r.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),_!==h&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),m!==d&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),_!==h&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}u||!o&&!a||(this._setStyles(t,e,n),o&&(t.fill(i.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new x(this._size).setCenter(0,0),r=this._style,i=e.stroke&&r.hasStroke()&&r.getStrokeWidth();return t&&(n=t._transformBounds(n)),i?n.expand(F._getStrokePadding(i,this._getStrokeMatrix(t,e))):n}},new function(){function t(t,e,n){var r=t._radius;if(!r.isZero())for(var i=t._size.divide(2),o=1;o<=4;o++){var a=new m(o>1&&o<4?-1:1,o>2?-1:1),u=a.multiply(i),s=u.subtract(a.multiply(r)),c=new x(n?u.add(a.multiply(n)):u,s);if(c.contains(e))return{point:s,quadrant:o}}}function e(t,e,n,r){var i=t.divide(e);return(!r||i.isInQuadrant(r))&&i.subtract(i.normalize()).multiply(e).divide(n).length<=1}return{_contains:function e(n){if("rectangle"===this._type){var r=t(this,n);return r?n.subtract(r.point).divide(this._radius).getLength()<=1:e.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(r,i,o,a){var u=!1,s=this._style,c=i.stroke&&s.hasStroke(),l=i.fill&&s.hasFill();if(c||l){var f=this._type,h=this._radius,d=c?s.getStrokeWidth()/2:0,p=i._tolerancePadding.add(F._getStrokePadding(d,!s.getStrokeScaling()&&a));if("rectangle"===f){var g=p.multiply(2),v=t(this,r,g);if(v)u=e(r.subtract(v.point),h,p,v.quadrant);else{var _=new x(this._size).setCenter(0,0),m=_.expand(g),y=_.expand(g.negate());u=m._containsPoint(r)&&!y._containsPoint(r)}}else u=e(r,h,p)}return u?new N(c?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,n,r,i){var o=new T(f.getNamed(i));return o._type=t,o._size=n,o._radius=r,o.translate(e)}return{Circle:function(){var e=m.readNamed(arguments,"center"),n=f.readNamed(arguments,"radius");return t("circle",e,new w(2*n),n,arguments)},Rectangle:function(){var e=x.readNamed(arguments,"rectangle"),n=w.min(w.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){var e=T._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments)},_readEllipse:function(t){var e,n;if(f.hasNamed(t,"radius"))e=m.readNamed(t,"center"),n=w.readNamed(t,"radius");else{var r=x.readNamed(t,"rectangle");e=r.getCenter(!0),n=r.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),I=P.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==s&&m.read(arguments,1))){var n="string"==typeof t?l.getElementById(t):t;n?this.setImage(n):this.setSource(t)}this._size||(this._size=new w,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var r=at.getCanvas(t._size);r.getContext("2d").drawImage(n,0,0),this._setImage(r)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new b(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=w.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(at.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&at.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new m(0,0).transform(t),n=new m(1,0).transform(t).subtract(e),r=new m(0,1).transform(t).subtract(e);return new w(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=n.getView(),r=t&&t.type||"load";e&&n.responds(r)&&(a=e._scope,n.emit(r,new tt(t)))}var n=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&J.add(t,{load:function(r){n._setImage(t),e(r)},error:e})},_setImage:function(t){this._canvas&&at.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new w(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=at.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){at.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new u.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=x.read(arguments),e=at.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=x.read(arguments),e=new I(P.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=m.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof D?(n=t,e=t.getBounds()):"object"===(void 0===t?"undefined":o(t))&&("width"in t?e=new x(t):"x"in t&&(e=new x(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var r=32,i=Math.min(e.width,r),a=Math.min(e.height,r),u=I._sampleContext;u?u.clearRect(0,0,r+1,r+1):u=I._sampleContext=at.getContext(new w(r)),u.save();var s=(new C).scale(i/e.width,a/e.height).translate(-e.x,-e.y);s.applyToContext(u),n&&n.draw(u,new f({clip:!0,matrices:[s]})),this._matrix.applyToContext(u);var c=this.getElement(),l=this._size;c&&u.drawImage(c,-l.width/2,-l.height/2),u.restore();for(var h=u.getImageData(.5,.5,Math.ceil(i),Math.ceil(a)).data,d=[0,0,0],p=0,g=0,v=h.length;g<v;g+=4){var _=h[g+3];p+=_,_/=255,d[0]+=h[g]*_,d[1]+=h[g+1]*_,d[2]+=h[g+2]*_}for(var g=0;g<3;g++)d[g]/=p;return p?H.read(d):null},getPixel:function(){var t=m.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new H("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=m.read(arguments),e=H.read(arguments),n=e._convert("rgb"),r=e._alpha,i=this.getContext(!0),o=i.createImageData(1,1),a=o.data;a[0]=255*n[0],a[1]=255*n[1],a[2]=255*n[2],a[3]=null!=r?255*r:255,i.putImageData(o,t.x,t.y)},createImageData:function(){var t=w.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=x.read(arguments);return t.isEmpty()&&(t=new x(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=m.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new x(this._size).setCenter(0,0);return t?t._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new N("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),j=P.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==s&&m.read(arguments,1))||this.setDefinition(t instanceof E?t:new E(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n,r){var i=this._definition._item._hitTest(t,e,n);return i&&(i.item=this),i},_draw:function(t,e){this._definition._item.draw(t,e)}}),E=f.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=_.get(),this.project=a.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return f.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&P._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new m),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new j(this,t)},clone:function(){return new E(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),N=f.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&(n.enumerable=!0,this.inject(n))},statics:{getOptions:function(t){var e=t&&f.read(t);return f.set({type:null,tolerance:a.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),L=f.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,r,i,a){var u,c,l,f,h=arguments.length;h>0&&(null==t||"object"===(void 0===t?"undefined":o(t))?1===h&&t&&"point"in t?(u=t.point,c=t.handleIn,l=t.handleOut,f=t.selection):(u=t,c=e,l=n,f=r):(u=[t,e],c=n!==s?[n,r]:null,l=i!==s?[i,a]:null)),new z(u,this,"_point"),new z(c,this,"_handleIn"),new z(l,this,"_handleOut"),f&&this.setSelection(f)},_serialize:function(t,e){var n=this._point,r=this._selection,i=r||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return r&&i.push(r),f.serialize(i,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n,r=e._curves,i=this._index;r&&(t&&t!==this._point&&t!==this._handleIn||!(n=i>0?r[i-1]:e._closed?r[r.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=r[i])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(m.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(m.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(m.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(129))},changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this.changeSelection(7,t)},getIndex:function(){return this._index!==s?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new B(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var r=t||{},i=r.type,o=r.factor,a=this.getPrevious(),u=this.getNext(),c=(a||this)._point,l=this._point,f=(u||this)._point,h=c.getDistance(l),d=l.getDistance(f);if(i&&"catmull-rom"!==i){if("geometric"!==i)throw new Error("Smoothing method '"+i+"' not supported.");if(a&&u){var p=c.subtract(f),g=o===s?.4:o,v=g*h/(h+d);e||this.setHandleIn(p.multiply(v)),n||this.setHandleOut(p.multiply(v-g))}}else{var _=o===s?.5:o,y=Math.pow(h,_),w=y*y,b=Math.pow(d,_),x=b*b;if(!e&&a){var S=2*x+3*b*y+w,C=3*b*(b+y);this.setHandleIn(0!==C?new m((x*c._x+S*l._x-w*f._x)/C-l._x,(x*c._y+S*l._y-w*f._y)/C-l._y):new m)}if(!n&&u){var S=2*w+3*y*b+x,C=3*y*(y+b);this.setHandleOut(0!==C?new m((w*f._x+S*l._x-x*c._x)/C-l._x,(w*f._y+S*l._y-x*c._y)/C-l._y):new m)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new L(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new L(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var r=1-n,i=n,o=t._point,a=e._point,u=t._handleIn,s=e._handleIn,c=e._handleOut,l=t._handleOut;this._point._set(r*o._x+i*a._x,r*o._y+i*a._y,!0),this._handleIn._set(r*u._x+i*s._x,r*u._y+i*s._y,!0),this._handleOut._set(r*l._x+i*c._x,r*l._y+i*c._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,o=n&&this._handleOut.isZero()?null:this._handleOut,a=r._x,u=r._y,s=2;return e[0]=a,e[1]=u,i&&(e[s++]=i._x+a,e[s++]=i._y+u),o&&(e[s++]=o._x+a,e[s++]=o._y+u),t&&(t._transformCoordinates(e,e,s/2),a=e[0],u=e[1],n?(r._x=a,r._y=u,s=2,i&&(i._x=e[s++]-a,i._y=e[s++]-u),o&&(o._x=e[s++]-a,o._y=e[s++]-u)):(i||(e[s++]=a,e[s++]=u),o||(e[s++]=a,e[s++]=u))),e}}),z=m.extend({initialize:function(t,e,n){var r,i,o;if(t)if((r=t[0])!==s)i=t[1];else{var a=t;(r=a.x)===s&&(a=m.read(arguments),r=a.x),i=a.y,o=a.selected}else r=i=0;this._x=r,this._y=i,this._owner=e,e[n]=this,o&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function t(){var t=v.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),R=f.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,r,i,o,a,u){var s,c,l,f,h,d,p=arguments.length;3===p?(this._path=t,s=e,c=n):p?1===p?"segment1"in t?(s=new L(t.segment1),c=new L(t.segment2)):"point1"in t?(l=t.point1,h=t.handle1,d=t.handle2,f=t.point2):Array.isArray(t)&&(l=[t[0],t[1]],f=[t[6],t[7]],h=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===p?(s=new L(t),c=new L(e)):4===p?(l=t,h=e,d=n,f=r):8===p&&(l=[t,e],f=[a,u],h=[n-t,r-e],d=[i-a,o-u]):(s=new L,c=new L),this._segment1=s||new L(l,null,h),this._segment2=c||new L(f,d,null)},_serialize:function(t,e){return f.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=s},clone:function(){return new R(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return R.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(m.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(m.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(m.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(m.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return R.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new m(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=R.getLength(this.getValues(),0,1)),this._length},getArea:function(){return R.getArea(this.getValues())},getLine:function(){return new A(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new R(R.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return R.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=1e-8,r=1-n,i=null;if(t>=n&&t<=r){var o=R.subdivide(this.getValues(),t),a=o[0],u=o[1],s=e||this.hasHandles(),c=this._segment1,l=this._segment2,f=this._path;s&&(c._handleOut._set(a[2]-a[0],a[3]-a[1]),l._handleIn._set(u[4]-u[6],u[5]-u[7]));var h=a[6],d=a[7],p=new L(new m(h,d),s&&new m(a[4]-h,a[5]-d),s&&new m(u[2]-h,u[3]-d));f?(f.insert(c._index+1,p),i=this.getNext()):(this._segment2=p,this._changed(),i=new R(p,l))}return i},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===s?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===s?.5:e?t:this.getTimeAt(t))},reversed:function(){return new R(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,r){var i=t._point,o=t._handleOut,a=e._handleIn,u=e._point,s=i.x,c=i.y,l=u.x,f=u.y,h=r?[s,c,s,c,l,f,l,f]:[s,c,s+o._x,c+o._y,l+a._x,f+a._y,l,f];return n&&n._transformCoordinates(h,h,4),h},subdivide:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],c=t[6],l=t[7];e===s&&(e=.5);var f=1-e,h=f*n+e*i,d=f*r+e*o,p=f*i+e*a,g=f*o+e*u,v=f*a+e*c,_=f*u+e*l,m=f*h+e*p,y=f*d+e*g,w=f*p+e*v,b=f*g+e*_,x=f*m+e*w,S=f*y+e*b;return[[n,r,h,d,m,y,x,S],[x,S,w,b,v,_,c,l]]},getMonoCurves:function(t,e){var n=[],r=e?0:1,i=t[r+0],o=t[r+2],a=t[r+4],u=t[r+6];if(i>=o==o>=a&&o>=a==a>=u||R.isStraight(t))n.push(t);else{var s=3*(o-a)-i+u,c=2*(i+a)-4*o,l=o-i,f=1e-8,h=1-f,d=[],p=v.solveQuadratic(s,c,l,d,f,h);if(p){d.sort();var g=d[0],_=R.subdivide(t,g);n.push(_[0]),p>1&&(g=(d[1]-g)/(1-g),_=R.subdivide(_[1],g),n.push(_[0])),n.push(_[1])}else n.push(t)}return n},solveCubic:function(t,e,n,r,i,o){var a=t[e],u=t[e+2],s=t[e+4],c=t[e+6],l=0;if(!(a<n&&c<n&&u<n&&s<n||a>n&&c>n&&u>n&&s>n)){var f=3*(u-a),h=3*(s-u)-f,d=c-a-f-h;l=v.solveCubic(d,h,f,a-n,r,i,o)}return l},getTimeOf:function(t,e){var n=new m(t[0],t[1]),r=new m(t[6],t[7]),i=1e-12,o=1e-7;if(null===(e.isClose(n,i)?0:e.isClose(r,i)?1:null))for(var a=[e.x,e.y],u=[],s=0;s<2;s++)for(var c=R.solveCubic(t,s,a[s],u,0,1),l=0;l<c;l++){var f=u[l];if(e.isClose(R.getPoint(t,f),o))return f}return e.isClose(n,o)?0:e.isClose(r,o)?1:null},getNearestTime:function(t,e){function n(n){if(n>=0&&n<=1){var r=e.getDistance(R.getPoint(t,n),!0);if(r<h)return h=r,d=n,!0}}if(R.isStraight(t)){var r=t[0],i=t[1],o=t[6],a=t[7],u=o-r,s=a-i,c=u*u+s*s;if(0===c)return 0;var l=((e.x-r)*u+(e.y-i)*s)/c;return l<1e-12?0:l>.999999999999?1:R.getTimeOf(t,new m(r+l*u,i+l*s))}for(var f=100,h=1/0,d=0,p=0;p<=f;p++)n(p/f);for(var g=1/(2*f);g>1e-8;)n(d-g)||n(d+g)||(g/=2);return d},getPart:function(t,e,n){var r=e>n;if(r){var i=e;e=n,n=i}return e>0&&(t=R.subdivide(t,e)[1]),n<1&&(t=R.subdivide(t,(n-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=3*i-2*n-s,f=3*o-2*r-c,h=3*a-2*s-n,d=3*u-2*c-r;return Math.max(l*l,h*h)+Math.max(f*f,d*d)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7];return 3*((s-n)*(r+o)-(u-e)*(i+a)+i*(e-o)-r*(n-a)+s*(o+e/3)-u*(a+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),r=[0,0],i=0;i<2;i++)R._addBounds(t[i],t[i+2],t[i+4],t[i+6],i,0,e,n,r);return new x(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,r,i,o,a,u,s){function c(t,e){var n=t-e,r=t+e;n<a[i]&&(a[i]=n),r>u[i]&&(u[i]=r)}o/=2;var l=a[i]-o,f=u[i]+o;if(t<l||e<l||n<l||r<l||t>f||e>f||n>f||r>f)if(e<t!=e<r&&n<t!=n<r)c(t,o),c(r,o);else{var h=3*(e-n)-t+r,d=2*(t+n)-4*e,p=e-t,g=v.solveQuadratic(h,d,p,s),_=1e-8,m=1-_;c(r,0);for(var y=0;y<g;y++){var w=s[y],b=1-w;_<=w&&w<=m&&c(b*b*b*t+3*b*b*w*e+3*b*w*w*n+w*w*w*r,o)}}}}},f.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=F[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),f.each({isStraight:function(t,e,n,r){if(e.isZero()&&n.isZero())return!0;var i=r.subtract(t);if(i.isZero())return!1;if(i.isCollinear(e)&&i.isCollinear(n)){var o=new A(t,r),a=1e-7;if(o.getDistance(t.add(e))<a&&o.getDistance(r.add(n))<a){var u=i.dot(i),s=i.dot(e)/u,c=i.dot(n)/u;return s>=0&&s<=1&&c<=0&&c>=-1}}return!1},isLinear:function(t,e,n,r){var i=r.subtract(t).divide(3);return e.equals(i)&&n.negate().equals(i)}},function(t,e){this[e]=function(e){var n=this._segment1,r=this._segment2;return t(n._point,n._handleOut,r._handleIn,r._point,e)},this.statics[e]=function(e,n){var r=e[0],i=e[1],o=e[6],a=e[7];return t(new m(r,i),new m(e[2]-r,e[3]-i),new m(e[4]-o,e[5]-a),new m(o,a),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new B(this,t):null},getTimeAt:function(t,e){return R.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(m.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return R.getTimeOf(this.getValues(),m.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=m.read(arguments),e=this.getValues(),n=R.getNearestTime(e,t),r=R.getPoint(e,n);return new B(this,n,r,null,t.getDistance(r))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return f.each(t,function(t){this[t+"At"]=function(e,n){var r=this.getValues();return R[t](r,n?e:R.getTimeAt(r,e))},this[t+"AtTime"]=function(e){return R[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=9*(r-o)+3*(u-e),l=6*(e+o)-12*r,f=3*(r-e),h=9*(i-a)+3*(s-n),d=6*(n+a)-12*i,p=3*(i-n);return function(t){var e=(c*t+l)*t+f,n=(h*t+d)*t+p;return Math.sqrt(e*e+n*n)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,r){if(null==e||e<0||e>1)return null;var i=t[0],o=t[1],a=t[2],u=t[3],s=t[4],c=t[5],l=t[6],f=t[7],h=v.isZero;h(a-i)&&h(u-o)&&(a=i,u=o),h(s-l)&&h(c-f)&&(s=l,c=f);var d,p,g=3*(a-i),_=3*(s-a)-g,y=l-i-g-_,w=3*(u-o),b=3*(c-u)-w,x=f-o-w-b;if(0===n)d=0===e?i:1===e?l:((y*e+_)*e+g)*e+i,p=0===e?o:1===e?f:((x*e+b)*e+w)*e+o;else{var S=1e-8,C=1-S;if(e<S?(d=g,p=w):e>C?(d=3*(l-s),p=3*(f-c)):(d=(3*y*e+2*_)*e+g,p=(3*x*e+2*b)*e+w),r){0===d&&0===p&&(e<S||e>C)&&(d=s-a,p=c-u);var A=Math.sqrt(d*d+p*p);A&&(d/=A,p/=A)}if(3===n){var s=6*y*e+2*_,c=6*x*e+2*b,M=Math.pow(d*d+p*p,1.5);d=0!==M?(d*c-p*s)/M:0,p=0}}return 2===n?new m(p,-d):new m(d,p)}return{statics:{classify:function(t){function e(t,e,n){var r=e!==s,i=r&&e>0&&e<1,o=r&&n>0&&n<1;return!r||(i||o)&&("loop"!==t||i&&o)||(t="arch",i=o=!1),{type:t,roots:i||o?i&&o?e<n?[e,n]:[n,e]:[i?e:n]:null}}var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=n*(l-u)+r*(a-c)+c*u-l*a,h=i*(r-l)+o*(c-n)+n*l-r*c,d=a*(o-r)+u*(n-i)+i*r-o*n,p=3*d,g=p-h,_=g-h+f,m=Math.sqrt(_*_+g*g+p*p),y=0!==m?1/m:0,w=v.isZero,b="serpentine";if(_*=y,g*=y,p*=y,w(_))return w(g)?e(w(p)?"line":"quadratic"):e(b,p/(3*g));var x=3*g*g-4*_*p;if(w(x))return e("cusp",g/(2*_));var S=x>0?Math.sqrt(x/3):Math.sqrt(-x),C=2*_;return e(x>0?b:"loop",(g+S)/C,(g-S)/C)},getLength:function(n,r,i,o){if(r===s&&(r=0),i===s&&(i=1),R.isStraight(n)){var a=n;i<1&&(a=R.subdivide(a,i)[0],r/=i),r>0&&(a=R.subdivide(a,r)[1]);var u=a[6]-a[0],c=a[7]-a[1];return Math.sqrt(u*u+c*c)}return v.integrate(o||t(n),r,i,e(r,i))},getTimeAt:function(n,r,i){function o(t){return _+=v.integrate(h,i,t,e(i,t)),i=t,_-r}if(i===s&&(i=r<0?1:0),0===r)return i;var a=Math.abs,u=1e-12,c=r>0,l=c?i:0,f=c?1:i,h=t(n),d=R.getLength(n,l,f,h),p=a(r)-d;if(a(p)<u)return c?f:l;if(p>u)return null;var g=r/d,_=0;return v.findRoot(o,h,i+g,l,f,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=3*r-e-3*o+u,l=3*e-6*r+3*o,f=-3*e+3*r,h=3*i-n-3*a+s,d=3*n-6*i+3*a,p=-3*n+3*i,g=1e-8,_=1-g,m=[];return v.solveCubic(9*(c*c+h*h),9*(c*l+d*h),2*(l*l+d*d)+3*(f*c+p*h),f*l+d*p,m,g,_),m.sort()}}}},new function(){function t(t,e,n,r,i,o,a,u,s){var c=!s&&n.getPrevious()===o,l=!s&&n!==o&&n.getNext()===o,f=1e-8,h=1-f;if(null==r&&(r=n.getTimeOf(i)),null!==r&&r>=(c?f:0)&&r<=(l?h:1)&&(null==a&&(a=o.getTimeOf(u)),null!==a&&a>=(l?f:0)&&a<=(c?h:1))){var d=new B(n,r,i||n.getPointAtTime(r),s),p=new B(o,a,u||o.getPointAtTime(a),s);d._intersection=p,p._intersection=d,e&&!e(d)||B.insert(t,d,!0)}}function e(i,o,a,u,s,c,l,f,h,d,p,g,v){if(++h>=4096||++f>=40)return h;var _,m,y=1e-9,w=o[0],b=o[1],x=o[6],S=o[7],C=A.getSignedDistance,M=C(w,b,x,S,o[2],o[3]),P=C(w,b,x,S,o[4],o[5]),k=M*P>0?.75:4/9,O=k*Math.min(0,M,P),T=k*Math.max(0,M,P),I=C(w,b,x,S,i[0],i[1]),j=C(w,b,x,S,i[2],i[3]),E=C(w,b,x,S,i[4],i[5]),N=C(w,b,x,S,i[6],i[7]),L=n(I,j,E,N),z=L[0],B=L[1];if(0===M&&0===P&&0===I&&0===j&&0===E&&0===N||null==(_=r(z,B,O,T))||null==(m=r(z.reverse(),B.reverse(),O,T)))return h;var D=d+(p-d)*_,F=d+(p-d)*m;if(Math.max(v-g,F-D)<y){var U=(D+F)/2,q=(g+v)/2;t(s,c,l?u:a,l?q:U,null,l?a:u,l?U:q,null)}else if(i=R.getPart(i,_,m),m-_>.8)if(F-D>v-g){var V=R.subdivide(i,.5),U=(D+F)/2;h=e(o,V[0],u,a,s,c,!l,f,h,g,v,D,U),h=e(o,V[1],u,a,s,c,!l,f,h,g,v,U,F)}else{var V=R.subdivide(o,.5),q=(g+v)/2;h=e(V[0],i,u,a,s,c,!l,f,h,g,q,D,F),h=e(V[1],i,u,a,s,c,!l,f,h,q,v,D,F)}else h=v-g>=y?e(o,i,u,a,s,c,!l,f,h,g,v,D,F):e(i,o,a,u,s,c,l,f,h,D,F,g,v);return h}function n(t,e,n,r){var i,o=[0,t],a=[1/3,e],u=[2/3,n],s=[1,r],c=e-(2*t+r)/3,l=n-(t+2*r)/3;if(c*l<0)i=[[o,a,s],[o,u,s]];else{var f=c/l;i=[f>=2?[o,a,s]:f<=.5?[o,u,s]:[o,a,u,s],[o,s]]}return(c||l)<0?i.reverse():i}function r(t,e,n,r){return t[0][1]<n?i(t,!0,n):e[0][1]>r?i(e,!1,r):t[0][0]}function i(t,e,n){for(var r=t[0][0],i=t[0][1],o=1,a=t.length;o<a;o++){var u=t[o][0],s=t[o][1];if(e?s>=n:s<=n)return s===n?u:r+(n-i)*(u-r)/(s-i);r=u,i=s}return null}function o(t,e,n,r,i){var o=v.isZero;if(o(r)&&o(i)){var a=R.getTimeOf(t,new m(e,n));return null===a?[]:[a]}for(var u=Math.atan2(-i,r),s=Math.sin(u),c=Math.cos(u),l=[],f=[],h=0;h<8;h+=2){var d=t[h]-e,p=t[h+1]-n;l.push(d*c-p*s,d*s+p*c)}return R.solveCubic(l,1,0,f,0,1),f}function a(e,n,r,i,a,u,s){for(var c=n[0],l=n[1],f=n[6],h=n[7],d=o(e,c,l,f-c,h-l),p=0,g=d.length;p<g;p++){var v=d[p],_=R.getPoint(e,v),m=R.getTimeOf(n,_);if(null!==m){var y=R.getPoint(n,m);t(a,u,s?i:r,s?m:v,s?y:_,s?r:i,s?v:m,s?_:y)}}}function u(e,n,r,i,o,a){var u=A.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);u&&t(o,a,r,null,u,i,null,u)}function s(n,r,i,o,s,c){var l=1e-12,h=Math.min,d=Math.max;if(d(n[0],n[2],n[4],n[6])+l>h(r[0],r[2],r[4],r[6])&&h(n[0],n[2],n[4],n[6])-l<d(r[0],r[2],r[4],r[6])&&d(n[1],n[3],n[5],n[7])+l>h(r[1],r[3],r[5],r[7])&&h(n[1],n[3],n[5],n[7])-l<d(r[1],r[3],r[5],r[7])){var p=f(n,r);if(p)for(var g=0;g<2;g++){var v=p[g];t(s,c,i,v[0],null,o,v[1],null,!0)}else{var _=R.isStraight(n),m=R.isStraight(r),y=_&&m,w=_&&!m;(y?u:_||m?a:e)(w?r:n,w?n:r,w?o:i,w?i:o,s,c,w,0,0,0,1,0,1)}}return s}function c(e,n,r,i){var o=R.classify(e);if("loop"===o.type){var a=o.roots;t(r,i,n,a[0],null,n,a[1],null)}return r}function l(t,e,n,r,i,o){var a=!e;a&&(e=t);for(var u,l,f=t.length,h=e.length,d=[],p=[],g=0;g<h;g++)d[g]=e[g].getValues(i);for(var g=0;g<f;g++){var v=t[g],_=a?d[g]:v.getValues(r),m=v.getPath();m!==l&&(l=m,u=[],p.push(u)),a&&c(_,v,u,n);for(var y=a?g+1:0;y<h;y++){if(o&&u.length)return u;s(_,d[y],v,e[y],u,n)}}u=[];for(var g=0,w=p.length;g<w;g++)u.push.apply(u,p[g]);return u}function f(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var r=Math.abs,i=A.getDistance,o=1e-8,a=1e-7,u=R.isStraight(t),s=R.isStraight(e),c=u&&s,l=n(t)<n(e),f=l?e:t,h=l?t:e,d=f[0],p=f[1],g=f[6]-d,v=f[7]-p;if(i(d,p,g,v,h[0],h[1],!0)<a&&i(d,p,g,v,h[6],h[7],!0)<a)!c&&i(d,p,g,v,f[2],f[3],!0)<a&&i(d,p,g,v,f[4],f[5],!0)<a&&i(d,p,g,v,h[2],h[3],!0)<a&&i(d,p,g,v,h[4],h[5],!0)<a&&(u=s=c=!0);else if(c)return null;if(u^s)return null;for(var _=[t,e],y=[],w=0;w<4&&y.length<2;w++){var b=1&w,x=1^b,S=w>>1,C=R.getTimeOf(_[b],new m(_[x][S?6:0],_[x][S?7:1]));if(null!=C){var M=b?[S,C]:[C,S];(!y.length||r(M[0]-y[0][0])>o&&r(M[1]-y[0][1])>o)&&y.push(M)}if(w>2&&!y.length)break}if(2!==y.length)y=null;else if(!c){var P=R.getPart(t,y[0][0],y[1][0]),k=R.getPart(e,y[0][1],y[1][1]);(r(k[2]-P[2])>a||r(k[3]-P[3])>a||r(k[4]-P[4])>a||r(k[5]-P[5])>a)&&(y=null)}return y}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?s(e,n,this,t,[]):c(e,this,[])},statics:{getOverlaps:f,getIntersections:l,getCurveLineIntersections:o}}}),B=f.extend({_class:"CurveLocation",initialize:function(t,e,n,r,i){if(e>=.99999999){var o=t.getNext();o&&(e=0,t=o)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=r,this._distance=i,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(n._time=e.getTimeOf(n._point)))return n._setCurve(e),e}var e=this._path,n=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var r=e.getCurves(),i=0;i<n;i++)t+=r[i].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof B){var r=this.getCurve(),i=t.getCurve(),o=r._path;if(o===i._path){var a=Math.abs,u=1e-7,s=a(this.getOffset()-t.getOffset()),c=!e&&this._intersection,l=!e&&t._intersection;n=(s<u||o&&a(o.getLength()-s)<u)&&(!c&&!l||c&&l&&c.equals(l,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=g.instance;e&&t.push("point: "+e);var r=this.getIndex();null!=r&&t.push("index: "+r);var i=this.getTime();return null!=i&&t.push("time: "+n.number(i)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e){var n=t.getValues(),r=R.classify(n).roots||R.getPeaks(n),i=r.length,o=e&&i>1?r[i-1]:i>0?r[0]:.5;d.push(R.getLength(n,e?o:0,e?1:o)/2)}function e(t,e,n){return e<n?t>e&&t<n:t>e||t<n}var n=this._intersection;if(!n)return!1;var r=this.getTime(),i=n.getTime(),o=1e-8,a=1-o,u=r>=o&&r<=a,s=i>=o&&i<=a;if(u&&s)return!this.isTouching();var c=this.getCurve(),l=r<o?c.getPrevious():c,f=n.getCurve(),h=i<o?f.getPrevious():f;if(r>a&&(c=c.getNext()),i>a&&(f=f.getNext()),!(l&&c&&h&&f))return!1;var d=[];u||(t(l,!0),t(c,!1)),s||(t(h,!0),t(f,!1));var p=this.getPoint(),g=Math.min.apply(Math,d),v=u?c.getTangentAtTime(r):c.getPointAt(g).subtract(p),_=u?v.negate():l.getPointAt(-g).subtract(p),m=s?f.getTangentAtTime(i):f.getPointAt(g).subtract(p),y=s?m.negate():h.getPointAt(-g).subtract(p),w=_.getAngle(),b=v.getAngle(),x=y.getAngle(),S=m.getAngle();return!!(u?e(w,x,S)^e(b,x,S)&&e(w,S,x)^e(b,S,x):e(x,w,b)^e(S,w,b)&&e(x,b,w)^e(S,b,w))},hasOverlap:function(){return!!this._overlap}},f.each(R._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),n=this.getTime();return null!=n&&t&&t[e](n,!0)}},{preserve:!0}),new function(){function t(t,e,n){function r(n,r){for(var o=n+r;o>=-1&&o<=i;o+=r){var a=t[(o%i+i)%i];if(!e.getPoint().isClose(a.getPoint(),1e-7))break;if(e.equals(a))return a}return null}for(var i=t.length,o=0,a=i-1;o<=a;){var u,s=o+a>>>1,c=t[s];if(n&&(u=e.equals(c)?c:r(s,-1)||r(s,1)))return e._overlap&&(u._overlap=u._intersection._overlap=!0),u;var l=e.getPath(),f=c.getPath();(l!==f?l._id-f._id:e.getIndex()+e.getTime()-(c.getIndex()+c.getTime()))<0?a=s-1:o=s+1}return t.splice(o,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),r=e.length-1;r>=0;r--)t(n,e[r]._intersection,!1);return n}}}}),D=P.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,r;if(f.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"==typeof t&&(e=t),n){var i=n[0];r=i&&Array.isArray(i[0])}else e&&(r=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));return new(r?U:F)(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var n=+r[t];return u&&(n+=s[e]),n}function n(t){return new m(e(t,"x"),e(t+1,"y"))}var r,i,o,a=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),u=!1,s=new m,c=new m;this.clear();for(var l=0,f=a&&a.length;l<f;l++){var h=a[l],d=h[0],p=d.toLowerCase();r=h.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var g=r&&r.length;switch(u=d===p,"z"!==i||/[mz]/.test(p)||this.moveTo(s),p){case"m":case"l":for(var v="m"===p,_=0;_<g;_+=2)this[v?"moveTo":"lineTo"](s=n(_)),v&&(c=s,v=!1);o=s;break;case"h":case"v":var y="h"===p?"x":"y";s=s.clone();for(var _=0;_<g;_++)s[y]=e(_,y),this.lineTo(s);o=s;break;case"c":for(var _=0;_<g;_+=6)this.cubicCurveTo(n(_),o=n(_+2),s=n(_+4));break;case"s":for(var _=0;_<g;_+=4)this.cubicCurveTo(/[cs]/.test(i)?s.multiply(2).subtract(o):s,o=n(_),s=n(_+2)),i=p;break;case"q":for(var _=0;_<g;_+=4)this.quadraticCurveTo(o=n(_),s=n(_+2));break;case"t":for(var _=0;_<g;_+=2)this.quadraticCurveTo(o=/[qt]/.test(i)?s.multiply(2).subtract(o):s,s=n(_)),i=p;break;case"a":for(var _=0;_<g;_+=7)this.arcTo(s=n(_+5),new w(+r[_],+r[_+1]),+r[_+2],+r[_+4],+r[_+3]);break;case"z":this.closePath(1e-12),s=c}i=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,r){var i=this===t||!t,o=this._matrix._orNullIfIdentity(),a=i?o:(n||t._matrix)._orNullIfIdentity();return i||this.getBounds(o).touches(t.getBounds(a))?R.getIntersections(this.getCurves(),!i&&t.getCurves(),e,o,a,r):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=m.read(arguments),e=this.getCurves(),n=1/0,r=null,i=0,o=e.length;i<o;i++){var a=e[i].getNearestLocation(t);a._distance<n&&(n=a._distance,r=a)}return r},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var r=!this._children,i=r?"_segments":"_children",o=t[i],a=e[i],u=this[i];if(!o||!a||o.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var s=u.length,c=a.length;if(s<c)for(var l=r?L:F,f=s;f<c;f++)this.add(new l);else s>c&&this[r?"removeSegments":"removeChildren"](c,s);for(var f=0;f<c;f++)u[f].interpolate(o[f],a[f],n);r&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],r=t._children?t._children.slice():[t],i=n.length,o=r.length,a=[],u=0;e=!0;for(var s=i-1;s>=0&&e;s--){var c=n[s];e=!1;for(var l=o-1;l>=0&&!e;l--)c.compare(r[l])&&(a[l]||(a[l]=!0,u++),e=!0)}e=e&&u===o}return e}}),F=D.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"===o(t[0])?t:arguments:!t||t.size!==s||t.x===s&&t.point===s?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=s,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&f.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=s,16&e)this._version++;else if(this._curves)for(var n=0,r=this._curves.length;n<r;n++)this._curves[n]._changed()}else 32&e&&(this._bounds=s)},getStyle:function(){var t=this._parent;return(t instanceof U?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=s,n){var r=t[n-1];"boolean"==typeof r&&(this.setClosed(r),n--),this._add(L.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var r=0;r<n;r++)t[r]=new R(this,e[r],e[r+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new R(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){if(e._transformCoordinates(t,p),r=p[0],i=p[1],v)_.push("M"+d.pair(r,i)),v=!1;else if(u=p[2],s=p[3],u===r&&s===i&&c===o&&l===a){if(!n){var f=r-o,h=i-a;_.push(0===f?"v"+d.number(h):0===h?"h"+d.number(f):"l"+d.pair(f,h))}}else _.push("c"+d.pair(c-o,l-a)+" "+d.pair(u-o,s-a)+" "+d.pair(r-o,i-a));o=r,a=i,c=p[4],l=p[5]}var r,i,o,a,u,s,c,l,f=this._segments,h=f.length,d=new g(e),p=new Array(6),v=!0,_=[];if(!h)return"";for(var m=0;m<h;m++)n(f[m]);return this._closed&&h>0&&(n(f[0],!0),_.push("z")),_.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),r=0,i=e.length;r<i;r++)e[r]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,r=this._curves,i=t.length,o=null==e,e=o?n.length:e,a=0;a<i;a++){var u=t[a];u._path&&(u=t[a]=u.clone()),u._path=this,u._index=e+a,u._selection&&this._updateSelection(u,0,u._selection)}if(o)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var a=e+i,s=n.length;a<s;a++)n[a]._index=a}if(r){var c=this._countCurves(),l=e>0&&e+i-1===c?e-1:e,f=l,h=Math.min(l+i,c);t._curves&&(r.splice.apply(r,[l,0].concat(t._curves)),f+=t._curves.length);for(var a=f;a<h;a++)r.splice(a,0,new R(this,null,null));this._adjustCurves(l,h)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,r=this._segments,i=this._curves,o=t;o<e;o++)n=i[o],n._path=this,n._segment1=r[o],n._segment2=r[o+1]||r[0],n._changed();(n=i[this._closed&&!t?r.length-1:t-1])&&(n._segment2=r[t]||r[0],n._changed()),(n=i[e])&&(n._segment1=r[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(L.readList(arguments)):this._add([L.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(L.readList(arguments,1),t):this._add([L.read(arguments,1)],t)[0]},addSegment:function(){return this._add([L.read(arguments)])[0]},insertSegment:function(t){return this._add([L.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(L.readList(t))},insertSegments:function(t,e){return this._add(L.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=f.pick(e,this._segments.length);var r=this._segments,i=this._curves,o=r.length,a=r.splice(t,e-t),u=a.length;if(!u)return a;for(var s=0;s<u;s++){var c=a[s];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var s=t,l=r.length;s<l;s++)r[s]._index=s;if(i){for(var h=t>0&&e===o+(this._closed?1:0)?t-1:t,i=i.splice(h,u),s=i.length-1;s>=0;s--)i[s]._path=null;n&&(a._curves=i.slice(1)),this._adjustCurves(h,h)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,r=t.length;n<r;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,n=this._closed;t=0;for(var r=0,i=e.length;r<i;r++){var o=r+1===i;t+=R.getArea(R.getValues(e[r],e[o?0:r+1],null,o&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,n=e.length,r=t?7:0;this._segmentSelection=r*n;for(var i=0;i<n;i++)e[i]._selection=r},_updateSelection:function(t,e,n){t._selection=n,(this._segmentSelection+=n-e)>0&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,r=e&&e.time,i=1e-8;r>1-i&&(n++,r=0);var o=this.getCurves();if(n>=0&&n<o.length){r>=i&&o[n++].divideAtTime(r);var a,u=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),a=this):(a=new F(P.NO_INSERT),a.insertAbove(this),a.copyAttributes(this)),a._add(u,0),this.addSegment(u[0]),a}return null},split:function(t,e){var n,r=e===s?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=r?this.splitAt(r):null},join:function(t,e){var n=e||0;if(t&&t!==this){var r=t._segments,i=this.getLastSegment(),o=t.getLastSegment();if(!o)return this;i&&i._point.isClose(o._point,n)&&t.reverse();var a=t.getFirstSegment();if(i&&i._point.isClose(a._point,n))i.setHandleOut(a._handleOut),this._add(r.slice(1));else{var u=this.getFirstSegment();u&&u._point.isClose(a._point,n)&&t.reverse(),o=t.getLastSegment(),u&&u._point.isClose(o._point,n)?(u.setHandleIn(o._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}t._closed&&this._add([r[0]]),t.remove()}var s=this.getFirstSegment(),c=this.getLastSegment();return s!==c&&s._point.isClose(c._point,n)&&(s.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,r=n?1e-7:0,i=e.length-1;i>=0;i--){var o=e[i];!o.hasHandles()&&(!o.hasLength(r)||n&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],r=n._handleIn;n._handleIn=n._handleOut,n._handleOut=r,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new q(this,t||.25,256,!0),n=e.parts,r=n.length,i=[],o=0;o<r;o++)i.push(new L(n[o].curve.slice(0,2)));!this._closed&&r>0&&i.push(new L(n[r-1].curve.slice(6))),this.setSegments(i)},simplify:function(t){var e=new V(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var r=t&&t.index;if(null!=r){var i=t.path;if(i&&i!==n)throw new Error(t._class+" "+r+" of "+i+" is not part of "+n);e&&t instanceof R&&r++}else r="number"==typeof t?t:e;return Math.min(r<0&&u?r%a:r<0?r+a:r,a-1)}var n=this,r=t||{},i=r.type||"asymmetric",o=this._segments,a=o.length,u=this._closed,c=u&&r.from===s&&r.to===s,l=e(r.from,0),f=e(r.to,a-1);if(l>f)if(u)l-=a;else{var h=l;l=f,f=h}if(/^(?:asymmetric|continuous)$/.test(i)){var d="asymmetric"===i,p=Math.min,g=f-l+1,v=g-1,_=c?p(g,4):1,m=_,y=_,w=[];if(u||(m=p(1,l),y=p(1,a-f-1)),(v+=m+y)<=1)return;for(var b=0,x=l-m;b<=v;b++,x++)w[b]=o[(x<0?x+a:x)%a]._point;for(var S=w[0]._x+2*w[1]._x,C=w[0]._y+2*w[1]._y,A=2,M=v-1,P=[S],k=[C],O=[A],T=[],I=[],b=1;b<v;b++){var j=b<M,E=j?1:d?1:2,N=j?4:d?2:7,L=j?4:d?3:8,z=j?2:d?0:1,B=E/A;A=O[b]=N-B,S=P[b]=L*w[b]._x+z*w[b+1]._x-B*S,C=k[b]=L*w[b]._y+z*w[b+1]._y-B*C}T[M]=P[M]/O[M],I[M]=k[M]/O[M];for(var b=v-2;b>=0;b--)T[b]=(P[b]-T[b+1])/O[b],I[b]=(k[b]-I[b+1])/O[b];T[v]=(3*w[v]._x-T[M])/2,I[v]=(3*w[v]._y-I[M])/2;for(var b=m,D=v-y,x=l;b<=D;b++,x++){var F=o[x<0?x+a:x],U=F._point,q=T[b]-U._x,V=I[b]-U._y;(c||b<D)&&F.setHandleOut(q,V),(c||b>m)&&F.setHandleIn(-q,-V)}}else for(var b=l;b<=f;b++)o[b<0?b+a:b].smooth(r,!c&&b===l,!c&&b===f)},toShape:function(t){function e(t,e){var n=l[t],r=n.getNext(),i=l[e],o=i.getNext();return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&o._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(o._point.subtract(i._point))}function n(t){var e=l[t],n=e.getPrevious(),r=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&r._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(r._point.subtract(e._point))}function r(t){var e=l[t],n=e.getNext(),r=e._handleOut,i=n._handleIn,o=.5522847498307936;if(r.isOrthogonal(i)){var a=e._point,u=n._point,s=new A(a,r,!0).intersect(new A(u,i,!0),!0);return s&&v.isZero(r.getLength()/s.subtract(a).getLength()-o)&&v.isZero(i.getLength()/s.subtract(u).getLength()-o)}return!1}function i(t,e){return l[t]._point.getDistance(l[e]._point)}if(!this._closed)return null;var o,a,u,c,l=this._segments;if(!this.hasHandles()&&4===l.length&&e(0,2)&&e(1,3)&&n(1)?(o=T.Rectangle,a=new w(i(0,3),i(0,1)),c=l[1]._point.add(l[2]._point).divide(2)):8===l.length&&r(0)&&r(2)&&r(4)&&r(6)&&e(1,5)&&e(3,7)?(o=T.Rectangle,a=new w(i(1,6),i(0,3)),u=a.subtract(new w(i(0,7),i(1,2))).divide(2),c=l[3]._point.add(l[4]._point).divide(2)):4===l.length&&r(0)&&r(1)&&r(2)&&r(3)&&(v.isZero(i(0,2)-i(1,3))?(o=T.Circle,u=i(0,2)/2):(o=T.Ellipse,u=new w(i(2,0)/2,i(3,1)/2)),c=l[1]._point),o){var f=this.getPosition(!0),h=new o({center:f,size:a,radius:u,insert:!1});return h.copyAttributes(this,!0),h._matrix.prepend(this._matrix),h.rotate(c.subtract(f).getAngle()+90),(t===s||t)&&h.insertAbove(this),h}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof U)return t.base.call(this,e);var n=this.getCurves(),r=e.getCurves(),i=n.length,o=r.length;if(!i||!o)return i==o;for(var a,u,s=n[0].getValues(),c=[],l=0,f=0,h=0;h<o;h++){var d=r[h].getValues();c.push(d);var p=R.getOverlaps(s,d);if(p){a=!h&&p[0][0]>0?o-1:h,u=p[0][1];break}}for(var g,v=Math.abs,_=1e-8,d=c[a];s&&d;){var p=R.getOverlaps(s,d);if(p){if(v(p[0][0]-f)<_){f=p[1][0],1===f&&(s=++l<i?n[l].getValues():null,f=0);var m=p[0][1];if(v(m-u)<_){if(g||(g=[a,m]),u=p[1][1],1===u&&(++a>=o&&(a=0),d=c[a]||r[a].getValues(),u=0),!s)return g[0]===a&&g[1]===u;continue}}}break}return!1},_hitTestSelf:function(t,e,n,r){function i(e,n){return t.subtract(e).divide(n).length<=1}function o(t,n,r){if(!e.selected||n.isSelected()){var o=t._point;if(n!==o&&(n=n.add(o)),i(n,b))return new N(r,g,{segment:t,point:n})}}function a(t,n){return(n||e.segments)&&o(t,t._point,"segment")||!n&&e.handles&&(o(t,t._handleIn,"handle-in")||o(t,t._handleOut,"handle-out"))}function u(t){h.add(t)}function s(e){var n=y||e._index>0&&e._index<m-1;if("round"===(n?c:l))return i(e._point,b);if(h=new F({internal:!0,closed:!0}),n?e.isSmooth()||F._addBevelJoin(e,c,A,f,null,r,u,!0):"square"===l&&F._addSquareCap(e,l,A,null,r,u,!0),!h.isEmpty()){var o;return h.contains(t)||(o=h.getNearestLocation(t))&&i(o.getPoint(),w)}}var c,l,f,h,d,p,g=this,v=this.getStyle(),_=this._segments,m=_.length,y=this._closed,w=e._tolerancePadding,b=w,x=e.stroke&&v.hasStroke(),S=e.fill&&v.hasFill(),C=e.curves,A=x?v.getStrokeWidth()/2:S&&e.tolerance>0||C?0:null;if(null!==A&&(A>0?(c=v.getStrokeJoin(),l=v.getStrokeCap(),f=v.getMiterLimit(),b=b.add(F._getStrokePadding(A,r))):c=l="round"),!e.ends||e.segments||y){if(e.segments||e.handles)for(var M=0;M<m;M++)if(p=a(_[M]))return p}else if(p=a(_[0],!0)||a(_[m-1],!0))return p;if(null!==A){if(d=this.getNearestLocation(t)){var P=d.getTime();0===P||1===P&&m>1?s(d.getSegment())||(d=null):i(d.getPoint(),b)||(d=null)}if(!d&&"miter"===c&&m>1)for(var M=0;M<m;M++){var k=_[M];if(t.getDistance(k._point)<=f*A&&s(k)){d=k.getLocation();break}}}return!d&&S&&this._contains(t)||d&&!x&&!C?new N("fill",this):d?new N(x?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},f.each(R._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this.getLocationAt(e);return n&&n[t]()}},{beans:!1,getLocationOf:function(){for(var t=m.read(arguments),e=this.getCurves(),n=0,r=e.length;n<r;n++){var i=e[n].getLocationOf(t);if(i)return i}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),n=0,r=0,i=e.length;r<i;r++){var o=n,a=e[r];if((n+=a.getLength())>t)return a.getLocationAt(t-o)}if(e.length>0&&t<=this.getLength())return new B(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,n,r){function i(e){var n=s[e],r=s[e+1];o==n&&a==r||(t.beginPath(),t.moveTo(o,a),t.lineTo(n,r),t.stroke(),t.beginPath(),t.arc(n,r,u,0,2*Math.PI,!0),t.fill())}for(var o,a,u=r/2,s=new Array(6),c=0,l=e.length;c<l;c++){var f=e[c],h=f._selection;if(f._transformCoordinates(n,s),o=s[0],a=s[1],2&h&&i(2),4&h&&i(4),t.fillRect(o-u,a-u,r,r),!(1&h)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(o-u+1,a-u+1,r-2,r-2),t.fillStyle=d}}}function e(t,e,n){function r(e){if(n)e._transformCoordinates(n,p),i=p[0],o=p[1];else{var r=e._point;i=r._x,o=r._y}if(g)t.moveTo(i,o),g=!1;else{if(n)s=p[2],c=p[3];else{var h=e._handleIn;s=i+h._x,c=o+h._y}s===i&&c===o&&l===a&&f===u?t.lineTo(i,o):t.bezierCurveTo(l,f,s,c,i,o)}if(a=i,u=o,n)l=p[4],f=p[5];else{var h=e._handleOut;l=a+h._x,f=u+h._y}}for(var i,o,a,u,s,c,l,f,h=e._segments,d=h.length,p=new Array(6),g=!0,v=0;v<d;v++)r(h[v]);e._closed&&d>0&&r(h[0])}return{_draw:function(t,n,r,i){function o(t){return h[(t%d+d)%d]}var u=n.dontStart,s=n.dontFinish||n.clip,c=this.getStyle(),l=c.hasFill(),f=c.hasStroke(),h=c.getDashArray(),d=!a.support.nativeDash&&f&&h&&h.length;if(u||t.beginPath(),(l||f&&!d||s)&&(e(t,this,i),this._closed&&t.closePath()),!s&&(l||f)&&(this._setStyles(t,n,r),l&&(t.fill(c.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),f)){if(d){u||t.beginPath();var p,g=new q(this,.25,32,!1,i),v=g.length,_=-c.getDashOffset(),m=0;for(_%=v;_>0;)_-=o(m--)+o(m--);for(;_<v;)p=_+o(m++),(_>0||p>0)&&g.drawPart(t,Math.max(_,0),Math.max(p,0)),_=p+o(m++)}t.stroke()}},_drawSelected:function(n,r){n.beginPath(),e(n,this,r),n.stroke(),t(n,this._segments,r,a.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new L(m.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new L(m.read(arguments))])},cubicCurveTo:function(){var e=m.read(arguments),n=m.read(arguments),r=m.read(arguments),i=t(this);i.setHandleOut(e.subtract(i._point)),this._add([new L(r,n.subtract(r))])},quadraticCurveTo:function(){var e=m.read(arguments),n=m.read(arguments),r=t(this)._point;this.cubicCurveTo(e.add(r.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n)},curveTo:function(){var e=m.read(arguments),n=m.read(arguments),r=f.pick(f.read(arguments),.5),i=1-r,o=t(this)._point,a=e.subtract(o.multiply(i*i)).subtract(n.multiply(r*r)).divide(2*r*i);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+r);this.quadraticCurveTo(a,n)},arcTo:function(){var e,n,r,i,o,a=Math.abs,u=Math.sqrt,s=t(this),c=s._point,l=m.read(arguments),h=f.peek(arguments),d=f.pick(h,!0);if("boolean"==typeof d)var p=c.add(l).divide(2),e=p.add(p.subtract(c).rotate(d?-90:90));else if(f.remain(arguments)<=2)e=l,l=m.read(arguments);else{var g=w.read(arguments),_=v.isZero;if(_(g.width)||_(g.height))return this.lineTo(l);var y=f.read(arguments),d=!!f.read(arguments),b=!!f.read(arguments),p=c.add(l).divide(2),x=c.subtract(p).rotate(-y),S=x.x,M=x.y,P=a(g.width),k=a(g.height),O=P*P,T=k*k,I=S*S,j=M*M,E=u(I/O+j/T);if(E>1&&(P*=E,k*=E,O=P*P,T=k*k),E=(O*T-O*j-T*I)/(O*j+T*I),a(E)<1e-12&&(E=0),E<0)throw new Error("Cannot create an arc with the given arguments");n=new m(P*M/k,-k*S/P).multiply((b===d?-1:1)*u(E)).rotate(y).add(p),o=(new C).translate(n).rotate(y).scale(P,k),i=o._inverseTransform(c),r=i.getDirectedAngle(o._inverseTransform(l)),!d&&r>0?r-=360:d&&r<0&&(r+=360)}if(e){var N=new A(c.add(e).divide(2),e.subtract(c).rotate(90),!0),z=new A(e.add(l).divide(2),l.subtract(e).rotate(90),!0),R=new A(c,l),B=R.getSide(e);if(!(n=N.intersect(z,!0))){if(!B)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}i=c.subtract(n),r=i.getDirectedAngle(l.subtract(n));var D=R.getSide(n);0===D?r=B*a(r):B===D&&(r+=r<0?360:-360)}for(var F=1e-12,U=a(r),q=U>=360?4:Math.ceil((U-F)/90),V=r/q,W=V*Math.PI/360,$=4/3*Math.sin(W)/(1+Math.cos(W)),H=[],G=0;G<=q;G++){var x=l,Y=null;if(G<q&&(Y=i.rotate(90).multiply($),o?(x=o._transformPoint(i),Y=o._transformPoint(i.add(Y)).subtract(x)):x=n.add(i)),G){var Z=i.rotate(-90).multiply($);o&&(Z=o._transformPoint(i.add(Z)).subtract(x)),H.push(new L(x,Z,Y))}else s.setHandleOut(Y);i=i.rotate(V)}this._add(H)},lineBy:function(){var e=m.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var e=m.read(arguments),n=m.read(arguments),r=f.read(arguments),i=t(this)._point;this.curveTo(i.add(e),i.add(n),r)},cubicCurveBy:function(){var e=m.read(arguments),n=m.read(arguments),r=m.read(arguments),i=t(this)._point;this.cubicCurveTo(i.add(e),i.add(n),i.add(r))},quadraticCurveBy:function(){var e=m.read(arguments),n=m.read(arguments),r=t(this)._point;this.quadraticCurveTo(r.add(e),r.add(n))},arcBy:function(){var e=t(this)._point,n=e.add(m.read(arguments)),r=f.pick(f.peek(arguments),!0);"boolean"==typeof r?this.arcTo(n,r):this.arcTo(n,e.add(m.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){return F[e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,r,i,o){function a(t){t._transformCoordinates(r,s);for(var e=0;e<2;e++)R._addBounds(c[e],c[e+4],s[e+2],s[e],e,o?o[e]:0,l,f,h);var n=c;c=s,s=n}var u=t[0];if(!u)return new x;for(var s=new Array(6),c=u._transformCoordinates(r,new Array(6)),l=c.slice(0,2),f=l.slice(),h=new Array(2),d=1,p=t.length;d<p;d++)a(t[d]);return e&&a(u),new x(l[0],l[1],f[0]-l[0],f[1]-l[1])},getStrokeBounds:function(t,e,n,r,i){function o(t){p=p.include(t)}function a(t){p=p.unite(y.setCenter(t._point.transform(r)))}function u(t,e){"round"===e||t.isSmooth()?a(t):F._addBevelJoin(t,e,g,m,r,h,o)}function s(t,e){"round"===e?a(t):F._addSquareCap(t,e,g,r,h,o)}var c=n.getStyle(),l=c.hasStroke(),f=c.getStrokeWidth(),h=l&&n._getStrokeMatrix(r,i),d=l&&F._getStrokePadding(f,h),p=F.getBounds(t,e,n,r,i,d);if(!l)return p;for(var g=f/2,v=c.getStrokeJoin(),_=c.getStrokeCap(),m=c.getMiterLimit(),y=new x(new w(d)),b=t.length-(e?0:1),S=1;S<b;S++)u(t[S],v);return e?u(t[0],v):b>0&&(s(t[0],_),s(t[t.length-1],_)),p},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new m(t,0).transform(e),r=new m(0,t).transform(e),i=n.getAngleInRadians(),o=n.getLength(),a=r.getLength(),u=Math.sin(i),s=Math.cos(i),c=Math.tan(i),l=Math.atan2(a*c,o),f=Math.atan2(a,c*o);return[Math.abs(o*Math.cos(l)*s+a*Math.sin(l)*u),Math.abs(a*Math.sin(f)*s+o*Math.cos(f)*u)]},_addBevelJoin:function(t,e,n,r,i,o,a,u){var s=t.getCurve(),c=s.getPrevious(),l=s.getPoint1().transform(i),f=c.getNormalAtTime(1).multiply(n).transform(o),h=s.getNormalAtTime(0).multiply(n).transform(o);if(f.getDirectedAngle(h)<0&&(f=f.negate(),h=h.negate()),u&&a(l),a(l.add(f)),"miter"===e){var d=new A(l.add(f),new m(-f.y,f.x),!0).intersect(new A(l.add(h),new m(-h.y,h.x),!0),!0);d&&l.getDistance(d)<=r*n&&a(d)}a(l.add(h))},_addSquareCap:function(t,e,n,r,i,o,a){var u=t._point.transform(r),s=t.getLocation(),c=s.getNormal().multiply(n).transform(i);"square"===e&&(a&&(o(u.subtract(c)),o(u.add(c))),u=u.add(c.rotate(0===s.getTime()?-90:90))),o(u.add(c)),o(u.subtract(c))},getHandleBounds:function(t,e,n,r,i){var o,a,u=n.getStyle(),s=i.stroke&&u.hasStroke();if(s){var c=n._getStrokeMatrix(r,i),l=u.getStrokeWidth()/2,f=l;"miter"===u.getStrokeJoin()&&(f=l*u.getMiterLimit()),"square"===u.getStrokeCap()&&(f=Math.max(f,l*Math.SQRT2)),o=F._getStrokePadding(l,c),a=F._getStrokePadding(f,c)}for(var h=new Array(6),d=1/0,p=-d,g=d,v=p,_=0,m=t.length;_<m;_++){t[_]._transformCoordinates(r,h);for(var y=0;y<6;y+=2){var w=y?o:a,b=w?w[0]:0,S=w?w[1]:0,C=h[y],A=h[y+1],M=C-b,P=C+b,k=A-S,O=A+S;M<d&&(d=M),P>p&&(p=P),k<g&&(g=k),O>v&&(v=O)}}return new x(d,g,p-d,v-g)}}});F.inject({statics:new function(){function t(t,e,n){var r=f.getNamed(n),i=new F(r&&r.insert===!1&&P.NO_INSERT);return i._add(t),i._closed=e,i.set(r)}function e(e,n,i){for(var o=new Array(4),a=0;a<4;a++){var u=r[a];o[a]=new L(u._point.multiply(n).add(e),u._handleIn.multiply(n),u._handleOut.multiply(n))}return t(o,!0,i)}var n=.5522847498307936,r=[new L([-1,0],[0,n],[0,-n]),new L([0,-1],[-n,0],[n,0]),new L([1,0],[0,-n],[0,n]),new L([0,1],[n,0],[-n,0])];return{Line:function(){return t([new L(m.readNamed(arguments,"from")),new L(m.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){return e(m.readNamed(arguments,"center"),new w(f.readNamed(arguments,"radius")),arguments)},Rectangle:function(){var e,r=x.readNamed(arguments,"rectangle"),i=w.readNamed(arguments,"radius",0,{readNull:!0}),o=r.getBottomLeft(!0),a=r.getTopLeft(!0),u=r.getTopRight(!0),s=r.getBottomRight(!0);if(!i||i.isZero())e=[new L(o),new L(a),new L(u),new L(s)];else{i=w.min(i,r.getSize(!0).divide(2));var c=i.width,l=i.height,f=c*n,h=l*n;e=[new L(o.add(c,0),null,[-f,0]),new L(o.subtract(0,l),[0,h]),new L(a.add(0,l),null,[0,-h]),new L(a.add(c,0),[-f,0],null),new L(u.subtract(c,0),null,[f,0]),new L(u.add(0,l),[0,-h],null),new L(s.subtract(0,l),null,[0,h]),new L(s.subtract(c,0),[f,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=T._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=m.readNamed(arguments,"from"),e=m.readNamed(arguments,"through"),n=m.readNamed(arguments,"to"),r=f.getNamed(arguments),i=new F(r&&r.insert===!1&&P.NO_INSERT);return i.moveTo(t),i.arcTo(e,n),i.set(r)},RegularPolygon:function(){for(var e=m.readNamed(arguments,"center"),n=f.readNamed(arguments,"sides"),r=f.readNamed(arguments,"radius"),i=360/n,o=n%3==0,a=new m(0,o?-r:r),u=o?-1:.5,s=new Array(n),c=0;c<n;c++)s[c]=new L(e.add(a.rotate((c+u)*i)));return t(s,!0,arguments)},Star:function(){for(var e=m.readNamed(arguments,"center"),n=2*f.readNamed(arguments,"points"),r=f.readNamed(arguments,"radius1"),i=f.readNamed(arguments,"radius2"),o=360/n,a=new m(0,-1),u=new Array(n),s=0;s<n;s++)u[s]=new L(e.add(a.rotate(o*s).multiply(s%2?i:r)));return t(u,!0,arguments)}}}});var U=D.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,n){var r=n,i=r[0];i&&"number"==typeof i[0]&&(r=[r]);for(var o=n.length-1;o>=0;o--){var a=r[o];r!==n||a instanceof F||(r=f.slice(r)),Array.isArray(a)?r[o]=new F({segments:a,insert:!1}):a instanceof U&&(r.splice.apply(r,[o,1].concat(a.removeChildren())),a.remove())}return t.base.call(this,e,r)},reduce:function t(e){for(var n=this._children,r=n.length-1;r>=0;r--){var i=n[r].reduce(e);i.isEmpty()&&i.remove()}if(!n.length){var i=new F(P.NO_INSERT);return i.copyAttributes(this),i.insertAbove(this),this.remove(),i}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,r=e.length;n<r;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,r=t.length;n<r;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,r=t.length;n<r;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,r=t.length;n<r;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,r=[],i=0,o=n.length;i<o;i++){var a=n[i],u=a._matrix;r.push(a.getPathData(t&&!u.isIdentity()?t.appended(u):t,e))}return r.join("")},_hitTestChildren:function t(e,n,r){return t.base.call(this,e,n.class===F||"path"===n.type?n:f.set({},n,{fill:!1}),r)},_draw:function(t,e,n,r){var i=this._children;if(i.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var o=0,a=i.length;o<a;o++)i[o].draw(t,e,r);if(!e.clip){this._setStyles(t,e,n);var u=this._style;u.hasFill()&&(t.fill(u.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var r=this._children,i=0,o=r.length;i<o;i++){var a=r[i],u=a._matrix;n[a._id]||a._drawSelected(t,u.isIdentity()?e:e.appended(u))}}},new function(){function t(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return f.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}},{moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new F(P.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),r=m.read(arguments);this.moveTo(n?r.add(n._point):r)},closePath:function(e){t(this,!0).closePath(e)}})},f.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var n,r=this._children,i=0,o=r.length;i<o;i++)n=r[i][t](e)||n;return n}},{}));D.inject(new function(){function t(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function e(t,e,n,r,i,o){var a=new t(P.NO_INSERT);return a.addChildren(e,!0),n&&(a=a.reduce({simplify:!0})),o&&o.insert===!1||a.insertAbove(i&&r.isSibling(i)&&r.getIndex()<i.getIndex()?i:r),a.copyAttributes(r,!0),a}function n(n,i,o,s){function c(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];w.push.apply(w,r._segments),b.push.apply(b,r.getCurves()),r._overlapsOnly=!0}}if(s&&s.stroke&&/^(subtract|intersect)$/.test(o))return r(n,i,"subtract"===o);var f=t(n,!0),d=i&&n!==i&&t(i,!0),p=_[o];p[o]=!0,d&&(p.subtract||p.exclude)^d.isClockwise()^f.isClockwise()&&d.reverse();var g,v=u(B.expand(f.getCrossings(d))),m=f._children||[f],y=d&&(d._children||[d]),w=[],b=[];if(v.length){c(m),y&&c(y);for(var x=0,S=v.length;x<S;x++)l(v[x]._segment,f,d,b,p);for(var x=0,S=w.length;x<S;x++){var C=w[x],A=C._intersection;C._winding||l(C,f,d,b,p),A&&A._overlap||(C._path._overlapsOnly=!1)}g=h(w,p)}else g=a(y?m.concat(y):m.slice(),function(t){return!!p[t]});return e(U,g,!0,n,i,s)}function r(n,r,i){function o(t){if(u.contains(t.getPointAt(t.getLength()/2))^i)return c.unshift(t),!0}for(var a=t(n),u=t(r),s=a.getCrossings(u),c=[],l=s.length-1;l>=0;l--){var f=s[l].split();f&&(o(f)&&f.getFirstSegment().setHandleIn(0,0),a.getLastSegment().setHandleOut(0,0))}return o(a),e(k,c,!1,n,r)}function i(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function o(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function a(t,e,n){var r=t&&t.length;if(r){var i=f.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),o=t.slice().sort(function(t,e){return g(e.getArea())-g(t.getArea())}),a=o[0];null==n&&(n=a.isClockwise());for(var u=0;u<r;u++){for(var s=o[u],c=i[s._id],l=s.getInteriorPoint(),h=0,d=u-1;d>=0;d--){var p=o[d];if(p.contains(l)){var v=i[p._id];h=v.winding,c.winding+=h,c.container=v.exclude?v.container:p;break}}if(e(c.winding)===e(h))c.exclude=!0,t[c.index]=null;else{var _=c.container;s.setClockwise(_?!_.isClockwise():n)}}}return t}function u(t,e,n){function r(t){return t._path._id+"."+t._segment1._index}for(var a,u,s,c=e&&[],l=1e-8,f=1-l,h=!1,d=n||[],p=n&&{},g=(n&&n.length)-1;g>=0;g--){var v=n[g];v._path&&(p[r(v)]=!0)}for(var g=t.length-1;g>=0;g--){var _,m=t[g],y=m._time,w=y,b=e&&!e(m),v=m._curve;if(v&&(v!==u?(h=!v.hasHandles()||p&&p[r(v)],a=[],s=null,u=v):s>=l&&(y/=s)),b)a&&a.push(m);else{if(e&&c.unshift(m),s=w,y<l)_=v._segment1;else if(y>f)_=v._segment2;else{var x=v.divideAtTime(y,!0);h&&d.push(v,x),_=x._segment1;for(var S=a.length-1;S>=0;S--){var C=a[S];C._time=(C._time-y)/(1-y)}}m._setSegment(_);var A=_._intersection,M=m._intersection;if(A){i(A,M);for(var P=A;P;)i(P._intersection,A),P=P._next}else _._intersection=M}}return n||o(d),c||t}function c(t,e,n,r,i){function o(o){var a=o[f+0],s=o[f+6];if(!(_<d(a,s)||_>p(a,s))){var h=o[l+0],g=o[l+2],m=o[l+4],P=o[l+6];if(a===s)return void((h<b&&P>w||P<b&&h>w)&&(C=!0));var k=_===a?0:_===s?1:w>p(h,g,m,P)||b<d(h,g,m,P)?1:1===R.solveCubic(o,f,_,M,0,1)?M[0]:.5,O=0===k?h:1===k?P:R.getPoint(o,k)[n?"y":"x"],T=a>s?1:-1,I=u[f]>u[f+6]?1:-1,j=u[l+6];return _!==a?(O<w?x+=T:O>b?S+=T:C=!0,O>v-y&&O<v+y&&(A/=2)):(T!==I?h<w?x+=T:h>b&&(S+=T):h!=j&&(j<b&&O>b?(S+=T,C=!0):j>w&&O<w&&(x+=T,C=!0)),A=0),u=o,!i&&O>w&&O<b&&0===R.getTangent(o,k)[n?"x":"y"]&&c(t,e,n?0:1,r,!0)}}function a(t){var e=t[f+0],r=t[f+2],i=t[f+4],a=t[f+6];if(_<=p(e,r,i,a)&&_>=d(e,r,i,a))for(var u,s=t[l+0],c=t[l+2],h=t[l+4],g=t[l+6],v=w>p(s,c,h,g)||b<d(s,c,h,g)?[t]:R.getMonoCurves(t,n),m=0,y=v.length;m<y;m++)if(u=o(v[m]))return u}for(var u,s,l=n?1:0,f=1^l,h=[t.x,t.y],v=h[l],_=h[f],m=1e-9,y=1e-6,w=v-m,b=v+m,x=0,S=0,C=!1,A=1,M=[],P=0,k=e.length;P<k;P++){var O,T=e[P],I=T._path,j=T.getValues();if(!(P&&e[P-1]._path===I||(u=null,I._closed||(s=R.getValues(I.getLastCurve().getSegment2(),T.getSegment1(),null,!r),s[f]!==s[f+6]&&(u=s)),u))){u=j;for(var E=I.getLastCurve();E&&E!==T;){var N=E.getValues();if(N[f]!==N[f+6]){u=N;break}E=E.getPrevious()}}if(O=a(j))return O;if(P+1===k||e[P+1]._path!==I){if(s&&(O=a(s)))return O;s=null}}return x=g(x),S=g(S),{winding:p(x,S),windingL:x,windingR:S,quality:A,onPath:C}}function l(t,e,n,r,i){var o,a=[],u=t,s=0;do{var l=t.getCurve(),f=l.getLength();a.push({segment:t,curve:l,length:f}),s+=f,t=t.getNext()}while(t&&!t._intersection&&t!==u);for(var h=[.5,.25,.75],d={winding:0,quality:0},o=d,p=1e-8,_=1-p,m=0;m<h.length&&o.quality<.5;m++)for(var f=s*h[m],y=0,w=a.length;y<w;y++){var b=a[y],x=b.length;if(f<=x){var l=b.curve,S=l._path,C=S._parent,A=v.clamp(l.getTimeAt(f),p,_),M=l.getPointAtTime(A),P=g(l.getTangentAtTime(A).normalize().y)<Math.SQRT1_2?1:0;C instanceof U&&(S=C);var k=i.subtract&&n&&(S===e&&n._getWinding(M,P,!0).winding||S===n&&!e._getWinding(M,P,!0).winding)?d:c(M,r,P,!0);k.quality>o.quality&&(o=k);break}f-=x}for(var y=a.length-1;y>=0;y--)a[y].segment._winding=o}function h(t,e){function n(t){var n;return!(!t||t._visited||e&&(!e[(n=t._winding||{}).winding]||e.unite&&2===n.winding&&n.windingL&&n.windingR))}function r(t){if(t)for(var e=0,n=a.length;e<n;e++)if(t===a[e])return!0;return!1}function i(t){for(var e=t._segments,n=0,r=e.length;n<r;n++)e[n]._visited=!0}function o(t,e){function i(i,o){for(;i&&i!==o;){var u=i._segment,c=u._path,l=u.getNext()||c&&c.getFirstSegment(),f=l&&l._intersection;u!==t&&(r(u)||r(l)||l&&n(u)&&(n(l)||f&&n(f._segment)))&&s.push(u),e&&a.push(u),i=i._next}}var o=t._intersection,u=o,s=[];if(e&&(a=[t]),o){for(i(o);o&&o._prev;)o=o._prev;i(o,u)}return s}var a,u=[];t.sort(function(t,e){var n=t._intersection,r=e._intersection,i=!(!n||!n._overlap),o=!(!r||!r._overlap),a=t._path,u=e._path;return i^o?i?1:-1:!n^!r?n?1:-1:a!==u?a._id-u._id:t._index-e._index});for(var s=0,c=t.length;s<c;s++){var l,f,h,d=t[s],p=n(d),g=null,v=!1,_=!0,m=[];if(p&&d._path._overlapsOnly){var y=d._path,w=d._intersection._segment._path;y.compare(w)&&(y.getArea()&&u.push(y.clone(!1)),i(y),i(w),p=!1)}for(;p;){var b=!g,x=o(d,b),S=x.shift(),v=!b&&(r(d)||r(S)),C=!v&&S;if(b&&(g=new F(P.NO_INSERT),l=null),v){(d.isFirst()||d.isLast())&&(_=d._path._closed),d._visited=!0;break}if(C&&l&&(m.push(l),l=null),l||(C&&x.push(d),l={start:g._segments.length,crossings:x,visited:f=[],handleIn:h}),C&&(d=S),!n(d)){g.removeSegments(l.start);for(var A=0,M=f.length;A<M;A++)f[A]._visited=!1;f.length=0;do{(d=l&&l.crossings.shift())||(l=m.pop())&&(f=l.visited,h=l.handleIn)}while(l&&!n(d));if(!d)break}var k=d.getNext();g.add(new L(d._point,h,k&&d._handleOut)),d._visited=!0,f.push(d),d=k||d._path.getFirstSegment(),h=k&&k._handleIn}v&&(_&&(g.firstSegment.setHandleIn(h),g.setClosed(_)),0!==g.getArea()&&u.push(g))}return u}var d=Math.min,p=Math.max,g=Math.abs,_={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,n){return c(t,this.getCurves(),e,n)},unite:function(t,e){return n(this,t,"unite",e)},intersect:function(t,e){return n(this,t,"intersect",e)},subtract:function(t){return n(this,t,"subtract")},exclude:function(t,e){return n(this,t,"exclude",e)},divide:function(t,n){return e(k,[this.subtract(t,n),this.intersect(t,n)],!0,this,t,n)},resolveCrossings:function(){function t(t){var e=t&&t._intersection;return e&&e._overlap}var e=this._children,n=e||[this],r=!1,i=!1,a=this.getIntersections(null,function(t){return t.hasOverlap()&&(r=!0)||t.isCrossing()&&(i=!0)}),s=r&&i&&[];if(a=B.expand(a),r)for(var c=u(a,function(t){return t.hasOverlap()},s),l=c.length-1;l>=0;l--){var d=c[l]._segment,p=d.getPrevious(),g=d.getNext();t(p)&&t(g)&&(d.remove(),p._handleOut._set(0,0),g._handleIn._set(0,0),p===d||p.getCurve().hasLength()||(g._handleIn.set(p._handleIn),p.remove()))}i&&(u(a,r&&function(t){var e=t.getCurve(),n=t.getSegment(),r=t._intersection,i=r._curve,o=r._segment;if(e&&i&&e._path&&i._path)return!0;n&&(n._intersection=null),o&&(o._intersection=null)},s),s&&o(s),n=h(f.each(n,function(t){this.push.apply(this,t._segments)},[])));var v,_=n.length;return _>1&&e?(n!==e&&this.setChildren(n),v=this):1!==_||e||(n[0]!==this&&this.setSegments(n[0].removeSegments()),v=this),v||(v=new U(P.NO_INSERT),v.addChildren(n),v=v.reduce(),v.copyAttributes(this),this.replaceWith(v)),v},reorient:function(t,e){var n=this._children;return n&&n.length?this.setChildren(a(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==s&&this.setClockwise(e),this},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var n=this.getCurves(),r=e.y,i=[],o=[],a=0,u=n.length;a<u;a++){var s=n[a].getValues(),c=s[1],l=s[3],f=s[5],h=s[7];if(r>=d(c,l,f,h)&&r<=p(c,l,f,h))for(var g=R.getMonoCurves(s),v=0,_=g.length;v<_;v++){var m=g[v],y=m[1],w=m[7];if(y!==w&&(r>=y&&r<=w||r>=w&&r<=y)){var b=r===y?m[0]:r===w?m[6]:1===R.solveCubic(m,1,r,o,0,1)?R.getPoint(m,o[0]).x:(m[0]+m[6])/2;i.push(b)}}}i.length>1&&(i.sort(function(t,e){return t-e}),e.x=(i[0]+i[1])/2)}return e}}});var q=f.extend({_class:"PathFlattener",initialize:function(t,e,n,r,i){function o(t,e){var n=R.getValues(t,e,i);s.push(n),a(n,t._index,0,1)}function a(t,n,i,o){if(!(o-i>f)||r&&R.isStraight(t)||R.isFlatEnough(t,e||.25)){var u=t[6]-t[0],s=t[7]-t[1],h=Math.sqrt(u*u+s*s);h>0&&(l+=h,c.push({offset:l,curve:t,index:n,time:o}))}else{var d=R.subdivide(t,.5),p=(i+o)/2;a(d[0],n,i,p),a(d[1],n,p,o)}}for(var u,s=[],c=[],l=0,f=1/(n||32),h=t._segments,d=h[0],p=1,g=h.length;p<g;p++)u=h[p],o(d,u),d=u;t._closed&&o(u,h[0]),this.curves=s,this.parts=c,this.length=l,this.index=0},_get:function(t){for(var e,n=this.parts,r=n.length,i=this.index;e=i,i&&!(n[--i].offset<t););for(;e<r;e++){var o=n[e];if(o.offset>=t){this.index=e;var a=n[e-1],u=a&&a.index===o.index?a.time:0,s=a?a.offset:0;return{index:o.index,time:u+(o.time-u)*(t-s)/(o.offset-s)}}}return{index:n[r-1].index,time:1}},drawPart:function(t,e,n){for(var r=this._get(e),i=this._get(n),o=r.index,a=i.index;o<=a;o++){var u=R.getPart(this.curves[o],o===r.index?r.time:0,o===i.index?i.time:1);o===r.index&&t.moveTo(u[0],u[1]),t.bezierCurveTo.apply(t,u.slice(2))}}},f.each(R._evaluateMethods,function(t){this[t+"At"]=function(e){var n=this._get(e);return R[t](this.curves[n.index],n.time)}},{})),V=f.extend({initialize:function(t){for(var e,n=this.points=[],r=t._segments,i=t._closed,o=0,a=r.length;o<a;o++){var u=r[o].point;e&&e.equals(u)||n.push(e=u.clone())}i&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=i},fit:function(t){var e=this.points,n=e.length,r=null;return n>0&&(r=[new L(e[0])],n>1&&(this.fitCubic(r,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(t,e,n,r,i,o){var a=this.points;if(r-n==1){var u=a[n],s=a[r],c=u.getDistance(s)/3;return void this.addCurve(t,[u,u.add(i.normalize(c)),s.add(o.normalize(c)),s])}for(var l,f=this.chordLengthParameterize(n,r),h=Math.max(e,e*e),d=!0,p=0;p<=4;p++){var g=this.generateBezier(n,r,f,i,o),v=this.findMaxError(n,r,g,f);if(v.error<e&&d)return void this.addCurve(t,g);if(l=v.index,v.error>=h)break;d=this.reparameterize(n,r,f,g),h=v.error}var _=a[l-1].subtract(a[l+1]);this.fitCubic(t,e,n,l,i,_),this.fitCubic(t,e,l,r,_.negate(),o)},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new L(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,r,i){for(var o=1e-12,a=Math.abs,u=this.points,s=u[t],c=u[e],l=[[0,0],[0,0]],f=[0,0],h=0,d=e-t+1;h<d;h++){var p=n[h],g=1-p,v=3*p*g,_=g*g*g,m=v*g,y=v*p,w=p*p*p,b=r.normalize(m),x=i.normalize(y),S=u[t+h].subtract(s.multiply(_+m)).subtract(c.multiply(y+w));l[0][0]+=b.dot(b),l[0][1]+=b.dot(x),l[1][0]=l[0][1],l[1][1]+=x.dot(x),f[0]+=b.dot(S),f[1]+=x.dot(S)}var C,A,M=l[0][0]*l[1][1]-l[1][0]*l[0][1];if(a(M)>o){var P=l[0][0]*f[1]-l[1][0]*f[0];C=(f[0]*l[1][1]-f[1]*l[0][1])/M,A=P/M}else{var k=l[0][0]+l[0][1],O=l[1][0]+l[1][1];C=A=a(k)>o?f[0]/k:a(O)>o?f[1]/O:0}var T,I,j=c.getDistance(s),E=o*j;if(C<E||A<E)C=A=j/3;else{var N=c.subtract(s);T=r.normalize(C),I=i.normalize(A),T.dot(N)-I.dot(N)>j*j&&(C=A=j/3,T=I=null)}return[s,s.add(T||r.normalize(C)),c.add(I||i.normalize(A)),c]},reparameterize:function(t,e,n,r){for(var i=t;i<=e;i++)n[i-t]=this.findRoot(r,this.points[i],n[i-t]);for(var i=1,o=n.length;i<o;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(t,e,n){for(var r=[],i=[],o=0;o<=2;o++)r[o]=t[o+1].subtract(t[o]).multiply(3);for(var o=0;o<=1;o++)i[o]=r[o+1].subtract(r[o]).multiply(2);var a=this.evaluate(3,t,n),u=this.evaluate(2,r,n),s=this.evaluate(1,i,n),c=a.subtract(e),l=u.dot(u)+c.dot(s);return v.isZero(l)?n:n-c.dot(u)/l},evaluate:function(t,e,n){for(var r=e.slice(),i=1;i<=t;i++)for(var o=0;o<=t-i;o++)r[o]=r[o].multiply(1-n).add(r[o+1].multiply(n));return r[0]},chordLengthParameterize:function(t,e){for(var n=[0],r=t+1;r<=e;r++)n[r-t]=n[r-t-1]+this.points[r].getDistance(this.points[r-1]);for(var r=1,i=e-t;r<=i;r++)n[r]/=n[i];return n},findMaxError:function(t,e,n,r){for(var i=Math.floor((e-t+1)/2),o=0,a=t+1;a<e;a++){var u=this.evaluate(3,n,r[a-t]),s=u.subtract(this.points[a]),c=s.x*s.x+s.y*s.y;c>=o&&(o=c,i=a)}return{error:o,index:i}}}),W=P.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&f.isPlainObject(t)&&t.x===s&&t.y===s;this._initialize(e&&t,!e&&m.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),$=W.extend({_class:"PointText",initialize:function(){W.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new y(t.x,t.y,this,"setPoint")},setPoint:function(){var t=m.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var r=this._lines,i=this._style,o=i.hasFill(),a=i.hasStroke(),u=i.getLeading(),s=t.shadowColor;t.font=i.getFontStyle(),t.textAlign=i.getJustification();for(var c=0,l=r.length;c<l;c++){t.shadowColor=s;var f=r[c];o&&(t.fillText(f,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(f,0,0),t.translate(0,u)}}},_getBounds:function(t,e){var n=this._style,r=this._lines,i=r.length,o=n.getJustification(),a=n.getLeading(),u=this.getView().getTextWidth(n.getFontStyle(),r),s=0;"left"!==o&&(s-=u/("center"===o?2:1));var c=new x(s,i?-.75*a:0,u,i*a);return t?t._transformBounds(c,c):c}}),H=f.extend(new function(){function t(t){var n,r=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(r){n=[0,0,0];for(var o=0;o<3;o++){var a=r[o+1];n[o]=parseInt(1==a.length?a+a:a,16)/255}}else if(r=t.match(/^rgba?\((.*)\)$/)){n=r[1].split(",");for(var o=0,u=n.length;o<u;o++){var a=+n[o];n[o]=o<3?a/255:a}}else if(c){var s=i[t];if(!s){e||(e=at.getContext(1,1),e.globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var l=e.getImageData(0,0,1,1).data;s=i[t]=[l[0]/255,l[1]/255,l[2]/255]}n=s.slice()}else n=[0,0,0];return n}var e,n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},i={},a=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],u={"rgb-hsb":function(t,e,n){var r=Math.max(t,e,n),i=Math.min(t,e,n),o=r-i;return[0===o?0:60*(r==t?(e-n)/o+(e<n?6:0):r==e?(n-t)/o+2:(t-e)/o+4),0===r?0:o/r,r]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var r=Math.floor(t),i=t-r,r=a[r],o=[n,n*(1-e),n*(1-e*i),n*(1-e*(1-i))];return[o[r[0]],o[r[1]],o[r[2]]]},"rgb-hsl":function(t,e,n){var r=Math.max(t,e,n),i=Math.min(t,e,n),o=r-i,a=0===o,u=a?0:60*(r==t?(e-n)/o+(e<n?6:0):r==e?(n-t)/o+2:(t-e)/o+4),s=(r+i)/2;return[u,a?0:s<.5?o/(r+i):o/(2-r-i),s]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var r=[t+1/3,t,t-1/3],i=n<.5?n*(1+e):n+e-n*e,o=2*n-i,a=[],u=0;u<3;u++){var s=r[u];s<0&&(s+=1),s>1&&(s-=1),a[u]=6*s<1?o+6*(i-o)*s:2*s<1?i:3*s<2?o+(i-o)*(2/3-s)*6:o}return a},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return f.each(n,function(t,e){r[e]=[],f.each(t,function(t,i){var o=f.capitalize(t),a=/^(hue|saturation)$/.test(t),u=r[e][i]="gradient"===t?function(t){var e=this._components[0];return t=G.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return m.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+o]=function(){return this._type===e||a&&/^hs[bl]$/.test(this._type)?this._components[i]:this._convert(e)[i]},this["set"+o]=function(t){this._type===e||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=n[e],this._type=e),this._components[i]=u.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function e(i){var a,u,s,c,l=arguments,h=this.__read,d=0;Array.isArray(i)&&(l=i,i=l[0]);var p=null!=i&&(void 0===i?"undefined":o(i));if("string"===p&&i in n&&(a=i,i=l[1],Array.isArray(i)?(u=i,s=l[2]):(h&&(d=1),l=f.slice(l,1),p=void 0===i?"undefined":o(i))),!u){if(c="number"===p?l:"object"===p&&null!=i.length?i:null){a||(a=c.length>=3?"rgb":"gray");var g=n[a].length;s=c[g],h&&(d+=c===arguments?g+(null!=s?1:0):1),c.length>g&&(c=f.slice(c,0,g))}else if("string"===p)a="rgb",u=t(i),4===u.length&&(s=u[3],u.length--);else if("object"===p)if(i.constructor===e){if(a=i._type,u=i._components.slice(),s=i._alpha,"gradient"===a)for(var v=1,_=u.length;v<_;v++){var m=u[v];m&&(u[v]=m.clone())}}else if(i.constructor===G)a="gradient",c=l;else{a="hue"in i?"lightness"in i?"hsl":"hsb":"gradient"in i||"stops"in i||"radial"in i?"gradient":"gray"in i?"gray":"rgb";var y=n[a],w=r[a];this._components=u=[];for(var v=0,_=y.length;v<_;v++){var b=i[y[v]];null==b&&!v&&"gradient"===a&&"stops"in i&&(b={stops:i.stops,radial:i.radial}),b=w[v].call(this,b),null!=b&&(u[v]=b)}s=i.alpha}h&&a&&(d=1)}if(this._type=a||"rgb",!u){this._components=u=[];for(var w=r[this._type],v=0,_=w.length;v<_;v++){var b=w[v].call(this,c&&c[v]);null!=b&&(u[v]=b)}}return this._components=u,this._properties=n[this._type],this._alpha=s,h&&(this.__read=d),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return f.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=u[this._type+"-"+t])?e.apply(this,this._components):u["rgb-"+t].apply(this,u[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new H(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=n[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=f.isPlainValue(t,!0)?H.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&f.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,r=g.instance,i=0,o=t.length;i<o;i++){var a=this._components[i];null!=a&&e.push(t[i]+": "+(n?a:r.number(a)))}return null!=this._alpha&&e.push("alpha: "+r.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var n=this._convert("rgb"),r=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],r<1&&n.push(r<0?0:r),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var e,n=this._components,r=n[0],i=r._stops,o=n[1],a=n[2];if(r._radial){var u=a.getDistance(o),s=n[3];if(s){var c=s.subtract(o);c.getLength()>u&&(s=o.add(c.normalize(u-.1)))}var l=s||o;e=t.createRadialGradient(l.x,l.y,0,o.x,o.y,u)}else e=t.createLinearGradient(o.x,o.y,a.x,a.y);for(var f=0,h=i.length;f<h;f++){var d=i[f],p=d._offset;e.addColorStop(null==p?f/(h-1):p,d._color.toCanvasStyle())}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,r=e.length;n<r;n++){var i=e[n];t._transformPoint(i,i,!0)}this._changed()}},statics:{_types:n,random:function t(){var t=Math.random;return new H(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return f.each(t,function(t,e){this[e]=function(e){e=H.read(arguments);for(var n=this._type,r=this._components,i=e._convert(n),o=0,a=r.length;o<a;o++)i[o]=t(r[o],i[o]);return new H(n,i,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),G=f.extend({_class:"Gradient",initialize:function(t,e){this._id=_.get(),t&&f.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return f.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=s))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new G(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,r=e.length;n<r;n++)e[n]._owner=s;e=this._stops=Y.readList(t,0,{clone:!0});for(var n=0,r=e.length;n<r;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,r=e.length;if(r===n.length){for(var i=0;i<r;i++)if(!e[i].equals(n[i]))return!1;return!0}}return!1}}),Y=f.extend({_class:"GradientStop",initialize:function(t,e){var n=t,r=e;"object"===(void 0===t?"undefined":o(t))&&e===s&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],r=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,r=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(r)},clone:function(){return new Y(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,r=this._offset;return f.serialize(null==r?[n]:[n,r],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=H.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),Z=f.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new m,selectedColor:null},e=f.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=f.set({},e,{fillColor:new H}),r={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},i={beans:!0},o={_class:"Style",beans:!0,initialize:function(r,i,o){this._values={},this._owner=i,this._project=i&&i._project||o||a.project,this._defaults=!i||i instanceof k?e:i instanceof W?n:t,r&&this.set(r)}};return f.each(e,function(t,e){var n=/Color$/.test(e),a="shadowOffset"===e,u=f.capitalize(e),c=r[e],l="set"+u,h="get"+u;o[l]=function(t){var r=this._owner,i=r&&r._children;if(i&&i.length>0&&!(r instanceof U))for(var o=0,a=i.length;o<a;o++)i[o]._style[l](t);else if(e in this._defaults){var u=this._values[e];u!==t&&(n&&(u&&u._owner!==s&&(u._owner=s),t&&t.constructor===H&&(t._owner&&(t=t.clone()),t._owner=r)),this._values[e]=t,r&&r._changed(c||65))}},o[h]=function(t){var r,i=this._owner,o=i&&i._children;if(e in this._defaults&&(!o||!o.length||t||i instanceof U)){var r=this._values[e];if(r===s)(r=this._defaults[e])&&r.clone&&(r=r.clone());else{var u=n?H:a?m:null;!u||r&&r.constructor===u||(this._values[e]=r=u.read([r],0,{readNull:!0,clone:!0}),r&&n&&(r._owner=i))}}else if(o)for(var c=0,l=o.length;c<l;c++){var d=o[c]._style[h]();if(c){if(!f.equals(r,d))return s}else r=d}return r},i[h]=function(t){return this._style[h](t)},i[l]=function(t){this._style[l](t)}}),f.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var n="get"+e,r="set"+e;o[n]=i[n]="#get"+t,o[r]=i[r]="#set"+t}),P.inject(i),o},{set:function(t){this._values={};var e=t instanceof Z,n=e?t._values:t;if(n)for(var r in n)if(r in this._defaults){var i=n[r];this[r]=i&&e&&i.clone?i.clone():i}},equals:function(t){function e(t,e,n){var r=t._values,i=e._values,o=e._defaults;for(var a in r){var u=r[a],c=i[a];if(!(n&&a in i||f.equals(u,c===s?o[a]:c)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=e?e:1.2*n}}),K=new function(){function t(t,e,n,r){for(var i=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var u=i[a],s=u?u+o:e;if(s in t){if(!n)return t[s];t[s]=r;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,r=t.ownerDocument,i=r.body,o=r.documentElement;try{n=t.getBoundingClientRect()}catch(t){n={left:0,top:0,width:0,height:0}}var a=n.left-(o.clientLeft||i.clientLeft||0),u=n.top-(o.clientTop||i.clientTop||0);if(!e){var s=r.defaultView;a+=s.pageXOffset||o.scrollLeft||i.scrollLeft,u+=s.pageYOffset||o.scrollTop||i.scrollTop}return new x(a,u,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,r=e.documentElement;return new x(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(t,e){return K.getBounds(t,e).getPoint()},getSize:function(t){return K.getBounds(t,!0).getSize()},isInvisible:function(t){return K.getSize(t).equals(new w(0,0))},isInView:function(t){return!K.isInvisible(t)&&K.getViewportBounds(t).intersects(K.getBounds(t,!0))},isInserted:function(t){return l.body.contains(t)},getPrefixed:function(e,n){return e&&t(e,n)},setPrefixed:function(e,n,r){if("object"===(void 0===n?"undefined":o(n)))for(var i in n)t(e,i,!0,n[i]);else t(e,n,!0,r)}}},J={add:function(t,e){if(t)for(var n in e)for(var r=e[n],i=n.split(/[\s,]+/g),o=0,a=i.length;o<a;o++)t.addEventListener(i[o],r,!1)},remove:function(t,e){if(t)for(var n in e)for(var r=e[n],i=n.split(/[\s,]+/g),o=0,a=i.length;o<a;o++)t.removeEventListener(i[o],r,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new m(e.pageX||e.clientX+l.documentElement.scrollLeft,e.pageY||e.clientY+l.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return J.getPoint(t).subtract(K.getOffset(e||J.getTarget(t)))}};J.requestAnimationFrame=new function(){function t(){var e=i;i=[];for(var o=0,a=e.length;o<a;o++)e[o]();(r=n&&i.length)&&n(t)}var e,n=K.getPrefixed(c,"requestAnimationFrame"),r=!1,i=[];return function(o){i.push(o),n?r||(n(t),r=!0):e||(e=setInterval(t,1e3/60))}};var X=f.extend(h,{_class:"View",initialize:function t(e,n){function r(t){return n[t]||parseInt(n.getAttribute(t),10)}function i(){var t=K.getSize(n);return t.isNaN()||t.isZero()?new w(r("width"),r("height")):t}var o;if(c&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="view-"+t._id++),J.add(n,this._viewEvents);var u="none";if(K.setPrefixed(n.style,{userDrag:u,userSelect:u,touchCallout:u,contentZooming:u,tapHighlightColor:"rgba(0,0,0,0)"}),d.hasAttribute(n,"resize")){var s=this;J.add(c,this._windowEvents={resize:function(){s.setViewSize(i())}})}if(o=i(),d.hasAttribute(n,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var f=this._stats.domElement,h=f.style,p=K.getOffset(n);h.position="absolute",h.left=p.x+"px",h.top=p.y+"px",l.body.appendChild(f)}}else o=new w(n),n=null;this._project=e,this._scope=e._scope,this._element=n,this._pixelRatio||(this._pixelRatio=c&&c.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new C)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!a.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;X._focused===this&&(X._focused=null),X._views.splice(X._views.indexOf(this),1),delete X._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),J.remove(this._element,this._viewEvents),J.remove(c,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:f.each(P._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;J.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;K.getPrefixed(l,"hidden")&&"true"!==d.getAttribute(e,"keepalive")||!K.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){a=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new f({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new f(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=s},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new b(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=w.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new x(new m,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return K.isInView(this._element)},isInserted:function(){return K.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var r=n.parentNode,i=l.createElement("div");i.style.fontSize=t,r.appendChild(i),e=parseFloat(K.getStyles(i).fontSize),r.removeChild(i)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},f.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var n=(e?f:m).read(arguments),r=m.read(arguments,0,{readNull:!0});return this.transform((new C)[t](n,r||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new C;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=m.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new C).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new y(e.x,e.y,this,"setScaling"):s},setScaling:function(){var t=this.getScaling(),e=m.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(m.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(m.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(m.read(arguments))},getEventPoint:function(t){return this.viewToProject(J.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return l&&"string"==typeof e&&(e=l.getElementById(e)),new(c?Q:X)(t,e)}}},new function(){function t(t){var e=J.getTarget(t);return e.getAttribute&&X._viewsById[e.getAttribute("id")]}function e(){var t=X._focused;if(!t||!t.isVisible())for(var e=0,n=X._views.length;e<n;e++)if((t=X._views[e]).isVisible()){X._focused=u=t;break}}function n(t,e,n){t._handleMouseEvent("mousemove",e,n)}function r(t,e,n,r,i,o,a){function u(t,n){if(t.responds(n)){if(s||(s=new rt(n,r,i,e||t,o?i.subtract(o):null)),t.emit(n,s)&&(P=!0,s.prevented&&(k=!0),s.stopped))return c=!0}else{var a=O[n];if(a)return u(t,a)}}for(var s,c=!1;t&&t!==a&&!u(t,n);)t=t._parent;return c}function i(t,e,n,i,o,a){return t._project.removeOn(n),k=P=!1,S&&r(S,null,n,i,o,a)||e&&e!==S&&!e.isDescendant(S)&&r(e,null,O[n]||n,i,o,a,S)||r(t,S||e||t,n,i,o,a)}if(c){var o,u,s,f,h,d=!1,p=!1,g=c.navigator;g.pointerEnabled||g.msPointerEnabled?(s="pointerdown MSPointerDown",f="pointermove MSPointerMove",h="pointerup pointercancel MSPointerUp MSPointerCancel"):(s="touchstart",f="touchmove",h="touchend touchcancel","ontouchstart"in c&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(s+=" mousedown",f+=" mousemove",h+=" mouseup"));var v={},_={mouseout:function(t){var e=X._focused,r=J.getRelatedTarget(t);if(e&&(!r||"HTML"===r.nodeName)){var i=J.getOffset(t,e._element),o=i.x,a=Math.abs,u=a(o),s=1<<25,c=u-s;i.x=a(c)<u?c*(o<0?-1:1):o,n(e,t,e.viewToProject(i))}},scroll:e};v[s]=function(e){var n=X._focused=t(e);d||(d=!0,n._handleMouseEvent("mousedown",e))},_[f]=function(r){var i=X._focused;if(!p){var a=t(r);a?i!==a&&(i&&n(i,r),o||(o=i),i=X._focused=u=a):u&&u===i&&(o&&!o.isInserted()&&(o=null),i=X._focused=o,o=null,e())}i&&n(i,r)},_[s]=function(){p=!0},_[h]=function(t){var e=X._focused;e&&d&&e._handleMouseEvent("mouseup",t),p=d=!1},J.add(l,_),J.add(c,{load:e});var m,y,w,b,x,S,C,A,M,P=!1,k=!1,O={doubleclick:"click",mousedrag:"mousemove"},T=!1,I={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:v,_handleMouseEvent:function(t,e,n){function o(t){return a.virtual[t]||l.responds(t)||c&&c.responds(t)}var a=this._itemEvents,u=a.native[t],s="mousemove"===t,c=this._scope.tool,l=this;s&&d&&o("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var f=this.getBounds().contains(n),h=u&&f&&l._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),p=h&&h.item||null,g=!1,v={};v[t.substr(5)]=!0,u&&p!==x&&(x&&r(x,null,"mouseleave",e,n),p&&r(p,null,"mouseenter",e,n),x=p),T^f&&(r(this,null,f?"mouseenter":"mouseleave",e,n),m=f?this:null,g=!0),!f&&!v.drag||n.equals(w)||(i(this,p,s?t:"mousemove",e,n,w),g=!0),T=f,(v.down&&f||v.up&&y)&&(i(this,p,t,e,n,y),v.down?(M=p===C&&Date.now()-A<300,b=C=p,S=!k&&p,y=n):v.up&&(k||p!==b||(A=Date.now(),i(this,p,M?"doubleclick":"click",e,n,y),M=!1),b=S=null),T=!1,g=!0),w=n,g&&c&&(P=c._handleMouseEvent(t,e,n,v)||P),(P&&!v.move||v.down&&o("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,n,r){function i(i){i.responds(t)&&(a=u,i.emit(t,o=o||new et(t,e,n,r)))}var o,u=this._scope,s=u.tool;this.isVisible()&&(i(this),s&&s.responds(t)&&i(s))},_countItemEvent:function(t,e){var n=this._itemEvents,r=n.native,i=n.virtual;for(var o in I)r[o]=(r[o]||0)+(I[o][t]||0)*e;i[t]=(i[t]||0)+e},statics:{updateFocus:e}}}}),Q=X.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof c.HTMLCanvasElement)){var n=w.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+f.slice(arguments,1));e=at.getCanvas(n)}var r=this._context=e.getContext("2d");if(r.save(),this._pixelRatio=1,!/^off|false$/.test(d.getAttribute(e,"hidpi"))){var i=c.devicePixelRatio||1,o=K.getPrefixed(r,"backingStorePixelRatio")||1;this._pixelRatio=i/o}X.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,n){var r=this._pixelRatio;if(t.base.call(this,e*r,n*r),1!==r){var i=this._element,o=this._context;if(!d.hasAttribute(i,"resize")){var a=i.style;a.width=e+"px",a.height=n+"px"}o.restore(),o.save(),o.scale(r,r)}},getPixelSize:function t(e){var n,r=a.agent;if(r&&r.firefox)n=t.base.call(this,e);else{var i=this._context,o=i.font;i.font=e+" serif",n=parseFloat(i.font),i.font=o}return n},getTextWidth:function(t,e){var n=this._context,r=n.font,i=0;n.font=t;for(var o=0,a=e.length;o<a;o++)i=Math.max(i,n.measureText(e[o]).width);return n.font=r,i},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),tt=f.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return nt.modifiers}}),et=tt.extend({_class:"KeyEvent",initialize:function(t,e,n,r){this.type=t,this.event=e,this.key=n,this.character=r},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),nt=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e?String.fromCharCode(t.keyCode):e,i[e]||(e.length>1?f.hyphenate(e):e.toLowerCase())}function e(t,r,i,o){var c,l=X._focused;if(u[r]=t,t?s[r]=i:delete s[r],r.length>1&&(c=f.camelize(r))in h){h[c]=t;var d=a&&a.agent;if("meta"===c&&d&&d.mac)if(t)n={};else{for(var p in n)p in s&&e(!1,p,n[p],o);n=null}}else t&&n&&(n[r]=i);l&&l._handleKeyEvent(t?"keydown":"keyup",o,r,i)}var n,r,i={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},o={tab:"\t",space:" ",enter:"\r"},u={},s={},h=new f({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=a&&a.agent;return t&&t.mac?this.meta:this.control}}});return J.add(l,{keydown:function(n){var i=t(n),u=a&&a.agent;i.length>1||u&&u.chrome&&(n.altKey||u.mac&&n.metaKey||!u.mac&&n.ctrlKey)?e(!0,i,o[i]||(i.length>1?"":i),n):r=i},keypress:function(n){if(r){var i=t(n),o=n.charCode,a=o>=32?String.fromCharCode(o):i.length>1?"":i;i!==r&&(i=a.toLowerCase()),e(!0,i,a,n),r=null}},keyup:function(n){var r=t(n);r in s&&e(!1,r,s[r],n)}}),J.add(c,{blur:function(t){for(var n in s)e(!1,n,s[n],t)}}),{modifiers:h,isDown:function(t){return!!u[t]}}},rt=tt.extend({_class:"MouseEvent",initialize:function(t,e,n,r,i){this.type=t,this.event=e,this.point=n,this.target=r,this.delta=i},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),it=tt.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t?t:e?e.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),ot=(p.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){p.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,n,r){function i(t,e){var i=n,o=u?h._point:h._downPoint||i;if(u){if(h._moveCount&&i.equals(o))return!1;if(o&&(null!=t||null!=e)){var a=i.subtract(o),s=a.getLength();if(s<(t||0))return!1;e&&(i=o.add(a.normalize(Math.min(s,e))))}h._moveCount++}return h._point=i,h._lastPoint=o||i,r.down&&(h._moveCount=-1,h._downPoint=i,h._downCount++),!0}function o(){s&&(f=h.emit(t,new it(h,t,e))||f)}a=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var u=r.move||r.drag,s=this.responds(t),c=this.minDistance,l=this.maxDistance,f=!1,h=this;if(r.down)i(),o();else if(r.up)i(null,l),o();else if(s)for(;i(c,l);)o();return f}}),{request:function(t){var e=new u.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,f.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var n=e.status;0===n||200===n?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var n=e.status,r='Could not load "'+t.url+'" (Status: '+n+")";if(!t.onError)throw new Error(r);t.onError(r,n)},e.send(null)}}),at={canvases:[],getCanvas:function(t,e){if(!c)return null;var n,r=!0;"object"===(void 0===t?"undefined":o(t))&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=l.createElement("canvas"),r=!1);var i=n.getContext("2d");if(!i)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?r&&i.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),i.save(),n},getContext:function(t,e){var n=this.getCanvas(t,e);return n?n.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},ut=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function e(e,n,r,i){var o=i-t(e,n,r);d=e+o,p=n+o,g=r+o;var i=t(d,p,g),a=v(d,p,g),u=_(d,p,g);if(a<0){var s=i-a;d=i+(d-i)*i/s,p=i+(p-i)*i/s,g=i+(g-i)*i/s}if(u>255){var c=255-i,l=u-i;d=i+(d-i)*c/l,p=i+(p-i)*c/l,g=i+(g-i)*c/l}}function n(t,e,n){return _(t,e,n)-v(t,e,n)}function r(t,e,n,r){var i,o=[t,e,n],a=_(t,e,n),u=v(t,e,n);u=u===t?0:u===e?1:2,a=a===t?0:a===e?1:2,i=0===v(u,a)?1===_(u,a)?2:1:0,o[a]>o[u]?(o[i]=(o[i]-o[u])*r/(o[a]-o[u]),o[a]=r):o[i]=o[a]=0,o[u]=0,d=o[0],p=o[1],g=o[2]}var i,o,a,u,s,c,l,h,d,p,g,v=Math.min,_=Math.max,m=Math.abs,y={multiply:function(){d=s*i/255,p=c*o/255,g=l*a/255},screen:function(){d=s+i-s*i/255,p=c+o-c*o/255,g=l+a-l*a/255},overlay:function(){d=s<128?2*s*i/255:255-2*(255-s)*(255-i)/255,p=c<128?2*c*o/255:255-2*(255-c)*(255-o)/255,g=l<128?2*l*a/255:255-2*(255-l)*(255-a)/255},"soft-light":function(){var t=i*s/255;d=t+s*(255-(255-s)*(255-i)/255-t)/255,t=o*c/255,p=t+c*(255-(255-c)*(255-o)/255-t)/255,t=a*l/255,g=t+l*(255-(255-l)*(255-a)/255-t)/255},"hard-light":function(){d=i<128?2*i*s/255:255-2*(255-i)*(255-s)/255,p=o<128?2*o*c/255:255-2*(255-o)*(255-c)/255,g=a<128?2*a*l/255:255-2*(255-a)*(255-l)/255},"color-dodge":function(){d=0===s?0:255===i?255:v(255,255*s/(255-i)),p=0===c?0:255===o?255:v(255,255*c/(255-o)),g=0===l?0:255===a?255:v(255,255*l/(255-a))},"color-burn":function(){d=255===s?255:0===i?0:_(0,255-255*(255-s)/i),p=255===c?255:0===o?0:_(0,255-255*(255-c)/o),g=255===l?255:0===a?0:_(0,255-255*(255-l)/a)},darken:function(){d=s<i?s:i,p=c<o?c:o,g=l<a?l:a},lighten:function(){d=s>i?s:i,p=c>o?c:o,g=l>a?l:a},difference:function(){d=s-i,d<0&&(d=-d),p=c-o,p<0&&(p=-p),(g=l-a)<0&&(g=-g)},exclusion:function(){d=s+i*(255-s-s)/255,p=c+o*(255-c-c)/255,g=l+a*(255-l-l)/255},hue:function(){r(i,o,a,n(s,c,l)),e(d,p,g,t(s,c,l))},saturation:function(){r(s,c,l,n(i,o,a)),e(d,p,g,t(s,c,l))},luminosity:function(){e(s,c,l,t(i,o,a))},color:function(){e(i,o,a,t(s,c,l))},add:function(){d=v(s+i,255),p=v(c+o,255),g=v(l+a,255)},subtract:function(){d=_(s-i,0),p=_(c-o,0),g=_(l-a,0)},average:function(){d=(s+i)/2,p=(c+o)/2,g=(l+a)/2},negation:function(){d=255-m(255-i-s),p=255-m(255-o-c),g=255-m(255-a-l)}},w=this.nativeModes=f.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),b=at.getContext(1,1);b&&(f.each(y,function(t,e){var n="darken"===e,r=!1;b.save();try{b.fillStyle=n?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=e,b.globalCompositeOperation===e&&(b.fillStyle=n?"#a00":"#300",b.fillRect(0,0,1,1),r=b.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(t){}b.restore(),w[e]=r}),at.release(b)),this.process=function(t,e,n,r,f){var v=e.canvas,_="normal"===t;if(_||w[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=r,_||(n.globalCompositeOperation=t),n.drawImage(v,f.x,f.y),n.restore();else{var m=y[t];if(!m)return;for(var b=n.getImageData(f.x,f.y,v.width,v.height),x=b.data,S=e.getImageData(0,0,v.width,v.height).data,C=0,A=x.length;C<A;C+=4){i=S[C],s=x[C],o=S[C+1],c=x[C+1],a=S[C+2],l=x[C+2],u=S[C+3],h=x[C+3],m();var M=u*r/255,P=1-M;x[C]=M*d+P*s,x[C+1]=M*p+P*c,x[C+2]=M*g+P*l,x[C+3]=u*r+P*h}n.putImageData(b,f.x,f.y)}}},st=new function(){function t(t,e,i){return n(l.createElementNS(r,t),e,i)}function e(t,e){var n=a[e],r=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===r?null:r}function n(t,e,n){for(var r in e){var i=e[r],o=a[r];"number"==typeof i&&n&&(i=n.number(i)),o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}return t}var r="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",o="http://www.w3.org/1999/xlink",a={href:o,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};return{svg:r,xmlns:i,xlink:o,create:t,get:e,set:n}},ct=f.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof D||t instanceof T||t instanceof W)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=f.capitalize(e),r=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:r,fromSVG:r&&f.each(r,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});return new function(){function t(t,e,n){var r=new f,i=t.getTranslation();if(e){t=t._shiftless();var o=t._inverseTransform(i);r[n?"cx":"x"]=o.x,r[n?"cy":"y"]=o.y,i=null}if(!t.isIdentity()){var a=t.decompose();if(a){var u=[],s=a.rotation,c=a.scaling,l=a.skewing;i&&!i.isZero()&&u.push("translate("+w.point(i)+")"),s&&u.push("rotate("+w.number(s)+")"),v.isZero(c.x-1)&&v.isZero(c.y-1)||u.push("scale("+w.point(c)+")"),l&&l.x&&u.push("skewX("+w.number(l.x)+")"),l&&l.y&&u.push("skewY("+w.number(l.y)+")"),r.transform=u.join(" ")}else r.transform="matrix("+t.getValues().join(",")+")"}return r}function e(e,n){for(var r=t(e._matrix),i=e._children,o=st.create("g",r,w),a=0,u=i.length;a<u;a++){var s=i[a],c=m(s,n);if(c)if(s.isClipMask()){var l=st.create("clipPath");l.appendChild(c),d(s,l,"clip"),st.set(o,{"clip-path":"url(#"+l.id+")"})}else o.appendChild(c)}return o}function n(e,n){var r=t(e._matrix,!0),i=e.getSize(),o=e.getImage();return r.x-=i.width/2,r.y-=i.height/2,r.width=i.width,r.height=i.height,r.href=n.embedImages===!1&&o&&o.src||e.toDataURL(),st.create("image",r,w)}function r(e,n){var r=n.matchShapes;if(r){var o=e.toShape(!1);if(o)return i(o,n)}var a,u=e._segments,s=u.length,c=t(e._matrix);if(r&&s>=2&&!e.hasHandles())if(s>2){a=e._closed?"polygon":"polyline";for(var l=[],f=0;f<s;f++)l.push(w.point(u[f]._point));c.points=l.join(" ")}else{a="line";var h=u[0]._point,d=u[1]._point;c.set({x1:h.x,y1:h.y,x2:d.x,y2:d.y})}else a="path",c.d=e.getPathData(null,n.precision);return st.create(a,c,w)}function i(e){var n=e._type,r=e._radius,i=t(e._matrix,!0,"rectangle"!==n);if("rectangle"===n){n="rect";var o=e._size,a=o.width,u=o.height;i.x-=a/2,i.y-=u/2,i.width=a,i.height=u,r.isZero()&&(r=null)}return r&&("circle"===n?i.r=r:(i.rx=r.width,i.ry=r.height)),st.create(n,i,w)}function o(e,n){var r=t(e._matrix),i=e.getPathData(null,n.precision);return i&&(r.d=i),st.create("path",r,w)}function a(e,n){var r=t(e._matrix,!0),i=e._definition,o=h(i,"symbol"),a=i._item,u=a.getBounds();return o||(o=st.create("symbol",{viewBox:w.rectangle(u)}),o.appendChild(m(a,n)),d(i,o,"symbol")),r.href="#"+o.id,r.x+=u.x,r.y+=u.y,r.width=u.width,r.height=u.height,r.overflow="visible",st.create("use",r,w)}function s(t){var e=h(t,"color");if(!e){var n,r=t.getGradient(),i=r._radial,o=t.getOrigin(),a=t.getDestination();if(i){n={cx:o.x,cy:o.y,r:o.getDistance(a)};var u=t.getHighlight();u&&(n.fx=u.x,n.fy=u.y)}else n={x1:o.x,y1:o.y,x2:a.x,y2:a.y};n.gradientUnits="userSpaceOnUse",e=st.create((i?"radial":"linear")+"Gradient",n,w);for(var s=r._stops,c=0,l=s.length;c<l;c++){var f=s[c],p=f._color,g=p.getAlpha(),v=f._offset;n={offset:null==v?c/(l-1):v},p&&(n["stop-color"]=p.toCSS(!0)),g<1&&(n["stop-opacity"]=g),e.appendChild(st.create("stop",n,w))}d(t,e,"color")}return"url(#"+e.id+")"}function c(e){var n=st.create("text",t(e._matrix,!0),w);return n.textContent=e._content,n}function l(t,e,n){var r={},i=!n&&t.getParent(),o=[];return null!=t._name&&(r.id=t._name),f.each(ct,function(e){var n=e.get,a=e.type,u=t[n]();if(e.exportFilter?e.exportFilter(t,u):!i||!f.equals(i[n](),u)){if("color"===a&&null!=u){var c=u.getAlpha();c<1&&(r[e.attribute+"-opacity"]=c)}"style"===a?o.push(e.attribute+": "+u):r[e.attribute]=null==u?"none":"color"===a?u.gradient?s(u,t):u.toCSS(!0):"array"===a?u.join(","):"lookup"===a?e.toSVG[u]:u}}),o.length&&(r.style=o.join(";")),1===r.opacity&&delete r.opacity,t._visible||(r.visibility="hidden"),st.set(e,r,w)}function h(t,e){return b||(b={ids:{},svgs:{}}),t&&b.svgs[e+"-"+(t._id||t.__id||(t.__id=_.get("svg")))]}function d(t,e,n){b||h();var r=b.ids[n]=(b.ids[n]||0)+1;e.id=n+"-"+r,b.svgs[n+"-"+(t._id||t.__id)]=e}function p(t,e){var n=t,r=null;if(b){n="svg"===t.nodeName.toLowerCase()&&t;for(var i in b.svgs)r||(n||(n=st.create("svg"),n.appendChild(t)),r=n.insertBefore(st.create("defs"),n.firstChild)),r.appendChild(b.svgs[i]);b=null}return e.asString?(new u.XMLSerializer).serializeToString(n):n}function m(t,e,n){var r=S[t._class],i=r&&r(t,e);if(i){var o=e.onExport;o&&(i=o(t,i,e)||i);var a=JSON.stringify(t._data);a&&"{}"!==a&&"null"!==a&&i.setAttribute("data-paper-data",a)}return i&&l(t,i,n)}function y(t){return t||(t={}),w=new g(t.precision),t}var w,b,S={Group:e,Layer:e,Raster:n,Path:r,Shape:i,CompoundPath:o,SymbolItem:a,PointText:c};P.inject({exportSVG:function(t){return t=y(t),p(m(this,t,!0),t)}}),M.inject({exportSVG:function(e){e=y(e);var n=this._children,r=this.getView(),i=f.pick(e.bounds,"view"),o=e.matrix||"view"===i&&r._matrix,a=o&&C.read([o]),u="view"===i?new x([0,0],r.getViewSize()):"content"===i?P._getBounds(n,a,{stroke:!0}):x.read([i],0,{readNull:!0}),s={version:"1.1",xmlns:st.svg,"xmlns:xlink":st.xlink};u&&(s.width=u.width,s.height=u.height,(u.x||u.y)&&(s.viewBox=w.rectangle(u)));var c=st.create("svg",s,w),l=c;a&&!a.isIdentity()&&(l=c.appendChild(st.create("g",t(a),w)));for(var h=0,d=n.length;h<d;h++)l.appendChild(m(n[h],e,!0));return p(c,e)}})},new function(){function t(t,e,n,r,i){var o=st.get(t,e),a=null==o?r?null:n?"":0:n?o:parseFloat(o);return/%\s*$/.test(o)?a/100*(i?1:O[/x|^width/.test(e)?"width":"height"]):a}function e(e,n,r,i,o){return n=t(e,n||"x",!1,i,o),r=t(e,r||"y",!1,i,o),!i||null!=n&&null!=r?new m(n,r):null}function n(e,n,r,i,o){return n=t(e,n||"width",!1,i,o),r=t(e,r||"height",!1,i,o),!i||null!=n&&null!=r?new w(n,r):null}function r(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?b(t)||t:"lookup"===e?n[t]:t}function i(t,e,n,r){var i=t.childNodes,o="clippath"===e,a="defs"===e,u=new k,s=u._project,c=s._currentStyle,l=[];if(o||a||(u=y(u,t,r),s._currentStyle=u._style.clone()),r)for(var f=t.querySelectorAll("defs"),h=0,d=f.length;h<d;h++)S(f[h],n,!1);for(var h=0,d=i.length;h<d;h++){var p,g=i[h];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(p=S(g,n,!1))||p instanceof E||l.push(p)}return u.addChildren(l),o&&(u=y(u.reduce(),t,r)),s._currentStyle=c,(o||a)&&(u.remove(),u=null),u}function h(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,o=n.length;i<o;i+=2)r.push(new m(parseFloat(n[i]),parseFloat(n[i+1])));var a=new F(r);return"polygon"===e&&a.closePath(),a}function d(t){return D.create(t.getAttribute("d"))}function p(n,r){var i,o=(t(n,"href",!0)||"").substring(1),a="radialgradient"===r;if(o)i=j[o].getGradient(),i._radial^a&&(i=i.clone(),i._radial=a);else{for(var u=n.childNodes,s=[],c=0,l=u.length;c<l;c++){var f=u[c];1===f.nodeType&&s.push(y(new Y,f))}i=new G(s,a)}var h,d,p,g="userSpaceOnUse"!==t(n,"gradientUnits",!0);return a?(h=e(n,"cx","cy",!1,g),d=h.add(t(n,"r",!1,!1,g),0),p=e(n,"fx","fy",!0,g)):(h=e(n,"x1","y1",!1,g),d=e(n,"x2","y2",!1,g)),y(new H(i,h,d,p),n)._scaleToBounds=g,null}function g(t,e,n,r){if(t.transform){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),o=new C,a=0,u=i.length;a<u;a++){var s=i[a];if(!s)break;for(var c=s.split(/\(\s*/),l=c[0],f=c[1].split(/[\s,]+/g),h=0,d=f.length;h<d;h++)f[h]=parseFloat(f[h]);switch(l){case"matrix":o.append(new C(f[0],f[1],f[2],f[3],f[4],f[5]));break;case"rotate":o.rotate(f[0],f[1],f[2]);break;case"translate":o.translate(f[0],f[1]);break;case"scale":o.scale(f);break;case"skewX":o.skew(f[0],0);break;case"skewY":o.skew(0,f[0])}}t.transform(o)}}function v(t,e,n){var r="fill-opacity"===n?"getFillColor":"getStrokeColor",i=t[r]&&t[r]();i&&i.setAlpha(parseFloat(e))}function _(t,e,n){var r=t.attributes[e],i=r&&r.value;if(!i){var o=f.camelize(e);i=t.style[o],i||n.node[o]===n.parent[o]||(i=n.node[o])}return i?"none"===i?null:i:s}function y(t,e,n){var r=e.parentNode,i={node:K.getStyles(e)||{},parent:!n&&!/^defs$/i.test(r.tagName)&&K.getStyles(r)||{}};return f.each(L,function(n,r){var o=_(e,r,i);t=o!==s&&n(t,o,r,e,i)||t}),t}function b(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],r=n&&j[c?n.replace(c.location.href.split("#")[0]+"#",""):n];return r&&r._scaleToBounds&&(r=r.clone(),r._scaleToBounds=!0),r}function S(t,e,r){var i,o,u,s=t.nodeName.toLowerCase(),c="#document"!==s,h=l.body;r&&c&&(O=n(t,null,null,!0)||a.getView().getSize(),i=st.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),o=t.parentNode,u=t.nextSibling,i.appendChild(t),h.appendChild(i));var d=a.settings,p=d.applyMatrix,g=d.insertItems;d.applyMatrix=!1,d.insertItems=!1;var v=N[s],_=v&&v(t,s,e,r)||null;if(d.insertItems=g,d.applyMatrix=p,_){!c||_ instanceof k||(_=y(_,t,r));var m=e.onImport,w=c&&t.getAttribute("data-paper-data");m&&(_=m(t,_,e)||_),e.expandShapes&&_ instanceof T&&(_.remove(),_=_.toPath()),w&&(_._data=JSON.parse(w))}return i&&(h.removeChild(i),o&&(u?o.insertBefore(t,u):o.appendChild(t))),r&&(j={},_&&f.pick(e.applyMatrix,p)&&_.matrix.apply(!0,!0)),_}function A(t,e,n){function r(r){try{var l="object"===(void 0===r?"undefined":o(r))?r:(new u.DOMParser).parseFromString(r,"image/svg+xml");if(!l.nodeName)throw l=null,new Error("Unsupported SVG source: "+t);a=c,f=S(l,e,!0),e&&e.insert===!1||n._insertItem(s,f);var h=e.onLoad;h&&h(f,r)}catch(t){i(t)}}function i(t,n){var r=e.onError;if(!r)throw new Error(t);r(t,n)}if(!t)return null;e="function"==typeof e?{onLoad:e}:e||{};var c=a,f=null;if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var h=new FileReader;return h.onload=function(){r(h.result)},h.onerror=function(){i(h.error)},h.readAsText(t)}r(t)}else{var d=l.getElementById(t);d?r(d):ot.request({url:t,async:!0,onLoad:r,onError:i})}return f}var O,j={},N={"#document":function(t,e,n,r){for(var i=t.childNodes,o=0,a=i.length;o<a;o++){var u=i[o];if(1===u.nodeType)return S(u,n,r)}},g:i,svg:i,clippath:i,polygon:h,polyline:h,path:d,lineargradient:p,radialgradient:p,image:function(r){var i=new I(t(r,"href",!0));return i.on("load",function(){var t=n(r);this.setSize(t);var i=this._matrix._transformPoint(e(r).add(t.divide(2)));this.translate(i)}),i},symbol:function(t,e,n,r){return new E(i(t,e,n,r),!0)},defs:i,use:function(n){var r=(t(n,"href",!0)||"").substring(1),i=j[r],o=e(n);return i?i instanceof E?i.place(o):i.clone().translate(o):null},circle:function(n){return new T.Circle(e(n,"cx","cy"),t(n,"r"))},ellipse:function(t){return new T.Ellipse({center:e(t,"cx","cy"),radius:n(t,"rx","ry")})},rect:function(t){return new T.Rectangle(new x(e(t),n(t)),n(t,"rx","ry"))},line:function(t){return new F.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function t(n){var t=new $(e(n).add(e(n,"dx","dy")));return t.setContent(n.textContent.trim()||""),t}},L=f.set(f.each(ct,function(t){this[t.attribute]=function(e,n){if(e[t.set]&&(e[t.set](r(n,t.type,t.fromSVG)),"color"===t.type)){var i=e[t.get]();if(i){if(i._scaleToBounds){var o=e.getBounds();i.transform((new C).translate(o.getPoint()).scale(o.getSize()))}e instanceof T&&i.transform((new C).translate(e.getPosition(!0).negate()))}}}},{}),{id:function(t,e){j[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var n=b(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof k))return new k(n,t);t.insertChild(0,n)}},gradientTransform:g,transform:g,"fill-opacity":v,"stroke-opacity":v,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,i,o,a){var u,s,c=new x(r(e,"array")),l=n(o,null,null,!0);if(t instanceof k){var f=l?l.divide(c.getSize()):1,s=(new C).scale(f).translate(c.getPoint().negate());u=t}else t instanceof E&&(l&&c.setSize(l),u=t._item);if(u){if("visible"!==_(o,"overflow",a)){var h=new T.Rectangle(c);h.setClipMask(!0),u.addChild(h)}s&&u.transform(s)}}});P.inject({importSVG:function(t,e){return A(t,e,this)}}),M.inject({importSVG:function(t,e){return this.activate(),A(t,e,this)}})},a=new(d.inject(f.exports,{enumerable:!0,Base:f,Numerical:v,Key:nt,DomEvent:J,DomElement:K,document:l,window:c,Symbol:E,PlacedSymbol:j})),a.agent.node&&n(92)(a),r=a,(i="function"==typeof r?r.call(e,n,e,t):r)!==s&&(t.exports=i),a}.call(void 0,"object"===("undefined"==typeof self?"undefined":o(self))?self:null)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];return t.concat([e])}function a(t,e,n){return[].concat(i(t.slice(0,e)),[n],i(t.slice(e+1)))}function u(t,e){var n=void 0;return y.default.reduce(t,function(t,r){var i=e(r);if(n===i&&t[t.length-1])t[t.length-1].push(r);else{var o=[r];t.push(o)}return n=i,t},[])}function s(t,e){return y.default.reduce(t,function(t,n){if(e(n)||!t[t.length-1]){var r=[n];t.push(r)}else t[t.length-1].push(n);return t},[])}function c(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n}function l(t){return y.default.filter([t.type,t,y.default.map(t.children,l)],function(t){return y.default.size(t)})}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=y.default.min(n.map(function(t){return t.length})),o=new Array(i),a=function(e){var r=n.map(function(t){return t[e]});o[e]=t.apply(null,r)},u=0;u<i;u++)a(u);return o}function h(t,e,n){var r=0;return y.default.map(e,function(e){var i=y.default.slice(n,r,r+e.length);return r+=e.length,t(e,i)})}function d(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.map(function(e){return e(t)})}}function p(t,e,n){var r=void 0,i=1,o=0;for(y.default.isUndefined(n)?(r=new Array(e.length),r[0]=e[0],o++):(r=new Array(e.length+1),r[0]=n);o<e.length;o++,i++)r[i]=t(r[i-1],e[o]);return r}function g(t){return!(t%2)}function v(t){return!g(t)}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.constructor,r=t.children?y.default.map(t.children,_):void 0;return new n(Object.assign({},t,e),r)}Object.defineProperty(e,"__esModule",{value:!0}),e.set=e.clone=e.isOdd=e.isEven=e.reductions=e.juxt=e.mapDeep=e.map=e.partitionWhen=e.partitionBy=e.serialize=e.doTimes=e.concat=void 0;var m=n(0),y=r(m),w=n(1);r(w);e.concat=o,e.doTimes=c,e.serialize=l,e.partitionBy=u,e.partitionWhen=s,e.map=f,e.mapDeep=h,e.juxt=d,e.reductions=p,e.isEven=g,e.isOdd=v,e.clone=_,e.set=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return e&&t===e.type}Object.defineProperty(e,"__esModule",{value:!0}),e.hasDuration=e.isPitched=e.isMarking=e.isVoice=e.isTimeSignature=e.isText=e.isSystem=e.isSlur=e.isScore=e.isRepeat=e.isRest=e.isNote=e.isMeasure=e.isLine=e.isKey=e.isDynamic=e.isClef=e.isChordSymbol=e.isChord=void 0;var o=n(0),a=r(o),u=n(1),s=r(u),c=a.default.partial(i,s.default.type.chord),l=a.default.partial(i,s.default.type.chordSymbol),f=a.default.partial(i,s.default.type.clef),h=a.default.partial(i,s.default.type.dynamic),d=a.default.partial(i,s.default.type.key),p=a.default.partial(i,s.default.type.line),g=a.default.partial(i,s.default.type.measure),v=a.default.partial(i,s.default.type.note),_=a.default.partial(i,s.default.type.rest),m=a.default.partial(i,s.default.type.score),y=a.default.partial(i,s.default.type.slur),w=a.default.partial(i,s.default.type.system),b=a.default.partial(i,s.default.type.timeSig),x=a.default.partial(i,s.default.type.voice),S=a.default.partial(i,s.default.type.repeat),C=a.default.partial(i,s.default.type.text),A=function(t){return f(t)||d(t)||b(t)||S(t)},M=function(t){return v(t)||c(t)},P=function(t){return v(t)||c(t)||_(t)};e.isChord=c,e.isChordSymbol=l,e.isClef=f,e.isDynamic=h,e.isKey=d,e.isLine=p,e.isMeasure=g,e.isNote=v,e.isRest=_,e.isRepeat=S,e.isScore=m,e.isSlur=y,e.isSystem=w,e.isText=C,e.isTimeSignature=b,e.isVoice=x,e.isMarking=A,e.isPitched=M,e.hasDuration=P},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e,n){return t>=0?function(t){return e+n*(3+t)}:function(t){return e-n*(3+t)}}function u(t,e,n){var r=Math.round(j.getNoteHeadCenter(t.bounds.center).y-e.y),i=[],o=a(r,e.y,n);if(Math.abs(r)>=3*n)for(var u=0;u<=Math.ceil(Math.abs(r)-3*n)/n;u++){var s=o(u),c=new P.default.Point(t.bounds.leftCenter.x-Scored.config.note.head.width/2,s),l=new P.default.Point(t.bounds.rightCenter.x+Scored.config.note.head.width/2,s);i.push(new P.default.Path.Line(c,l))}return new P.default.Group({children:i,strokeColor:"black"})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,W[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default"])(t,e)}function c(t){for(var e=void 0,n=[],r=["F","D","B","G","E"],i=0;i<5;i++)e=new P.default.Path.Line(new P.default.Point(0,i*Scored.config.lineSpacing),new P.default.Point(t,i*Scored.config.lineSpacing)),e.name=r[i],e.strokeColor="black",n.push(e);var o=new P.default.Rectangle(n[0].firstSegment.point,n[4].lastSegment.point);return o=new P.default.Path.Rectangle(o),o.fillColor="#FFFFFF",o.opacity=0,o.name="bounds",new P.default.Group({name:"systemLine",children:V.default.flatten([o,n])})}function l(t){var e=t[0],n=t[t.length-1],r=new P.default.Path.Line(N.f(e),N.e(n));return r.strokeColor="black",r.strokeWidth=2,r}function f(t,e){var n=e.top,r=void 0===n?0:n,i=e.left,o=void 0===i?0:i,a=e.bottom,u=void 0===a?0:a,s=e.right,c=void 0===s?0:s,l=new P.default.Path.Rectangle({name:"itemBounds",from:t.bounds.topLeft.subtract([o,r]),to:t.bounds.bottomRight.add([c,u])});return l.fillColor="#FFFFFF",l.opacity=0,t.addChild(l),t}function h(t,e){for(var n=[],r=Scored.config.note.head.width/2,i=0;i<e;i++){var o=new P.default.Path.Circle(t,2);o.fillColor="black",n.push(o),t=t.add(r,0)}return n}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Scored.config.layout.lineSpacing;return[new P.default.Path.Circle({center:new P.default.Point(t,e+1.5*n),radius:2,fillColor:"black"}),new P.default.Path.Circle({center:new P.default.Point(t,e+2.5*n),radius:2,fillColor:"black"})]}function p(){var t=(Scored.config.layout.lineSpacing,-Scored.config.note.head.width/2),e=new P.default.Path.Line({from:[t,0],to:[t,4*Scored.config.layout.lineSpacing],strokeColor:"black",strokeWidth:1}),n=d();return new P.default.Group({name:"repeat",children:[e].concat(o(n))})}function g(t){var e=new P.default.Path.Circle(t,1.5);return e.fillColor="black",e}function v(t){var e=Scored.config.note.head.width/2,n=new P.default.Path.Line(t.subtract(e,0),t.add(e,0));return n.strokeColor="black",n}function _(t,e){return t.add(K[e])}function m(t,e,n){var r=e[0],i=e[e.length-1],o=r.x+(i.x-r.x)/2,a=i.subtract(r).normalize();a.angle<-Scored.config.maxBeamAngle?a=new P.default.Point({angle:-Scored.config.maxBeamAngle,length:1}):a.angle>Scored.config.maxBeamAngle&&(a=new P.default.Point({angle:Scored.config.maxBeamAngle,length:1}));var u=4.5*Scored.config.stepSpacing,s=(0,F.map)(function(t,e){return(0,k.isNote)(t)?z.defaultStemPoint(t,e,u):(0,k.isChord)(t)?B.defaultStemPoint(t,e,u):void 0},t,n),c=void 0;if("up"===n[0]){var l=V.default.min(s,function(t){return t.y});c=e.map(function(t){return t.y<l.y?t.y:l.y})}else if("down"===n[0]){var f=V.default.max(s,function(t){return t.y});c=e.map(function(t){return t.y>f.y?t.y:f.y})}return[new P.default.Point(o,V.default.sum(c)/c.length),a]}function y(t,e,n,r,i,o,a,u,s){var c=V.default.last(t),l=[0,s],f=void 0;if(f="up"===u?e.add(l):e.subtract(l),r&&r<n&&(!i||i<n)){var h=(0,U.getLinePoint)(f.x-10,o,a),d="up"===u?h.add(l):h.subtract(l);c.push(d)}if(c.push(f),i&&!r&&i<n){var p=(0,U.getLinePoint)(f.x+10,o,a),g="up"===u?p.add(l):p.subtract(l);c.push(g)}}function w(t,e){var n=e.line,r=void 0===n?"b4":n,i=e.fulcrum,o=e.vector,a=e.stemDirections,u=X[V.default.max(V.default.map(t,function(t){return t.value}))],s=t.map(function(t){return t.value}),c=(0,F.map)(function(t,e){return(0,k.isNote)(t)?z.getStemLength(t,r,e):(0,k.isChord)(t)?B.getStemLength(t,r,e):void 0},t,a),l=t.map(function(t,e){return(0,k.isNote)(t)?z.defaultStemPoint(t,a[e],c[e]):(0,k.isChord)(t)?B.defaultStemPoint(t,a[e],c[e]):void 0});if(i&&!o){o=A(m(t,l,a),2)[1]}else if(o&&!i){var f=m(t,l,a),h=A(f,1);i=h[0]}else{var d=m(t,l,a),p=A(d,2);i=p[0],o=p[1]}var g=(0,F.doTimes)(u,function(){return[[]]});V.default.reduce(t,function(e,n,r){var u=V.default.last(e),c=s[r],l=a[r],f=V.default.last(e),h=s[r-1],d=s[r+1],p=t[r+1],v=p?p.calculateStemPoint(i,o,a[r+1]):null;return V.default.last(g[0]).push(u),c>=16&&y(g[1],f,c,h,d,i,o,l,5),c>=32&&y(g[2],f,c,h,d,i,o,l,10),c>=64&&y(g[3],f,c,h,d,i,o,l,15),c>=128&&y(g[4],f,c,h,d,i,o,l,20),c>=256&&y(g[5],f,c,h,d,i,o,l,25),c<16&&g[1]&&g[1].push([]),c<32&&g[2]&&g[2].push([]),c<64&&g[3]&&g[3].push([]),c<128&&g[4]&&g[4].push([]),c<256&&g[5]&&g[5].push([]),n.drawStem(u,l),(0,F.concat)(e,v)},[t[0].calculateStemPoint(i,o,a[0])]);var v=V.default.map(V.default.flatten(g),function(t){return new P.default.Path({segments:t,strokeColor:"black",strokeWidth:3})});return new P.default.Group({name:"beam",children:v})}function b(t){return(0,k.isNote)(t)?t.group.children.stem.segments[1].point:t.group.bounds.topCenter}function x(t,e,n){var r=(0,D.parseSignature)(t[0].tuplet),i=A(r,1),o=i[0],a=V.default.map(t,b),u=a[0].x-Scored.config.note.head.width/2,s=V.default.last(a).x+Scored.config.note.head.width/2,c=s-u,l=n||(V.default.sum(V.default.map(a,function(t){return t.y-e.y}))>=0?"down":"up"),f=void 0;if("up"===l){f=V.default.min(a,function(t){return t.y}).y-Scored.config.note.head.height}else if("down"===l){var h=V.default.max(a,function(t){return t.y});f=h.y+Scored.config.note.head.height}var d=new P.default.Point(u,f),p=new P.default.Point([s,f]),g=d.add(c/2,0),v=new P.default.PointText({content:o,fontFamily:"gonvillealpha",fontSize:Scored.config.fontSize/1.5,position:g}),_="up"===l?d.add(0,5):d.subtract(0,5),m=new P.default.Path.Line({segments:[_,d,v.bounds.leftCenter]}),y="up"===l?p.add(0,5):p.subtract(0,5),w=new P.default.Path.Line({segments:[v.bounds.rightCenter,p,y]});return new P.default.Group({children:[m,v,w],strokeColor:"black"})}function S(t){return new P.default.PointText({content:t,fontFamily:"gonvillealpha",fontSize:Scored.config.fontSize,fillColor:"black"})}function C(t){return new P.default.PointText({content:t,fontFamily:"gonvillealpha",fontSize:Scored.config.fontSize/1.5,fillColor:"black"})}Object.defineProperty(e,"__esModule",{value:!0}),e.drawChordSymbol=e.drawDynamic=e.drawTuplets=e.beam=e.drawRest=e.getFlagOffset=e.drawFlag=e.drawAccidental=e.drawTenuto=e.drawStaccato=e.drawRepeat=e.drawDots=e.drawHead=e.drawTimeSig=e.drawClef=e.drawSystemBar=e.drawLine=e.drawBarline=e.drawLegerLines=void 0;var A=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M=n(2),P=i(M),k=n(4),O=n(1),T=i(O),I=n(8),j=r(I),E=n(9),N=r(E),L=n(7),z=r(L),R=n(40),B=r(R),D=n(6),F=n(3),U=n(41),q=n(0),V=i(q),W={final:function(t,e){var n=t[0],r=t[t.length-1],i=new P.default.Group({name:"barline"}),o=new P.default.Path.Line(N.f(n).add(e,0),N.e(r).add(e,0)),a=new P.default.Path.Line(N.f(n).add(e-5,0),N.e(r).add(e-5,0));return i.addChildren([o,a]),i.strokeColor="black",o.strokeWidth=3,a.strokeWidth=1,i},repeat:function(t,e){var n=t[0],r=t[t.length-1],i=new P.default.Group({name:"barline"}),o=new P.default.Path.Line(N.f(n).add(e,0),N.e(r).add(e,0)),a=new P.default.Path.Line(N.f(n).add(e-5,0),N.e(r).add(e-5,0));return i.addChildren([o,a]),i.strokeColor="black",o.strokeWidth=3,a.strokeWidth=1,t.map(function(t){var n=d(e-Scored.config.note.head.width,N.f(t).y);i.addChildren(n)}),i},default:function(t,e){var n=t[0],r=t[t.length-1],i=new P.default.Group({name:"barline"}),o=new P.default.Path.Line(N.f(n).add(e,0),N.e(r).add(e,0));return i.addChild(o),o.strokeColor="black",o.strokeWidth=1,i}},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new P.default.PointText({content:{treble:"9",bass:"8",alto:"7",tenor:"7"}[t],fontFamily:"gonville",fontSize:32,fillColor:"black",name:"clef"});return f(new P.default.Group({name:"clef",children:[n]}),e)},H=function(t,e){var n=void 0;if("c"===t)n=new P.default.Group(new P.default.PointText({content:T.default.font.timeSigs.common,fontFamily:"gonville",fontSize:32,fillColor:"black"}));else if("h"===t)n=new P.default.Group(new P.default.PointText({content:T.default.font.timeSigs.half,fontFamily:"gonville",fontSize:32,fillColor:"black"}));else{var r=t.split("/"),i=A(r,2),o=i[0],a=i[1],u=new P.default.PointText({content:o,fontFamily:"gonvillealpha",fontSize:32,fillColor:"black"}),s=new P.default.PointText({content:a,fontFamily:"gonvillealpha",fontSize:32,fillColor:"black"});n=new P.default.Group([u,s]),s.translate([0,u.bounds.height/2])}return f(n,e)},G=function(t){var e=void 0;return e=t>=1?T.default.font.noteheads.whole:t>=.5?T.default.font.noteheads.hollow:T.default.font.noteheads.solid,new P.default.PointText({name:"head",content:e,fontFamily:"gonville",fontSize:Scored.config.fontSize,fillColor:"black"})},Y=function(t){var e={"#":T.default.font.accidentals.sharp,b:T.default.font.accidentals.flat,bb:T.default.font.accidentals.doubleFlat,x:T.default.font.accidentals.doubleSharp,n:T.default.font.accidentals.natural}[t];return new P.default.PointText({content:e,fontFamily:"gonville",fontSize:Scored.config.fontSize,fillColor:"black"})},Z=function(t,e){var n={8:"eighth",16:"sixteenth",32:"thirtysecond",64:"sixtyfourth",128:"onehundredtwentyeighth"}[t];if(n)return new P.default.PointText({content:T.default.font.flags[n][e],fontFamily:"gonville",fontSize:Scored.config.fontSize,fillColor:"black"})},K={up:[4,-9],down:[5,-11]},J=function(t){return new P.default.PointText({content:T.default.font.rests[t],fontFamily:"gonville",fontSize:Scored.config.fontSize,fillColor:"black"})},X={8:1,16:2,32:3,64:4,128:5,256:6};e.drawLegerLines=u,e.drawBarline=s,e.drawLine=c,e.drawSystemBar=l,e.drawClef=$,e.drawTimeSig=H,e.drawHead=G,e.drawDots=h,e.drawRepeat=p,e.drawStaccato=g,e.drawTenuto=v,e.drawAccidental=Y,e.drawFlag=Z,e.getFlagOffset=_,e.drawRest=J,e.beam=w,e.drawTuplets=x,e.drawDynamic=S,e.drawChordSymbol=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){var e=(0,N.isTimeSignature)(t)?t.value:t;if("c"===e||"h"===e)return[4,4];var n=e.split("/");return[+n[0],+n[1]]}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=O(e,2),r=n[0],i=n[1],o=r*(1/i);return Math.floor(t/o)}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=I.default.isArray(e)?e:o(e),i=O(r,2),a=i[0],u=i[1];return(t-n)%(a*(1/u))/(1/u)}function s(t,e){var n=void 0,r=e.measure,i=e.time;if(I.default.isNumber(e.measure)||(r=c(t,e.time)),r>=t.length){var a=I.default.last(t);i=d(a)+a.startsAt}var s=t[r];if((0,N.isTimeSignature)(e)&&(i=s.startsAt,n=0),!I.default.isNumber(e.time)&&!I.default.isNumber(i)){var l=s.startsAt;if(I.default.isNumber(e.beat)){i=l+1/O(o(s.timeSig),2)[1]*e.beat}else i=l}return s&&(n=e.beat||u(i,s.timeSig,s.startsAt)),{time:i,measure:r,beat:n}}function c(t,e){var n=I.default.find(t,function(t){var n=t.startsAt+d(t);return e>=t.startsAt&&e<n});return n?n.value:I.default.last(t).value+1}function l(t,e){return t[c(t,e)]}function f(t){var e=o(t),n=O(e,2);return n[0]*(1/n[1])}function h(t,e){return O(o(t),2)[1]*(1/e)}function d(t){return f(t.timeSig)}function p(t,e){var n=t.time,r=t.measure,i=void 0===r?0:r,o=t.beat,a=void 0===o?0:o,u=e.time,s=e.measure,c=void 0===s?0:s,l=e.beat,f=void 0===l?0:l;return I.default.isNumber(n)&&I.default.isNumber(u)?n<=u:i===c?a<=f:i<c}function g(t,e){var n=t.measure,r=void 0===n?0:n,i=t.beat,o=void 0===i?0:i,a=e.measure,u=void 0===a?0:a,s=e.beat,c=void 0===s?0:s;return r===u?o<=c:r<u}function v(t,e){var n=t.time,r=void 0===n?0:n,i=e.time;return r<=(void 0===i?0:i)}function _(t,e){return t.time===e.time}function m(t){var e=I.default.mapValues(I.default.groupBy(t,function(t){return O(t,2)[1].measure||0}),function(t){return I.default.groupBy(t,function(t){return O(t,2)[1].beat})});return Array.prototype.concat.apply([],I.default.map(b(e),b))}function y(t){return b(I.default.groupBy(t,function(t){return t.time}))}function w(t){if(!((0,N.isNote)(t)||(0,N.isChord)(t)||(0,N.isRest)(t)||(0,N.isRepeat)(t)))return 0;for(var e=t.tuplet?t.tuplet.split("/"):null,n=e?new E.default(e[0],e[1]):null,r=t.dots||0,i=new E.default(1,t.value),o=0;o<r;o++)i=i.mul(1.5);return n&&i&&(i=i.mul(e[1]).div(e[0])),i}function b(t){var e=I.default.keys(t),n=I.default.sortBy(e,function(t){return parseFloat(t)});return I.default.map(n,function(e){return t[e]})}function x(t){return I.default.reduce(t,function(t,e){return t.add(w(e))},(0,E.default)(0)).valueOf()}function S(t,e){return(I.default.isObject(t)?t.time:t)>(I.default.isObject(e)?e.time:e)}function C(t,e){return(I.default.isObject(t)?t.time:t)<(I.default.isObject(e)?e.time:e)}function A(t,e){return(I.default.isObject(t)?t.time:t)>=(I.default.isObject(e)?e.time:e)}function M(t,e){return(I.default.isObject(t)?t.time:t)<=(I.default.isObject(e)?e.time:e)}function P(t){return W[(0,E.default)(t).toFraction()]}Object.defineProperty(e,"__esModule",{value:!0}),e.equals=e.sumDurations=e.parseSignature=e.calculateDuration=e.splitByMeasure=e.splitByTime=e.getMeasureNumber=e.getMeasureDuration=e.calculateTupletDuration=e.getTimeSigDuration=e.compareByTime=e.compareByPosition=e.compareTimes=e.getBeat=e.getMeasureByTime=e.getMeasure=e.getTime=void 0;var k,O=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.gt=S,e.lt=C,e.gte=A,e.lte=M,e.absoluteToRelativeDuration=P;var T=n(0),I=r(T),j=n(35),E=r(j),N=n(4),L=(0,E.default)(1),z=(0,E.default)(1,2),R=(0,E.default)(1,4),B=(0,E.default)(1,8),D=(0,E.default)(1,16),F=(0,E.default)(1,32),U=(0,E.default)(1,64),q=(0,E.default)(1,128),V=(0,E.default)(1,256),W=(k={},i(k,L.toFraction(),Object.freeze({value:1,dots:0})),i(k,z.toFraction(),Object.freeze({value:2,dots:0})),i(k,R.toFraction(),Object.freeze({value:4,dots:0})),i(k,B.toFraction(),Object.freeze({value:8,dots:0})),i(k,D.toFraction(),Object.freeze({value:16,dots:0})),i(k,F.toFraction(),Object.freeze({value:32,dots:0})),i(k,U.toFraction(),Object.freeze({value:64,dots:0})),i(k,L.add(z).toFraction(),Object.freeze({value:1,dots:1})),i(k,z.add(R).toFraction(),Object.freeze({value:2,dots:1})),i(k,R.add(B).toFraction(),Object.freeze({value:4,dots:1})),i(k,B.add(D).toFraction(),Object.freeze({value:8,dots:1})),i(k,D.add(F).toFraction(),Object.freeze({value:16,dots:1})),i(k,F.add(U).toFraction(),Object.freeze({value:32,dots:1})),i(k,U.add(q).toFraction(),Object.freeze({value:64,dots:1})),i(k,L.add(z).add(R).toFraction(),Object.freeze({value:1,dots:2})),i(k,z.add(R).add(B).toFraction(),Object.freeze({value:2,dots:2})),i(k,R.add(B).add(D).toFraction(),Object.freeze({value:4,dots:2})),i(k,B.add(D).add(F).toFraction(),Object.freeze({value:8,dots:2})),i(k,D.add(F).add(U).toFraction(),Object.freeze({value:16,dots:2})),i(k,F.add(U).add(q).toFraction(),Object.freeze({value:32,dots:2})),i(k,U.add(q).add(V).toFraction(),Object.freeze({value:64,dots:2})),k);e.getTime=s,e.getMeasure=a,e.getMeasureByTime=l,e.getBeat=u,e.compareTimes=p,e.compareByPosition=g,e.compareByTime=v,e.getTimeSigDuration=f,e.calculateTupletDuration=h,e.getMeasureDuration=d,e.getMeasureNumber=c,e.splitByTime=y,e.splitByMeasure=m,e.calculateDuration=w,e.parseSignature=o,e.sumDurations=x,e.equals=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=_.default.note(t),r=_.default.note(e);return 7*(r.octave()-n.octave())+(w[r.name()]-w[n.name()])}function o(t,e,n){var r=3.5*Scored.config.lineSpacing;if(!e)return r;var o=i(e,t.pitch);if("up"===n&&o>=0)return r;if("down"===n&&o<0)return r;var a=o*Scored.config.stepSpacing;return Math.max(r,Math.abs(a))}function a(t,e,n){var r=void 0,i=void 0;return"up"===e?(r=t.noteHead.bounds.rightCenter.add(0,Scored.config.note.head.yOffset),i=r.subtract([0,n])):(r=t.noteHead.bounds.leftCenter.add(0,Scored.config.note.head.yOffset),i=r.add([0,n])),i}function u(t,e){return y.default.sum(t.map(function(t){return i(e,t.pitch)}))}function s(t,e){var n=y.default.sum(t.map(function(t){return(0,g.isNote)(t)?i(e,t.pitch):(0,g.isChord)(t)?u(t.children,e):0}))<0?"up":"down";return t.map(function(){return n})}function c(t,e,n){var r=new d.default.Path({segments:[t,e],strokeColor:"black",strokeWidth:2});return r.segments[0].handleOut=n,r.segments[1].handleIn=n,r}function l(t,e){var n=e.name,r=e.accidental;if(!t)return!1;var i=y.default.map(t.getPitches(),x);return!!y.default.findWhere(i,{name:n,accidental:r})}Object.defineProperty(e,"__esModule",{value:!0}),e.hasPitch=e.parsePitch=e.getAverageStemDirection=e.getSteps=e.slur=e.defaultStemPoint=e.getStemLength=void 0;var f=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=n(2),d=r(h),p=n(3),g=n(4),v=n(37),_=r(v),m=n(0),y=r(m),w={c:0,d:1,e:2,f:3,g:4,a:5,b:6},b=function(t){return y.default.reduce(t,function(t,e){return t+e},"")},x=y.default.memoize(function(t){var e=(0,p.partitionBy)(t,function(t){return!!y.default.isNaN(Number.parseInt(t))}),n=f(e,2),r=n[0],i=n[1],o=y.default.first(r),a=b(r.slice(1));return Object.freeze({name:o,accidental:a,octave:b(i)})});e.getStemLength=o,e.defaultStemPoint=a,e.slur=c,e.getSteps=i,e.getAverageStemDirection=s,e.parsePitch=x,e.hasPitch=l},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){return B[t]}function u(t){return D[t]}function s(t){return F[t]}function c(t,e){return t*e}function l(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.note.octave(),o=a(t.note.name());return(n.degree+7*n.octave-(o+7*i)-(4-n.offset)+r)*e}function f(t){return new T.default.Point(t).subtract(0,Scored.config.note.head.yOffset)}function h(t){return t.add(0,Scored.config.note.head.yOffset)}function d(t,e){var n="up"===e?Scored.config.layout.lineSpacing:-Scored.config.layout.lineSpacing;return t.noteHead.bounds.center.add(0,Scored.config.note.head.yOffset+n)}function p(t){for(var e=void 0,n=void 0,r=void 0,i=1;i<t.length;i++)e=t[i-1],n=t[i],r=n.bounds.center.x-n.bounds.left+(e.bounds.right-e.bounds.center.x),n.position.x=e.position.x+r}function g(t,e){if((0,R.isNote)(e)&&e.note.accidental()){var n=e.noteHead.bounds.center.x-e.noteHead.bounds.left;e.group.position.x=t+n}else if((0,R.isDynamic)(e)){var r=5;e.group.bounds.center.x=t+r}else{var i=e.group.bounds.center.x-e.group.bounds.left;e.group.position.x=t+i}}function v(t){return(U[t.type]||function(){return 0})(t)}function _(t,e){j.default.each(e,function(e){var n=(0,R.isNote)(e)?e:e.children[0],r=t-n.noteHead.bounds.center.x;e.group.translate([r,0])})}function m(){}function y(t,e){var n=N.calculateDuration(e);return n<t?1:1+Math.log2(n/t)}function w(t){return t.bounds.top+q[t.content]}function b(t){return t.bounds.bottom}function x(t){return h(t.noteHead.bounds.center).add(-Scored.config.note.accidental.xOffset,Scored.config.note.accidental.yOffset)}function S(t,e){var n=Scored.config.note.head.width,r=j.default.partition(t,R.isMarking),i=k(r,2),o=i[0],a=i[1],u=j.default.groupBy(o,function(t){return t.type}),s=u.clef,c=u.key,l=u.timeSig,f=function(t){return t.group.bounds.width+n},h=s?j.default.max(s.map(f)):0,d=c?j.default.max(c.map(f)):0,p=l?j.default.max(l.map(f)):0,g=j.default.sum([h,d,p]),v=j.default.map(j.default.reject(a,R.isDynamic),function(t){return t.group.bounds.width+n*y(e,t)});return[g,v.length?j.default.min(v):0]}function C(t){var e=Scored.config.note.head.width,n=Scored.config.shortestDuration,r=0;if((0,R.isMarking)(t))r=t.group.children.length?t.group.bounds.width+e:0;else if(t.type===z.default.type.measure){var i=t.barlines[0];r=i.position.x+e}else r=t.group.bounds.width+e*y(n,t);return r}function A(t,e,n){return n.group.translate(t.add([0,v(n)])),g(e,n),C(n)}function M(t,e,n){return e+(n-e)*t}Object.defineProperty(e,"__esModule",{value:!0}),e.getArticulationPoint=e.scaleCursor=e.placeMarking=e.calculateTimeLength=e.calculateDefaultAccidentalPosition=e.getAccidentalBottom=e.getAccidentalTop=e.alignNoteHeads=e.placeAt=e.calculateCursor=e.getStaffSpace=e.commonShortestDuration=e.getYOffset=e.lineup=e.getLineNames=e.getClefBase=e.getNoteHeadCenter=e.getNoteHeadOffset=e.calculateAccidentalYpos=e.calculateNoteYpos=void 0;var P,k=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=n(2),T=i(O),I=n(0),j=i(I),E=n(6),N=r(E),L=n(1),z=i(L),R=n(4),B={c:0,d:1,e:2,f:3,g:4,a:5,b:6},D={treble:{pitch:"C",degree:0,octave:5,offset:3},bass:{pitch:"F",degree:3,octave:3,offset:2},alto:{pitch:"C",degree:0,octave:4,offset:4},tenor:{pitch:"C",degree:0,octave:4,offset:2}},F={treble:["f","e","d","c","b","a","g","f","e"],base:["a","g","f","e","d","c","b","a","g"],alto:["g","f","e","d","c","b","a","g","f"],tenor:["e","d","c","b","a","g","f","e","d"]},U=(P={},o(P,z.default.type.clef,function(t){var e=t.value;return{treble:1.5*Scored.config.note.head.width,bass:1.5*Scored.config.note.head.width-17,alto:1.5*Scored.config.note.head.width-9,tenor:1.5*Scored.config.note.head.width-18}[e]}),o(P,z.default.type.key,function(){return 1.5*Scored.config.note.head.width-8}),o(P,z.default.type.timeSig,function(t){var e=t.value;return"c"===e||"h"===e?-9:1.5*Scored.config.note.head.width}),o(P,z.default.type.rest,function(t){return 1===t.value?0:Scored.config.layout.lineSpacing}),o(P,z.default.type.chordSymbol,function(){return-16}),o(P,z.default.type.repeat,function(){return 0}),P),q={};q[z.default.font.accidentals.sharp]=10,q[z.default.font.accidentals.flat]=10,q[z.default.font.accidentals.doubleFlat]=10,q[z.default.font.accidentals.doubleSharp]=10,q[z.default.font.accidentals.natural]=10,e.calculateNoteYpos=l,e.calculateAccidentalYpos=c,e.getNoteHeadOffset=f,e.getNoteHeadCenter=h,e.getClefBase=u,e.getLineNames=s,e.lineup=p,e.getYOffset=v,e.commonShortestDuration=m,e.getStaffSpace=y,e.calculateCursor=C,e.placeAt=g,e.alignNoteHeads=_,e.getAccidentalTop=w,e.getAccidentalBottom=b,e.calculateDefaultAccidentalPosition=x,e.calculateTimeLength=S,e.placeMarking=A,e.scaleCursor=M,e.getArticulationPoint=d},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(e){return e instanceof d.default.PlacedSymbol?e.symbol.definition.children[t].segments[0].point:e.children[t].segments[0].point}}function a(t){var e=g.default.map(t.children,function(t){return t.barlines[0].position});return function(n){var r=g.default.map(e,function(t){return n.x-t.x});return t.children[g.default.indexOf(r,g.default.min(g.default.filter(r,function(t){return t>=0})))]}}function u(t,e,n,r){return g.default.reduce(t.voices,function(t,i){if(g.default.isString(i)){var o=g.default.find(e,function(t){return t.name===i});return o?(0,y.concat)(t,o.getTimeFrame(n,r,!0)):t}if(!g.default.isObject(i))return t},[])}function s(t,e,n){var r=t.markings.concat(n),i=g.default.map(g.default.groupBy(r,function(t){return(0,v.getTime)(e,t).time}),function(n){var r=(0,v.getTime)(e,n[0]);return{time:r,items:n,context:t.contextAt(r)}});return g.default.sortBy(i,function(t){return t.time.time})}function c(t,e,n,r){var i=g.default.groupBy(e,function(t){return t.time.measure});return g.default.map(t,function(t){var e=g.default.reduce(i[t.value],function(t,e){var n=e.items,i=w(n,r),o=f(i,2),a=o[0],u=o[1];return[t[0]+a,t[1]+u]},[0,0]),o=f(e,2),a=o[0],u=o[1];return a+(u?u:Scored.config.measure.length)+n})}function l(t,e,n){var r=n.items,i=g.default.groupBy(r,function(t){return t.type}),o=i.clef,a=i.key,u=i.timeSig,s=i.repeat;return o&&(e+=m.placeMarking(t,e,o[0])),a&&(e+=m.placeMarking(t,e,a[0])),u&&(e+=m.placeMarking(t,e,u[0])),s&&(e+=m.placeMarking(t,e,s[0])),e}Object.defineProperty(e,"__esModule",{value:!0}),e.positionMarkings=e.calculateMeasureLengths=e.getTimeContexts=e.getLineItems=e.getMeasure=e.e=e.g=e.b=e.d=e.f=void 0;var f=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=n(2),d=i(h),p=n(0),g=i(p),v=n(6),_=(n(4),n(8)),m=r(_),y=n(3),w=m.calculateTimeLength,b=o("F"),x=o("D"),S=o("B"),C=o("G"),A=o("E");e.f=b,e.d=x,e.b=S,e.g=C,e.e=A,e.getMeasure=a,e.getLineItems=u,e.getTimeContexts=s,e.calculateMeasureLengths=c,e.positionMarkings=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.value,n=void 0===e?"treble":e,r=t.measure,i=t.beat;this.value=n,this.measure=r,this.beat=i}function o(t){return d[t.value]}Object.defineProperty(e,"__esModule",{value:!0}),e.getCenterLineValue=o;var a=n(2),u=r(a),s=n(5),c=n(1),l=r(c),f=n(15),h=l.default.type.clef;i.prototype.type=h,i.prototype.render=function(){var t={top:0,left:2,bottom:0,right:7},e=this.group=new u.default.Group({name:h});return e.addChild((0,s.drawClef)(this.value,t)),e.position=[0,0],e},i.prototype.equals=function(t){return(0,f.clefEquals)(this,t)};var d={treble:"b4",bass:"d3",alto:"c4",tenor:"a4"};e.default=i},function(t,e,n){"use strict";t.exports={notes:{c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]},intervals:{unison:[0,0],second:[3,-5],third:[2,-3],fourth:[1,-1],fifth:[0,1],sixth:[3,-4],seventh:[2,-2],octave:[1,0]},intervalFromFifth:["second","sixth","third","seventh","fourth","unison","fifth"],intervalsIndex:["unison","second","third","fourth","fifth","sixth","seventh","octave","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth"],fifths:["f","c","g","d","a","e","b"],accidentals:["bb","b","","#","x"],sharp:[-4,7],A4:[3,3],durations:{.25:"longa",.5:"breve",1:"whole",2:"half",4:"quarter",8:"eighth",16:"sixteenth",32:"thirty-second",64:"sixty-fourth",128:"hundred-twenty-eighth"},qualityLong:{P:"perfect",M:"major",m:"minor",A:"augmented",AA:"doubly augmented",d:"diminished",dd:"doubly diminished"},alterations:{perfect:["dd","d","P","A","AA"],minor:["dd","d","m","M","A","AA"]},symbols:{min:["m3","P5"],m:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"]},chordShort:{major:"M",minor:"m",augmented:"aug",diminished:"dim","half-diminished":"7b5",power:"5",dominant:"7"},stepNumber:{unison:1,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,octave:8,ninth:9,eleventh:11,thirteenth:13},intervalSolfege:{dd1:"daw",d1:"de",P1:"do",A1:"di",AA1:"dai",d2:"raw",m2:"ra",M2:"re",A2:"ri",AA2:"rai",d3:"maw",m3:"me",M3:"mi",A3:"mai",dd4:"faw",d4:"fe",P4:"fa",A4:"fi",AA4:"fai",dd5:"saw",d5:"se",P5:"so",A5:"si",AA5:"sai",d6:"law",m6:"le",M6:"la",A6:"li",AA6:"lai",d7:"taw",m7:"te",M7:"ti",A7:"tai",dd8:"daw",d8:"de",P8:"do",A8:"di",AA8:"dai"}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return""===t?"n":"##"===t?"x":t}function o(t,e){return i(t)===i(e)}function a(t,e,n){var r=t.name,a=t.accidental,u=t.octave,s=h.default.filter(e,function(t){return t.name===r&&t.octave===u}),c=l(s,1),f=c[0];return(0,d.hasPitch)(n,{name:r,accidental:a,octave:u})?f?o(f.accidental,a)?void 0:i(a):void 0:f&&o(f.accidental,a)?void 0:i(a)}function u(t,e){var n=h.default.map(t,g),r=h.default.map(e,g);return h.default.union(h.default.map(h.default.difference(h.default.union(n,r),h.default.intersection(n,r)),function(n){var r=h.default.findWhere(e,n);return r?r:h.default.findWhere(t,n)}),e)}function s(t){var e=new Array(t.length);e[0]=[];for(var n=0;n<t.length-1;n++){var r=h.default.groupBy(t[n].items,function(t){return t.type}),i=r.note,o=void 0===i?[]:i,a=r.chord,s=void 0===a?[]:a,c=h.default.reduce(s,function(t,e){return t.concat(e.children)},[]),l=h.default.map(o.concat(c),function(t){var e=t.pitch;return(0,d.parsePitch)(e)});e[n+1]=u(e[n],l)}return e}function c(t){var e=(0,p.partitionBy)(t,function(t){return t.time.measure});return h.default.flatten(h.default.map(e,s))}Object.defineProperty(e,"__esModule",{value:!0}),e.getAccidentalContexts=e.createAccidentalContext=e.getAccidental=void 0;var l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=n(0),h=r(f),d=n(7),p=n(3),g=h.default.memoize(function(t){var e=t.name,n=t.octave;return Object.freeze({name:e,octave:n})},function(t){return""+t.name+t.octave});e.getAccidental=a,e.createAccidentalContext=u,e.getAccidentalContexts=c},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.pitch,n=t.pitchClass,r=void 0===n?"a":n,i=t.octave,o=void 0===i?4:i,a=t.value,u=void 0===a?4:a,s=t.dots,l=void 0===s?0:s,f=t.slur,h=t.tuplet,d=t.time,p=t.staccato,g=t.tenuto,v=t.portato,_=t.voice;this.pitch=e||r+o,this.pitchClass=r,this.octave=this.octave,this.note=c.default.note(this.pitch,{value:u,dots:l}),this.value=u,this.dots=l,this.tuplet=h,this.time=d,this.voice=_,this.slur=f,this.staccato=p,this.tenuto=g,this.portato=v}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),u=i(a),s=n(37),c=i(s),l=n(0),f=i(l),h=n(5),d=r(h),p=n(41),g=n(8),v=r(g),_=n(7),m=r(_),y=n(12),w=n(1),b=i(w),x=n(10),S=n(3),C=n(15),A=b.default.type.note;o.prototype.type=A,o.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.render(e);return o.renderAccidental(t,e.accidentals,e.key),t.renderStem(),n},o.renderAccidental=function(t,e,n){var r=m.parsePitch(t.pitch),i=n?(0,y.getAccidental)(r,e,n):r.accidental;if(!f.default.isUndefined(i)){var o=v.calculateDefaultAccidentalPosition(t);t.drawAccidental(i).translate(o)}},o.renderDots=function(t,e){t.dots&&t.drawDots(t.dots,e)},o.prototype.renderStem=function(t,e){if(this.needsStem()){e=e||this.getStemDirection(t);var n=m.defaultStemPoint(this,e,m.getStemLength(this,t,e));this.drawStem(n,e),this.drawFlag()}},o.prototype.render=function(){var t=this.group=new u.default.Group({name:A}),e=v.getNoteHeadOffset([0,0]),n=this.noteHead=d.drawHead(1/this.value);return n.position=e,t.addChild(n),t},o.prototype.needsStem=function(){return this.note.duration.value>=2},o.prototype.needsFlag=function(){return this.note.duration.value>=8},o.prototype.drawLegerLines=function(t,e){var n=d.drawLegerLines(this.noteHead,t,e);n&&this.group.addChild(n)},o.prototype.drawGroupBounds=function(){var t=new u.default.Rectangle(this.group.bounds);e.right+=5;var e=new u.default.Path.Rectangle({name:"bounds",rectangle:t});e.fillColor="#FFF",e.opacity=0,this.group.insertChild(0,e)},o.prototype.drawStem=function(t,e){var n=void 0,r=void 0;return"up"===e?(this.stemDirection="up",n=this.noteHead.bounds.rightCenter.add(0,Scored.config.note.head.yOffset)):(this.stemDirection="down",n=this.noteHead.bounds.leftCenter.add(0,Scored.config.note.head.yOffset)),r=new u.default.Path.Line({name:"stem",from:n,to:t,strokeColor:"black",strokeWidth:2}),this.group.addChild(r),r},o.prototype.drawFlag=function(){var t=this.value,e=this.group.children.stem,n=d.drawFlag(t,this.stemDirection);return n&&(n.position=d.getFlagOffset(e.segments[1].point,this.stemDirection),this.group.addChild(n)),n},o.prototype.drawAccidental=function(t){var e=d.drawAccidental(t);return e.position=[0,0],this.group.addChild(e),e},o.prototype.drawDots=function(t,e,n){var r=(0,x.getCenterLineValue)(e),i=m.getSteps(r,this.pitch),o=this.noteHead.bounds.center.y+Scored.config.note.head.yOffset,a=(0,S.isEven)(i)?o-Scored.config.layout.stepSpacing:o,s=void 0;s=n?new u.default.Point(n,a):new u.default.Point(this.noteHead.bounds.right+Scored.config.note.head.width/2,a);var c=d.drawDots(s,t);this.group.addChildren(c)},o.prototype.drawArticulations=function(){var t=this.staccato||this.tenuto||this.portato?v.getArticulationPoint(this,this.stemDirection):null;if(this.staccato){var e=d.drawStaccato(t);this.group.addChild(e)}if(this.tenuto){var n=d.drawTenuto(t);this.group.addChild(n)}if(this.portato){var r=d.drawStaccato(t);this.group.addChild(r),this.slur}},o.prototype.getStemDirection=function(t){return this.stemDirection?this.stemDirection:t?m.getSteps(t,this.pitch)<0?"up":"down":"up"},o.prototype.calculateStemPoint=function(t,e,n){return(0,p.getLinePoint)("up"===n?this.noteHead.bounds.right:this.noteHead.bounds.left,t,e)},o.prototype.equals=function(t){return(0,C.noteEquals)(this,t)},e.default=o},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.coord=t}var i=n(11),o=n(39),a=n(61);r.prototype={name:function(){return i.intervalsIndex[this.number()-1]},semitones:function(){return o.sum(o.mul(this.coord,[12,7]))},number:function(){return Math.abs(this.value())},value:function(){var t,e,n=o.sub(this.coord,o.mul(i.sharp,Math.floor((this.coord[1]-2)/7)+1));return t=i.intervalFromFifth[n[1]+5],e=i.stepNumber[t]+7*(n[0]-i.intervals[t][0]),e>0?e:e-2},type:function(){return i.intervals[this.base()][0]<=1?"perfect":"minor"},base:function(){var t,e=o.sub(this.coord,o.mul(i.sharp,this.qualityValue()))[1];return e=this.value()>0?e+5:-(e-5)%7,e=e<0?i.intervalFromFifth.length+e:e,t=i.intervalFromFifth[e],"unison"===t&&this.number()>=8&&(t="octave"),t},direction:function(t){if(t){return(this.value()>=1?"up":"down")!==t&&(this.coord=o.mul(this.coord,-1)),this}return this.value()>=1?"up":"down"},simple:function t(e){var t=i.intervals[this.base()];return t=o.add(t,o.mul(i.sharp,this.qualityValue())),e||(t="down"===this.direction()?o.mul(t,-1):t),new r(t)},isCompound:function(){return this.number()>8},octaves:function t(){var e,t;return"up"===this.direction()?(e=o.sub(this.coord,o.mul(i.sharp,this.qualityValue())),t=e[0]-i.intervals[this.base()][0]):(e=o.sub(this.coord,o.mul(i.sharp,-this.qualityValue())),t=-(e[0]+i.intervals[this.base()][0])),t},invert:function(){var t=this.base(),e=this.qualityValue(),n="minor"===this.type()?-(e-1):-e,a=i.intervals[i.intervalsIndex[9-i.stepNumber[t]-1]];return a=o.add(a,o.mul(i.sharp,n)),new r(a)},quality:function t(e){var t=i.alterations[this.type()][this.qualityValue()+2];return e?i.qualityLong[t]:t},qualityValue:function(){return"down"===this.direction()?Math.floor((-this.coord[1]-2)/7)+1:Math.floor((this.coord[1]-2)/7)+1},equal:function(t){return this.coord[0]===t.coord[0]&&this.coord[1]===t.coord[1]},greater:function(t){var e=this.semitones(),n=t.semitones();return e===n?this.number()>t.number():e>n},smaller:function(t){return!this.equal(t)&&!this.greater(t)},add:function(t){return new r(o.add(this.coord,t.coord))},toString:function(t){var e=t?this.number():this.value();return this.quality()+e}},r.toCoord=function(t){var e=a(t);if(!e)throw new Error("Invalid simple format interval");return new r(e)},r.from=function(t,e){return t.interval(e)},r.between=function(t,e){return new r(o.sub(e.coord,t.coord))},r.invert=function(t){return r.toCoord(t).invert().toString()},t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!t.type||!e.type)throw"No type: Equality checks require a type";return!!i(t,e)&&l[t.type](t,e)}function i(t,e){return t.type===e.type}function o(t,e){return t.value===e.value&&t.pitch===e.pitch&&t.dots===e.dots&&t.tuplet===e.tuplet&&t.time===e.time&&t.voice===e.voice&&t.slur===e.slur&&t.staccato===e.staccato&&t.tenuto===e.tenuto&&t.portato===e.portato}function a(t,e){return t.voice===e.voice&&t.value===e.value&&t.dots===e.dots&&t.tuplet===e.tuplet&&t.time===e.time&&t.slur===e.slur}function u(t,e){return t.value===e.value&&t.measure===e.measure&&t.beat===e.beat}function s(t,e){return t.value===e.value&&t.time===e.time}Object.defineProperty(e,"__esModule",{value:!0}),e.dynamicEquals=e.clefEquals=e.restEquals=e.noteEquals=void 0,e.equals=r;var c=n(0),l={note:o,rest:a,clef:u,dynamic:s},f=(0,c.curry)(function(t,e,n){return i(e,n)&&t(e,n)});e.noteEquals=f(o),e.restEquals=f(a),e.clefEquals=f(u),e.dynamicEquals=f(s)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return Array.isArray(t)?t:Array.from(t)}function o(t){var e=t.value,n=void 0===e?4:e,r=t.dots,i=void 0===r?0:r,o=t.tuplet,u=t.time,s=t.root,c=t.name,l=t.inversion,f=t.staccato,h=t.tenuto,d=t.portato,p=t.slur,g=t.stemDirection,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.value=n,this.dots=i,this.tuplet=o,this.time=u,this.root=s,this.name=c,this.inversion=l,this.staccato=f,this.tenuto=h,this.portato=d,this.slur=p,this.stemDirection=g,this.children=a(v,{value:n})}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=f.default.map(t,function(t){return t instanceof b.default?(t.value=e.value,t):f.default.isString(t)?new b.default(f.default.assign({},e,{pitch:t})):f.default.isObject(t)?new b.default(f.default.assign({},e,t,{value:e.value})):void 0});return f.default.sortBy(n,function(t){return t.note.midi()})}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(2),c=r(s),l=n(0),f=r(l),h=n(5),d=n(7),p=n(40),g=n(3),v=n(8),_=n(12),m=n(1),y=r(m),w=n(13),b=r(w),x=n(10),S=y.default.type.chord,C="up",A="down";o.prototype.type=S,o.render=function(t,e){var n=t.render(e);return o.renderAccidentals(t,e),t.renderStem(),n},o.renderAccidentals=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=f.default.map(t.children,function(t){var n=(0,d.parsePitch)(t.pitch);return e.key?(0,_.getAccidental)(n,e.accidentals,e.key):n.accidental}),r=f.default.map(t.children,v.calculateDefaultAccidentalPosition),i=f.default.min(r,function(t){return t.x}).x,o=(0,g.map)(function(t,e,n){var r=t.drawAccidental(e);return r.translate(i,n.y),r},t.children,n,r),a=(0,p.getAccidentalOrdering)(t.children.length),u=1;f.default.each(a,function(t,e){var n=o[t],r=o[a[e+1]];r&&((0,g.isEven)(e)?(0,v.getAccidentalBottom)(n)>(0,v.getAccidentalTop)(r)&&(r.translate(-Scored.config.note.accidental.xOffset*u,0),u++):(0,v.getAccidentalTop)(n)<(0,v.getAccidentalBottom)(r)&&(r.translate(-Scored.config.note.accidental.xOffset*u,0),u++))})},o.prototype.renderStem=function(t,e){if(this.needsStem()){e=e||this.getStemDirection(t);var n=(0,p.defaultStemPoint)(this,e,(0,p.getStemLength)(this,t,e));this.drawStem(n,e),this.drawFlag()}},o.prototype.render=function(t){var e=this,n=this.group=new c.default.Group({name:S}),r=this.getStemDirection((0,x.getCenterLineValue)(t.clef)),o=(0,p.getOverlappingNotes)(this),a=i(this.children),s=a[0],l=a.slice(1),h=this.children.map(function(e){return e.render(t)}),g=void 0;if(r===A){var v=-Scored.config.note.head.width;g=function(t){var e=[];return f.default.each(f.default.clone(t).reverse(),function(t){var n=u(t,2),r=n[0],i=n[1];f.default.some(e,function(t){return t===i})||(r.group.translate(v,0),e.push(r))}),e}}else{var _=Scored.config.note.head.width;g=function(t){var e=[];return f.default.each(t,function(t){var n=u(t,2),r=n[0],i=n[1];f.default.some(e,function(t){return t===r})||(i.group.translate(_,0),e.push(i))}),e}}var m=void 0;if(o.length&&(m=g(o)),f.default.each(l,function(t){var e=(0,d.getSteps)(t.pitch,s.pitch);t.group.translate(0,e*Scored.config.layout.stepSpacing)}),n.addChildren(h),this.dots){var y=m&&m.length&&r===C?m[0]:this.getBaseNote(r),w=y.noteHead.bounds.right+Scored.config.note.head.width/2;f.default.each(this.children,function(n){n.drawDots(e.dots,t.clef,w)})}return n},o.prototype.drawStem=function(t,e){var n=void 0,r=void 0;return e===C?(this.stemDirection=C,n=this.children[0].noteHead.bounds.rightCenter.add(0,Scored.config.note.head.yOffset)):(this.stemDirection=A,n=f.default.last(this.children).noteHead.bounds.leftCenter.add(0,Scored.config.note.head.yOffset)),r=new c.default.Path.Line({name:"stem",from:n,to:t,strokeColor:"black",strokeWidth:2}),this.group.addChild(r),r},o.prototype.drawFlag=function(){var t=this.value,e=this.group.children.stem,n=(0,h.drawFlag)(t,this.stemDirection);return n&&(n.position=(0,h.getFlagOffset)(e.segments[1].point,this.stemDirection),this.group.addChild(n)),n},o.prototype.drawLegerLines=function(t,e){this.children.map(function(n){return n.drawLegerLines(t,e)})},o.prototype.needsStem=function(){return this.value>=2},o.prototype.needsFlag=function(){return this.value>=8},o.prototype.getStemDirection=function(t){if(this.stemDirection)return this.stemDirection;if(t){if(1===this.children.length)return(0,d.getSteps)(t,this.children[0].pitch)<0?C:A;var e=(0,d.getSteps)(t,this.children[0].pitch),n=(0,d.getSteps)(t,f.default.last(this.children).pitch);return e<0&&n<0?C:e>=0&&n>=0?A:Math.abs(e)>Math.abs(n)?C:A}return C},o.prototype.drawArticulations=function(){var t=this.staccato||this.tenuto||this.portato?(0,v.getArticulationPoint)(this.getBaseNote(this.stemDirection),this.stemDirection):null;if(this.staccato){var e=(0,h.drawStaccato)(t);this.group.addChild(e)}if(this.tenuto){var n=(0,h.drawTenuto)(t);this.group.addChild(n)}if(this.portato){var r=(0,h.drawStaccato)(t);this.group.addChild(r),this.slur}},o.prototype.getBaseNote=function(t){return t===C?this.children[0]:f.default.last(this.children)},o.prototype.calculateStemPoint=function(t,e,n){return this.getBaseNote(n).calculateStemPoint(t,e,n)},o.prototype.equals=function(t){return this.type===t.type&&this.value===t.value&&this.dots===t.dots&&this.tuplet===t.tuplet&&this.time===t.time&&this.staccato===t.staccato&&this.tenuto===t.tenuto&&this.portato===t.portato&&this.slur===t.slur&&this.stemDirection===t.stemDirection&&this.children.length===t.children.length&&f.default.every(this.children,function(e,n){return e.equals(t.children[n])})},e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.voices,n=void 0===e?{}:e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=c.default.groupBy(r,function(t){return t.type});this.children=r,this.markings=c.default.sortByAll(c.default.reduce(c.default.omit(i,a.default.type.measure),function(t,e){return t.concat(e)},[]),"measure",function(t){return t.beat?t.beat:0}),this.voices=n}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o),u=(n(3),n(5)),s=(n(6),n(4),n(0)),c=r(s),l=a.default.type.line;i.prototype.type=l,i.calculateAverageMeasureLength=function(t,e,n){return e*(t/n)},i.prototype.render=function(t){var e=(0,u.drawLine)(t);return e.name=l,e.strokeColor="black",e},i.prototype.contextAt=function(t){var e=c.default.curry(function(t,e){return e.measure<t.measure||e.measure===t.measure&&(e.beat||0)<=(t.beat||0)}),n=function(t,n,r){var i=c.default.filter(t,function(t){return t.type===n}).reverse();return c.default.find(i,e(r))};return{clef:n(this.markings,a.default.type.clef,t)||{},timeSig:n(this.markings,a.default.type.timeSig,t)||{},key:n(this.markings,a.default.type.key,t)||{}}},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.value,n=t.timeSig,r=t.startsAt,i=void 0===r?0:r,o=t.barType,a=void 0===o?_:o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!n)throw new Error("Time Signature is required when initializing Measure");this.value=e,this.timeSig=n,this.startsAt=i,this.barType=a,this.children=u}function o(t,e){var n=new Array(t),r=d.default.partition(d.default.filter(e,function(t){return!!t}),p.isMeasure),o=a(r,2),u=o[0],s=o[1],c=d.default.groupBy(s,function(t){return t.measure||0}),l=0;return d.default.each(u,function(t){d.default.isNumber(t.index)?(n[t.index]=t,l=t.index+1):(n[l]=t,l++)}),d.default.each(n,function(e,r){var o=n[r-1],a=o?o.startsAt+(0,g.getMeasureDuration)(o):0;if(e)e.startsAt=a,e.value=r;else{var u=d.default.find(c[r],p.isTimeSignature)||o.timeSig;e=new i(d.default.extend({},{startsAt:a,timeSig:u,value:r}),c[r])}r===t-1&&(e.barType="final"),n[r]=e}),n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.createMeasures=o;var u=n(2),s=r(u),c=n(1),l=r(c),f=n(5),h=n(0),d=r(h),p=n(4),g=n(6),v=l.default.type.measure,_="default";i.prototype.type=v,i.prototype.render=function(t,e,n){var r=new s.default.Group({name:v}),i=this.barType;d.default.filter(this.children,p.isRepeat).length&&(i="repeat"),e=e||(0,f.drawBarline)(t);var o=e.bounds.right,a=(0,f.drawBarline)(t,o+n,i),u=this.drawGroupBounds(o,a);return r.addChildren([u,e,a]),this.barlines=[e,a],r},i.prototype.drawGroupBounds=function(t,e){var n=new s.default.Path.Rectangle({name:"bounds",from:new s.default.Point(t,e.bounds.top),to:e.bounds.bottomRight});return n.fillColor="#FFF",n.opacity=0,n},e.default=i},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.page,n=void 0===e?0:e,r=t.measures,i=void 0===r?4:r,o=t.lineHeights,a=void 0===o?[]:o,u=t.indentation,s=void 0===u?0:u,c=t.length,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.page=n,this.measures=i,this.children=l,this.markings=p.default.filter(l,g.isMarking),this.lineHeights=a,this.length=c,this.indentation=s}function a(t,e){return p.default.map(t,function(t){var n=t.lines.reduce(function(t,e){return e?t.concat(e.items):t},[]),r=S.calculateTimeLength(n,e);return{time:t.time,length:r}})}function u(t,e,n,r){return p.default.reduce(t,function(t,n,i){var o=(p.default.filter(p.default.map(n.lines,function(t,e){return t?e:void 0}),p.default.isNumber),p.default.last(t)?p.default.last(t).time:0),a=n.time,u=p.default.last(t)?p.default.last(t).cursor:Scored.config.note.head.width;if(a.measure!==o.measure){var s=p.default.find(e,function(t){return t.value===a.measure});u=S.calculateCursor(s)}n.group.translate(u,0);var c=n.calculateCursor();return t.concat({time:a,cursor:r(c,u)})},[])}function s(t,e){if(2===t.length)return 0===e?"up":"down"}function c(t,e){p.default.filter(t,g.isPitched).map(function(t){return t.drawLegerLines(e,Scored.config.lineSpacing)})}function l(t){return new h.default.PointText({content:t,fontFamily:"gonvillealpha",fontSize:Scored.config.fontSize/1.5,fillColor:"black"})}Object.defineProperty(e,"__esModule",{value:!0});var f=n(2),h=i(f),d=n(0),p=i(d),g=n(4),v=n(5),_=n(1),m=i(_),y=n(9),w=n(25),b=n(3),x=n(8),S=r(x),C=n(6),A=n(20),M=i(A),P=n(10),k=n(17),O=(i(k),m.default.type.system);o.renderTimeContexts=function(t){var e=t.system,n=t.lines,r=t.measures,i=t.voices,o=t.timeContexts,f=t.length,h=e.render(),d=e.getLineHeights(n),g=p.default.map(o,function(t){return t.render(d)}),_=Scored.config.shortestDuration,m=a(o,_),x=(0,w.addDefaultMeasureLengths)(e.measures,(0,w.calculateMeasureLengths)(m)),A=p.default.sum(x),k=void 0,O=void 0;if(f){k=e.renderLines(n,f);var T=(p.default.sum(m,function(t){return t.length[0]}),f/A),I=e.renderMeasures(r,p.default.map(x,function(t){return t*T}),k);h.addChildren(I),O=function(t,e){return S.scaleCursor(T,e,p.default.min(t)+e)}}else{k=e.renderLines(n,A);var j=e.renderMeasures(r,x,k);h.addChildren(j),O=function(t,e){return p.default.min(t)+e}}h.addChildren(g),h.addChildren(k),h.addChild((0,v.drawSystemBar)(k));var E=p.default.map(k,y.b);u(o,r,x,O);if(o){var N=p.default.first(o).time,L=p.default.last(o).time;(0,b.map)(function(t,e,n){var o=(0,y.getLineItems)(t,i,N.time,L.time);p.default.each(o,function(i,a){var u=p.default.groupBy(i,function(t){return(0,C.getMeasureNumber)(r,t.time)});p.default.each(r,function(r){var i=u[r.value]||[];if(i.length){var c=t.contextAt({measure:r.value}),l=(0,P.getCenterLineValue)(c.clef),f=M.default.findBeaming(c.timeSig,i),h=s(o,a),d=h?p.default.fill(new Array(i.length),h):M.default.getAllStemDirections(f,l),g=p.default.compact((0,b.mapDeep)(p.default.partial(M.default.stemAndBeam,l),f,d));e.addChildren(g);var v=M.default.renderTuplets(i,n);e.addChildren(v)}})}),p.default.each(o,function(t){c(t,n),M.default.renderArticulations(t)})},n,k,E)}var z=l(r[0].value);return z.translate(0,-20),h.addChild(z),h},o.prototype.type=O,o.prototype.render=function(){return new h.default.Group({name:O})},o.prototype.getLineHeights=function(t){var e=this;return t.reduce(function(t,n,r){return t.concat((e.lineHeights[r+1]||120)+p.default.last(t))},[this.lineHeights[0]||0])},o.prototype.renderLines=function(t,e){var n=this.getLineHeights(t);return t.map(function(t,r){var i=t.render(e);return i.translate([0,n[r]]),i})},o.prototype.renderMeasures=function(t,e,n){return p.default.reduce(t,function(t,r,i){var o=e[i],a=p.default.last(t),u=a?p.default.last(a.children):null,s=r.render(n,u,o);return t.push(s),t},[])},e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.reduce(function(t,n){var r=f.default.last(t);return n.time=r?(0,d.default)(r.time).add((0,w.calculateDuration)(r)).add(e).valueOf():0,(0,_.concat)(t,n)},[])}function o(t){var e=(t.value,t.name),n=t.stemDirection,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.name=e,this.children=i(r),this.stemDirection=n}function a(t,e){var n=f.default.first(t);if((0,v.isPitched)(n)){if(n.value<=4)return[[f.default.first(t)],f.default.rest(t)];var r=f.default.findIndex(t,function(t){return t.time>=e||t.value<=4||!(0,v.isPitched)(t)});return r===-1?[t,[]]:[f.default.take(t,r),f.default.drop(t,r)]}return[null,f.default.rest(t)]}function u(t,e){return t>e}function s(t,e){return t>=e}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(0),f=r(l),h=n(35),d=r(h),p=n(1),g=r(p),v=n(4),_=n(3),m=n(5),y=n(7),w=n(6),b=n(68);o.prototype.type=g.default.type.voice,o.findBeaming=function(t,e){if(!e.length)return[];var n=(0,w.parseSignature)(t),r=c(n,2),i=r[1],o=t.beatStructure.map(function(t){return t*(1/i)}),u=e[0].time,s=f.default.rest((0,_.reductions)(function(t,e){return t+e},o,u)),l=[],h=0,d=a(e,s[h]),p=c(d,2),g=p[0],v=p[1];for(l.push(g);v.length;){v[0].time>=s[h]&&h++;var m=a(v,s[h]),y=c(m,2);g=y[0],v=y[1],g&&l.push(g)}return f.default.reject(l,f.default.isEmpty)},o.groupTuplets=function(t){if(!t.length)return[];for(var e=[],n=null,r=0;r<t.length;r++){var i=t[r];if(i.tuplet)if(i.tuplet===n&&f.default.last(e)){var o=f.default.last(e),a=f.default.min(o,function(t){return t.value}).value,u=(0,w.sumDurations)(o),s=(0,w.calculateTupletDuration)(n,a);u<s?o.push(i):e.push([i])}else e.push([i]),n=i.tuplet;else n=null}return e},o.stemAndBeam=function(t,e,n){if(1!==e.length)return(0,m.beam)(e,{line:t,stemDirections:n});e[0].renderStem(t,n[0])},o.getAllStemDirections=function(t,e){return f.default.reduce(t,function(t,n){return t.concat((0,y.getAverageStemDirection)(n,e))},[])},o.renderArticulations=function(t){f.default.each(t,function(t){t.drawArticulations&&t.drawArticulations()})},o.renderTuplets=function(t,e){var n=this;return o.groupTuplets(t).map(function(t){return(0,m.drawTuplets)(t,e,n.stemDirection)})},o.prototype.getTimeFrame=function(t,e,n){for(var r=[],i=n?u:s,o=0;o<this.children.length;o++){var a=this.children[o];if(i(a.time,e))break;a.time>=t&&r.push(a)}return r},o.prototype.equals=function(t){return this.type===t.type&&this.name===t.name&&this.stemDirection===t.stemDirection&&this.children.length===t.children.length&&f.default.every(this.children,function(e,n){return e.equals(t.children[n])})},o.prototype[Symbol.iterator]=o.prototype.iterate=function(){var t=-1;return{items:this.children,next:function(){t++;var e=this.items[t];if(!e)return{done:!0};for(var n=e.time,r=[];this.items[t+1]&&n===this.items[t+1].time;)r.push(this.items[t+1]),t++;return{done:!1,value:[e].concat(r)}}}},o.prototype.breakDurations=function(t){var e=0,n=this.children.reduce(function(n,r){return r.time>=t[e]&&(e=f.default.findIndex(t,function(t){return t>r.time})),n.concat((0,b.divide)(t[e],r))},[]);this.children=n},e.default=o},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t,r){var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function a(t,e){if(t!==e){var n=null===t,r=t===k,i=t===t,o=null===e,a=e===k,u=e===e;if(t>e&&!o||!i||n&&!a&&u||r&&u)return 1;if(t<e&&!n||!u||o&&!r&&i||a&&i)return-1}return 0}function u(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function s(t,e,n){if(e!==e)return y(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function c(t){return"function"==typeof t||!1}function l(t){return null==t?"":t+""}function f(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function d(t,e){return a(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,u=i.length,s=n.length;++r<u;){var c=a(i[r],o[r]);if(c){if(r>=s)return c;var l=n[r];return c*("asc"===l||l===!0?1:-1)}}return t.index-e.index}function g(t){return Gt[t]}function v(t){return Yt[t]}function _(t,e,n){return e?t=Jt[t]:n&&(t=Xt[t]),"\\"+t}function m(t){return"\\"+Xt[t]}function y(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function w(t){return!!t&&"object"==(void 0===t?"undefined":o(t))}function b(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function x(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=G,o[++i]=n);return o}function S(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var u=t[r],s=e?e(u,r,t):u;r&&n===s||(n=s,a[++o]=u)}return a}function C(t){for(var e=-1,n=t.length;++e<n&&b(t.charCodeAt(e)););return e}function A(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function M(t){return Zt[t]}function P(t){function e(t){if(w(t)&&!Tu(t)&&!(t instanceof i)){if(t instanceof r)return t;if(na.call(t,"__chain__")&&na.call(t,"__wrapped__"))return pr(t)}return new r(t)}function n(){}function r(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oa,this.__views__=[]}function b(){var t=new i(this.__wrapped__);return t.__actions__=ee(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ee(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ee(this.__views__),t}function tt(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function it(){var t=this.__wrapped__.value(),e=this.__dir__,n=Tu(t),r=e<0,i=n?t.length:0,o=Gn(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=Ca(s,this.__takeCount__);if(!n||i<V||i==s&&d==s)return rn(r&&n?t.reverse():t,this.__actions__);var p=[];t:for(;s--&&h<d;){c+=e;for(var g=-1,v=t[c];++g<f;){var _=l[g],m=_.iteratee,y=_.type,w=m(v);if(y==$)v=w;else if(!w){if(y==W)continue t;break t}}p[h++]=v}return p}function at(){this.__data__={}}function Gt(t){return this.has(t)&&delete this.__data__[t]}function Yt(t){return"__proto__"==t?k:this.__data__[t]}function Zt(t){return"__proto__"!=t&&na.call(this.__data__,t)}function Kt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Jt(t){var e=t?t.length:0;for(this.data={hash:ma(null),set:new ha};e--;)this.push(t[e])}function Xt(t,e){var n=t.data;return("string"==typeof e||Li(e)?n.set.has(e):n.hash[e])?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Li(t)?e.set.add(t):e.hash[t]=!0}function te(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,a=qo(r+o);++n<r;)a[n]=t[n];for(;++i<o;)a[n++]=e[i];return a}function ee(t,e){var n=-1,r=t.length;for(e||(e=qo(r));++n<r;)e[n]=t[n];return e}function ne(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function re(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function ie(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ue(t,e,n,r){for(var i=-1,o=t.length,a=r,u=a;++i<o;){var s=t[i],c=+e(s);n(c,a)&&(a=c,u=s)}return u}function se(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function ce(t,e){for(var n=-1,r=t.length,i=qo(r);++n<r;)i[n]=e(t[n],n,t);return i}function le(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fe(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function he(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function de(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function ge(t,e){return t===k?e:t}function ve(t,e,n,r){return t!==k&&na.call(r,n)?t:e}function _e(t,e,n){for(var r=-1,i=Uu(e),o=i.length;++r<o;){var a=i[r],u=t[a],s=n(u,e[a],a,t,e);(s===s?s===u:u!==u)&&(u!==k||a in t)||(t[a]=s)}return t}function me(t,e){return null==e?t:we(e,Uu(e),t)}function ye(t,e){for(var n=-1,r=null==t,i=!r&&Xn(t),o=i?t.length:0,a=e.length,u=qo(a);++n<a;){var s=e[n];u[n]=i?Qn(s,o)?t[s]:k:r?k:t[s]}return u}function we(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function be(t,e,n){var r=void 0===t?"undefined":o(t);return"function"==r?e===k?t:un(t,e,n):null==t?Oo:"object"==r?Fe(t):e===k?Lo(t):Ue(t,e)}function xe(t,e,n,r,i,o,a){var u;if(n&&(u=i?n(t,r,i):n(t)),u!==k)return u;if(!Li(t))return t;var s=Tu(t);if(s){if(u=Yn(t),!e)return ee(t,u)}else{var c=ia.call(t),l=c==Q;if(c!=nt&&c!=Y&&(!l||i))return Ht[c]?Kn(t,c,e):i?t:{};if(u=Zn(l?{}:t),!e)return me(u,t)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==t)return a[f];return o.push(t),a.push(u),(s?ne:je)(t,function(r,i){u[i]=xe(r,e,n,i,t,o,a)}),u}function Se(t,e,n){if("function"!=typeof t)throw new Jo(H);return da(function(){t.apply(k,n)},e)}function Ce(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=Wn(),a=o==s,u=a&&e.length>=V?vn(e):null,c=e.length;u&&(o=Xt,a=!1,e=u);t:for(;++i<n;){var l=t[i];if(a&&l===l){for(var f=c;f--;)if(e[f]===l)continue t;r.push(l)}else o(e,l,0)<0&&r.push(l)}return r}function Ae(t,e){var n=!0;return Ra(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Me(t,e,n,r){var i=r,o=i;return Ra(t,function(t,a,u){var s=+e(t,a,u);(n(s,i)||s===r&&s===o)&&(i=s,o=t)}),o}function Pe(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===k||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)t[n++]=e;return t}function ke(t,e){var n=[];return Ra(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Oe(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}function Te(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];w(a)&&Xn(a)&&(n||Tu(a)||Mi(a))?e?Te(a,e,n,r):le(r,a):n||(r[r.length]=a)}return r}function Ie(t,e){return Da(t,e,eo)}function je(t,e){return Da(t,e,Uu)}function Ee(t,e){return Fa(t,e,Uu)}function Ne(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];Ni(t[a])&&(o[++i]=a)}return o}function Le(t,e,n){if(null!=t){n!==k&&n in hr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:k}}function ze(t,e,n,r,i,o){return t===e||(null==t||null==e||!Li(t)&&!w(e)?t!==t&&e!==e:Re(t,e,ze,n,r,i,o))}function Re(t,e,n,r,i,o,a){var u=Tu(t),s=Tu(e),c=Z,l=Z;u||(c=ia.call(t),c==Y?c=nt:c!=nt&&(u=Wi(t))),s||(l=ia.call(e),l==Y?l=nt:l!=nt&&(s=Wi(e)));var f=c==nt,h=l==nt,d=c==l;if(d&&!u&&!f)return Fn(t,e,c);if(!i){var p=f&&na.call(t,"__wrapped__"),g=h&&na.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,r,i,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var v=o.length;v--;)if(o[v]==t)return a[v]==e;o.push(t),a.push(e);var _=(u?Dn:Un)(t,e,n,r,i,o,a);return o.pop(),a.pop(),_}function Be(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=hr(t);r--;){var a=e[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=e[r];var u=a[0],s=t[u],c=a[1];if(o&&a[2]){if(s===k&&!(u in t))return!1}else{var l=n?n(s,c,u):k;if(!(l===k?ze(c,s,n,!0):l))return!1}}return!0}function De(t,e){var n=-1,r=Xn(t)?qo(t.length):[];return Ra(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Fe(t){var e=$n(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(r!==k||n in hr(t)))}}return function(t){return Be(t,e)}}function Ue(t,e){var n=Tu(t),r=er(t)&&ir(e),i=t+"";return t=dr(t),function(o){if(null==o)return!1;var a=i;if(o=hr(o),(n||!r)&&!(a in o)){if(null==(o=1==t.length?o:Le(o,Ze(t,0,-1))))return!1;a=Pr(t),o=hr(o)}return o[a]===e?e!==k||a in o:ze(e,o[a],k,!0)}}function qe(t,e,n,r,i){if(!Li(t))return t;var o=Xn(e)&&(Tu(e)||Wi(e)),a=o?k:Uu(e);return ne(a||e,function(u,s){if(a&&(s=u,u=e[s]),w(u))r||(r=[]),i||(i=[]),Ve(t,e,s,qe,n,r,i);else{var c=t[s],l=n?n(c,u,s,t,e):k,f=l===k;f&&(l=u),l===k&&(!o||s in t)||!f&&(l===l?l===c:c!==c)||(t[s]=l)}}),t}function Ve(t,e,n,r,i,o,a){for(var u=o.length,s=e[n];u--;)if(o[u]==s)return void(t[n]=a[u]);var c=t[n],l=i?i(c,s,n,t,e):k,f=l===k;f&&(l=s,Xn(s)&&(Tu(s)||Wi(s))?l=Tu(c)?c:Xn(c)?ee(c):[]:Ui(s)||Mi(s)?l=Mi(c)?Zi(c):Ui(c)?c:{}:f=!1),o.push(s),a.push(l),f?t[n]=r(l,s,i,o,a):(l===l?l!==c:c===c)&&(t[n]=l)}function We(t){return function(e){return null==e?k:e[t]}}function $e(t){var e=t+"";return t=dr(t),function(n){return Le(n,t,e)}}function He(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Qn(r)){var i=r;pa.call(t,r,1)}}return t}function Ge(t,e){return t+ya(Pa()*(e-t+1))}function Ye(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Ze(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),n=n===k||n>i?i:+n||0,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=qo(i);++r<i;)o[r]=t[r+e];return o}function Ke(t,e){var n;return Ra(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Je(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Xe(t,e,n){var r=qn(),i=-1;return e=ce(e,function(t){return r(t)}),Je(De(t,function(t){return{criteria:ce(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return p(t,e,n)})}function Qe(t,e){var n=0;return Ra(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function tn(t,e){var n=-1,r=Wn(),i=t.length,o=r==s,a=o&&i>=V,u=a?vn():null,c=[];u?(r=Xt,o=!1):(a=!1,u=e?[]:c);t:for(;++n<i;){var l=t[n],f=e?e(l,n,t):l;if(o&&l===l){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),c.push(l)}else r(u,f,0)<0&&((e||a)&&u.push(f),c.push(l))}return c}function en(t,e){for(var n=-1,r=e.length,i=qo(r);++n<r;)i[n]=t[e[n]];return i}function nn(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ze(t,r?0:o,r?o+1:i):Ze(t,r?o+1:0,r?i:o)}function rn(t,e){var n=t;n instanceof i&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var a=e[r];n=a.func.apply(a.thisArg,le([n],a.args))}return n}function on(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=ja){for(;r<i;){var o=r+i>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?r=o+1:i=o}return i}return an(t,e,Oo,n)}function an(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,u=null===e,s=e===k;i<o;){var c=ya((i+o)/2),l=n(t[c]),f=l!==k,h=l===l;if(a)var d=h||r;else d=u?h&&f&&(r||null!=l):s?h&&(r||f):null!=l&&(r?l<=e:l<e);d?i=c+1:o=c}return Ca(o,Ia)}function un(t,e,n){if("function"!=typeof t)return Oo;if(e===k)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function sn(t){var e=new ua(t.byteLength);return new ga(e).set(new ga(t)),e}function cn(t,e,n){for(var r=n.length,i=-1,o=Sa(t.length-r,0),a=-1,u=e.length,s=qo(u+o);++a<u;)s[a]=e[a];for(;++i<r;)s[n[i]]=t[i];for(;o--;)s[a++]=t[i++];return s}function ln(t,e,n){for(var r=-1,i=n.length,o=-1,a=Sa(t.length-i,0),u=-1,s=e.length,c=qo(a+s);++o<a;)c[o]=t[o];for(var l=o;++u<s;)c[l+u]=e[u];for(;++r<i;)c[l+n[r]]=t[o++];return c}function fn(t,e){return function(n,r,i){var o=e?e():{};if(r=qn(r,i,3),Tu(n))for(var a=-1,u=n.length;++a<u;){var s=n[a];t(o,s,r(s,a,n),n)}else Ra(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function hn(t){return mi(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:k,a=i>2?n[2]:k,u=i>1?n[i-1]:k;for("function"==typeof o?(o=un(o,u,5),i-=2):(o="function"==typeof u?u:k,i-=o?1:0),a&&tr(n[0],n[1],a)&&(o=i<3?k:o,i=1);++r<i;){var s=n[r];s&&t(e,s,o)}return e})}function dn(t,e){return function(n,r){var i=n?Va(n):0;if(!rr(i))return t(n,r);for(var o=e?i:-1,a=hr(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function pn(t){return function(e,n,r){for(var i=hr(e),o=r(e),a=o.length,u=t?a:-1;t?u--:++u<a;){var s=o[u];if(n(i[s],s,i)===!1)break}return e}}function gn(t,e){function n(){return(this&&this!==oe&&this instanceof n?r:t).apply(e,arguments)}var r=mn(t);return n}function vn(t){return ma&&ha?new Jt(t):null}function _n(t){return function(e){for(var n=-1,r=Mo(fo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function mn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=za(t.prototype),r=t.apply(n,e);return Li(r)?r:n}}function yn(t){function e(n,r,i){i&&tr(n,r,i)&&(r=k);var o=Bn(n,t,k,k,k,k,k,r);return o.placeholder=e.placeholder,o}return e}function wn(t,e){return mi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(k,n))})}function bn(t,e){return function(n,r,i){if(i&&tr(n,r,i)&&(r=k),r=qn(r,i,3),1==r.length){n=Tu(n)?n:fr(n);var o=ue(n,r,t,e);if(!n.length||o!==e)return o}return Me(n,r,t,e)}}function xn(t,e){return function(n,r,i){if(r=qn(r,i,3),Tu(n)){var o=u(n,r,e);return o>-1?n[o]:k}return Oe(n,r,t)}}function Sn(t){return function(e,n,r){return e&&e.length?(n=qn(n,r,3),u(e,n,t)):-1}}function Cn(t){return function(e,n,r){return n=qn(n,r,3),Oe(e,n,t,!0)}}function An(t){return function(){for(var e,n=arguments.length,i=t?n:-1,o=0,a=qo(n);t?i--:++i<n;){var u=a[o++]=arguments[i];if("function"!=typeof u)throw new Jo(H);!e&&r.prototype.thru&&"wrapper"==Vn(u)&&(e=new r([],!0))}for(i=e?-1:n;++i<n;){u=a[i];var s=Vn(u),c="wrapper"==s?qa(u):k;e=c&&nr(c[0])&&c[1]==(R|E|L|B)&&!c[4].length&&1==c[9]?e[Vn(c[0])].apply(e,c[3]):1==u.length&&nr(u)?e[s]():e.thru(u)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Tu(r)&&r.length>=V)return e.plant(r).value();for(var i=0,o=n?a[i].apply(this,t):r;++i<n;)o=a[i].call(this,o);return o}}}function Mn(t,e){return function(n,r,i){return"function"==typeof r&&i===k&&Tu(n)?t(n,r):e(n,un(r,i,3))}}function Pn(t){return function(e,n,r){return"function"==typeof n&&r===k||(n=un(n,r,3)),t(e,n,eo)}}function kn(t){return function(e,n,r){return"function"==typeof n&&r===k||(n=un(n,r,3)),t(e,n)}}function On(t){return function(e,n,r){var i={};return n=qn(n,r,3),je(e,function(e,r,o){var a=n(e,r,o);r=t?a:r,e=t?e:a,i[r]=e}),i}}function Tn(t){return function(e,n,r){return e=l(e),(t?e:"")+Nn(e,n,r)+(t?"":e)}}function In(t){var e=mi(function(n,r){return Bn(n,t,k,r,x(r,e.placeholder))});return e}function jn(t,e){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===k&&Tu(n)?t(n,r,i,a):Ye(n,qn(r,o,4),i,a,e)}}function En(t,e,n,r,i,o,a,u,s,c){function l(){for(var m=arguments.length,y=m,w=qo(m);y--;)w[y]=arguments[y];if(r&&(w=cn(w,r,i)),o&&(w=ln(w,o,a)),p||v){var b=l.placeholder,S=x(w,b);if((m-=S.length)<c){var C=u?ee(u):k,A=Sa(c-m,0),M=p?S:k,P=p?k:S,O=p?w:k,j=p?k:w;e|=p?L:z,e&=~(p?z:L),g||(e&=~(T|I));var E=[t,e,n,O,M,j,P,C,s,A],N=En.apply(k,E);return nr(t)&&Wa(N,E),N.placeholder=b,N}}var R=h?n:this,B=d?R[t]:t;return u&&(w=cr(w,u)),f&&s<w.length&&(w.length=s),this&&this!==oe&&this instanceof l&&(B=_||mn(t)),B.apply(R,w)}var f=e&R,h=e&T,d=e&I,p=e&E,g=e&j,v=e&N,_=d?k:mn(t);return l}function Nn(t,e,n){var r=t.length;if(e=+e,r>=e||!ba(e))return"";var i=e-r;return n=null==n?" ":n+"",mo(n,_a(i/n.length)).slice(0,i)}function Ln(t,e,n,r){function i(){for(var e=-1,u=arguments.length,s=-1,c=r.length,l=qo(c+u);++s<c;)l[s]=r[s];for(;u--;)l[s++]=arguments[++e];return(this&&this!==oe&&this instanceof i?a:t).apply(o?n:this,l)}var o=e&T,a=mn(t);return i}function zn(t){var e=Ho[t];return function(t,n){return n=n===k?0:+n||0,n?(n=la(10,n),e(t*n)/n):e(t)}}function Rn(t){return function(e,n,r,i){var o=qn(r);return null==r&&o===be?on(e,n,t):an(e,n,o(r,i,1),t)}}function Bn(t,e,n,r,i,o,a,u){var s=e&I;if(!s&&"function"!=typeof t)throw new Jo(H);var c=r?r.length:0;if(c||(e&=~(L|z),r=i=k),c-=i?i.length:0,e&z){var l=r,f=i;r=i=k}var h=s?k:qa(t),d=[t,e,n,r,i,l,f,o,a,u];if(h&&(or(d,h),e=d[1],u=d[9]),d[9]=null==u?s?0:t.length:Sa(u-c,0)||0,e==T)var p=gn(d[0],d[2]);else p=e!=L&&e!=(T|L)||d[4].length?En.apply(k,d):Ln.apply(k,d);return(h?Ua:Wa)(p,d)}function Dn(t,e,n,r,i,o,a){var u=-1,s=t.length,c=e.length;if(s!=c&&!(i&&c>s))return!1;for(;++u<s;){var l=t[u],f=e[u],h=r?r(i?f:l,i?l:f,u):k;if(h!==k){if(h)continue;return!1}if(i){if(!de(e,function(t){return l===t||n(l,t,r,i,o,a)}))return!1}else if(l!==f&&!n(l,f,r,i,o,a))return!1}return!0}function Fn(t,e,n){switch(n){case K:case J:return+t==+e;case X:return t.name==e.name&&t.message==e.message;case et:return t!=+t?e!=+e:t==+e;case rt:case ot:return t==e+""}return!1}function Un(t,e,n,r,i,o,a){var u=Uu(t),s=u.length;if(s!=Uu(e).length&&!i)return!1;for(var c=s;c--;){var l=u[c];if(!(i?l in e:na.call(e,l)))return!1}for(var f=i;++c<s;){l=u[c];var h=t[l],d=e[l],p=r?r(i?d:h,i?h:d,l):k;if(!(p===k?n(h,d,r,i,o,a):p))return!1;f||(f="constructor"==l)}if(!f){var g=t.constructor,v=e.constructor;if(g!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0}function qn(t,n,r){var i=e.callback||Po;return i=i===Po?be:i,r?i(t,n,r):i}function Vn(t){for(var e=t.name,n=La[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Wn(t,n,r){var i=e.indexOf||Ar;return i=i===Ar?s:i,t?i(t,n,r):i}function $n(t){for(var e=no(t),n=e.length;n--;)e[n][2]=ir(e[n][1]);return e}function Hn(t,e){var n=null==t?k:t[e];return Bi(n)?n:k}function Gn(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ca(e,t+a);break;case"takeRight":t=Sa(t,e-a)}}return{start:t,end:e}}function Yn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&na.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Zn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Yo),new e}function Kn(t,e,n){var r=t.constructor;switch(e){case ut:return sn(t);case K:case J:return new r(+t);case st:case ct:case lt:case ft:case ht:case dt:case pt:case gt:case vt:var i=t.buffer;return new r(n?sn(i):i,t.byteOffset,t.length);case et:case ot:return new r(t);case rt:var o=new r(t.source,Lt.exec(t));o.lastIndex=t.lastIndex}return o}function Jn(t,e,n){null==t||er(e,t)||(e=dr(e),t=1==e.length?t:Le(t,Ze(e,0,-1)),e=Pr(e));var r=null==t?t:t[e];return null==r?k:r.apply(t,n)}function Xn(t){return null!=t&&rr(Va(t))}function Qn(t,e){return t="number"==typeof t||Bt.test(t)?+t:-1,e=null==e?Ea:e,t>-1&&t%1==0&&t<e}function tr(t,e,n){if(!Li(n))return!1;var r=void 0===e?"undefined":o(e);if("number"==r?Xn(n)&&Qn(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function er(t,e){var n=void 0===t?"undefined":o(t);return!!("string"==n&&kt.test(t)||"number"==n)||!Tu(t)&&(!Pt.test(t)||null!=e&&t in hr(e))}function nr(t){var n=Vn(t);if(!(n in i.prototype))return!1;var r=e[n];if(t===r)return!0;var o=qa(r);return!!o&&t===o[0]}function rr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ea}function ir(t){return t===t&&!Li(t)}function or(t,e){var n=t[1],r=e[1],i=n|r,o=i<R,a=r==R&&n==E||r==R&&n==B&&t[7].length<=e[8]||r==(R|B)&&n==E;if(!o&&!a)return t;r&T&&(t[2]=e[2],i|=n&T?0:j);var u=e[3];if(u){var s=t[3];t[3]=s?cn(s,u,e[4]):ee(u),t[4]=s?x(t[3],G):ee(e[4])}return u=e[5],u&&(s=t[5],t[5]=s?ln(s,u,e[6]):ee(u),t[6]=s?x(t[5],G):ee(e[6])),u=e[7],u&&(t[7]=ee(u)),r&R&&(t[8]=null==t[8]?e[8]:Ca(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function ar(t,e){return t===k?e:Iu(t,e,ar)}function ur(t,e){t=hr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function sr(t,e){var n={};return Ie(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function cr(t,e){for(var n=t.length,r=Ca(e.length,n),i=ee(t);r--;){var o=e[r];t[r]=Qn(o,n)?i[o]:k}return t}function lr(t){for(var e=eo(t),n=e.length,r=n&&t.length,i=!!r&&rr(r)&&(Tu(t)||Mi(t)),o=-1,a=[];++o<n;){var u=e[o];(i&&Qn(u,r)||na.call(t,u))&&a.push(u)}return a}function fr(t){return null==t?[]:Xn(t)?Li(t)?t:Yo(t):ao(t)}function hr(t){return Li(t)?t:Yo(t)}function dr(t){if(Tu(t))return t;var e=[];return l(t).replace(Ot,function(t,n,r,i){e.push(r?i.replace(Et,"$1"):n||t)}),e}function pr(t){return t instanceof i?t.clone():new r(t.__wrapped__,t.__chain__,ee(t.__actions__))}function gr(t,e,n){e=(n?tr(t,e,n):null==e)?1:Sa(ya(e)||1,1);for(var r=0,i=t?t.length:0,o=-1,a=qo(_a(i/e));r<i;)a[++o]=Ze(t,r,r+=e);return a}function vr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function _r(t,e,n){return(t?t.length:0)?((n?tr(t,e,n):null==e)&&(e=1),Ze(t,e<0?0:e)):[]}function mr(t,e,n){var r=t?t.length:0;return r?((n?tr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ze(t,0,e<0?0:e)):[]}function yr(t,e,n){return t&&t.length?nn(t,qn(e,n,3),!0,!0):[]}function wr(t,e,n){return t&&t.length?nn(t,qn(e,n,3),!0):[]}function br(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&tr(t,e,n)&&(n=0,r=i),Pe(t,e,n,r)):[]}function xr(t){return t?t[0]:k}function Sr(t,e,n){var r=t?t.length:0;return n&&tr(t,e,n)&&(e=!1),r?Te(t,e):[]}function Cr(t){return(t?t.length:0)?Te(t,!0):[]}function Ar(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?Sa(r+n,0):n;else if(n){var i=on(t,e);return i<r&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return s(t,e,n||0)}function Mr(t){return mr(t,1)}function Pr(t){var e=t?t.length:0;return e?t[e-1]:k}function kr(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?Sa(r+n,0):Ca(n||0,r-1))+1;else if(n){i=on(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return y(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Or(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Wn(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)pa.call(e,o,1);return e}function Tr(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(e=qn(e,n,3);++i<a;){var u=t[i];e(u,i,t)&&(r.push(u),o.push(i))}return He(t,o),r}function Ir(t){return _r(t,1)}function jr(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&tr(t,e,n)&&(e=0,n=r),Ze(t,e,n)):[]}function Er(t,e,n){return(t?t.length:0)?((n?tr(t,e,n):null==e)&&(e=1),Ze(t,0,e<0?0:e)):[]}function Nr(t,e,n){var r=t?t.length:0;return r?((n?tr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ze(t,e<0?0:e)):[]}function Lr(t,e,n){return t&&t.length?nn(t,qn(e,n,3),!1,!0):[]}function zr(t,e,n){return t&&t.length?nn(t,qn(e,n,3)):[]}function Rr(t,e,n,r){if(!(t?t.length:0))return[];null!=e&&"boolean"!=typeof e&&(r=n,n=tr(t,e,r)?k:e,e=!1);var i=qn();return null==n&&i===be||(n=i(n,r,3)),e&&Wn()==s?S(t,n):tn(t,n)}function Br(t){if(!t||!t.length)return[];var e=-1,n=0;t=se(t,function(t){if(Xn(t))return n=Sa(t.length,n),!0});for(var r=qo(n);++e<n;)r[e]=ce(t,We(e));return r}function Dr(t,e,n){if(!(t?t.length:0))return[];var r=Br(t);return null==e?r:(e=un(e,n,4),ce(r,function(t){return fe(t,e,k,!0)}))}function Fr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Xn(n))var r=r?le(Ce(r,n),Ce(n,r)):n}return r?tn(r):[]}function Ur(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Tu(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function qr(t){var n=e(t);return n.__chain__=!0,n}function Vr(t,e,n){return e.call(n,t),t}function Wr(t,e,n){return e.call(n,t)}function $r(){return qr(this)}function Hr(){return new r(this.value(),this.__chain__)}function Gr(t){for(var e,r=this;r instanceof n;){var i=pr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Yr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof i){var n=t;return this.__actions__.length&&(n=new i(this)),n=n.reverse(),n.__actions__.push({func:Wr,args:[e],thisArg:k}),new r(n,this.__chain__)}return this.thru(e)}function Zr(){return this.value()+""}function Kr(){return rn(this.__wrapped__,this.__actions__)}function Jr(t,e,n){var r=Tu(t)?ie:Ae;return n&&tr(t,e,n)&&(e=k),"function"==typeof e&&n===k||(e=qn(e,n,3)),r(t,e)}function Xr(t,e,n){var r=Tu(t)?se:ke;return e=qn(e,n,3),r(t,e)}function Qr(t,e){return ou(t,Fe(e))}function ti(t,e,n,r){var i=t?Va(t):0;return rr(i)||(t=ao(t),i=t.length),n="number"!=typeof n||r&&tr(e,n,r)?0:n<0?Sa(i+n,0):n||0,"string"==typeof t||!Tu(t)&&Vi(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Wn(t,e,n)>-1}function ei(t,e,n){var r=Tu(t)?ce:De;return e=qn(e,n,3),r(t,e)}function ni(t,e){return ei(t,Lo(e))}function ri(t,e,n){var r=Tu(t)?se:ke;return e=qn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ii(t,e,n){if(n?tr(t,e,n):null==e){t=fr(t);var r=t.length;return r>0?t[Ge(0,r-1)]:k}var i=-1,o=Yi(t),r=o.length,a=r-1;for(e=Ca(e<0?0:+e||0,r);++i<e;){var u=Ge(i,a),s=o[u];o[u]=o[i],o[i]=s}return o.length=e,o}function oi(t){return ii(t,Oa)}function ai(t){var e=t?Va(t):0;return rr(e)?e:Uu(t).length}function ui(t,e,n){var r=Tu(t)?de:Ke;return n&&tr(t,e,n)&&(e=k),"function"==typeof e&&n===k||(e=qn(e,n,3)),r(t,e)}function si(t,e,n){if(null==t)return[];n&&tr(t,e,n)&&(e=k);var r=-1;return e=qn(e,n,3),Je(De(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}}),d)}function ci(t,e,n,r){return null==t?[]:(r&&tr(e,n,r)&&(n=k),Tu(e)||(e=null==e?[]:[e]),Tu(n)||(n=null==n?[]:[n]),Xe(t,e,n))}function li(t,e){return Xr(t,Fe(e))}function fi(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Jo(H);var n=t;t=e,e=n}return t=ba(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function hi(t,e,n){return n&&tr(t,e,n)&&(e=k),e=t&&null==e?t.length:Sa(+e||0,0),Bn(t,R,k,k,k,k,e)}function di(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Jo(H);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=k),n}}function pi(t,e,n){function r(){d&&sa(d),c&&sa(c),g=0,c=d=p=k}function i(e,n){n&&sa(n),c=d=p=k,e&&(g=vu(),l=t.apply(h,s),d||c||(s=h=k))}function o(){var t=e-(vu()-f);t<=0||t>e?i(p,c):d=da(o,t)}function a(){i(_,d)}function u(){if(s=arguments,f=vu(),h=this,p=_&&(d||!m),v===!1)var n=m&&!d;else{c||m||(g=f);var r=v-(f-g),i=r<=0||r>v;i?(c&&(c=sa(c)),g=f,l=t.apply(h,s)):c||(c=da(a,r))}return i&&d?d=sa(d):d||e===v||(d=da(o,e)),n&&(i=!0,l=t.apply(h,s)),!i||d||c||(s=h=k),l}var s,c,l,f,h,d,p,g=0,v=!1,_=!0;if("function"!=typeof t)throw new Jo(H);if(e=e<0?0:+e||0,n===!0){var m=!0;_=!1}else Li(n)&&(m=!!n.leading,v="maxWait"in n&&Sa(+n.maxWait||0,e),_="trailing"in n?!!n.trailing:_);return u.cancel=r,u}function gi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Jo(H);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new gi.Cache,n}function vi(t){if("function"!=typeof t)throw new Jo(H);return function(){return!t.apply(this,arguments)}}function _i(t){return di(2,t)}function mi(t,e){if("function"!=typeof t)throw new Jo(H);return e=Sa(e===k?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=Sa(n.length-e,0),o=qo(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=qo(e+1);for(r=-1;++r<e;)a[r]=n[r];return a[e]=o,t.apply(this,a)}}function yi(t){if("function"!=typeof t)throw new Jo(H);return function(e){return t.apply(this,e)}}function wi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Jo(H);return n===!1?r=!1:Li(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(t,e,{leading:r,maxWait:+e,trailing:i})}function bi(t,e){return e=null==e?Oo:e,Bn(e,L,k,[t],[])}function xi(t,e,n,r){return e&&"boolean"!=typeof e&&tr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?xe(t,e,un(n,r,1)):xe(t,e)}function Si(t,e,n){return"function"==typeof e?xe(t,!0,un(e,n,1)):xe(t,!0)}function Ci(t,e){return t>e}function Ai(t,e){return t>=e}function Mi(t){return w(t)&&Xn(t)&&na.call(t,"callee")&&!fa.call(t,"callee")}function Pi(t){return t===!0||t===!1||w(t)&&ia.call(t)==K}function ki(t){return w(t)&&ia.call(t)==J}function Oi(t){return!!t&&1===t.nodeType&&w(t)&&!Ui(t)}function Ti(t){return null==t||(Xn(t)&&(Tu(t)||Vi(t)||Mi(t)||w(t)&&Ni(t.splice))?!t.length:!Uu(t).length)}function Ii(t,e,n,r){n="function"==typeof n?un(n,r,3):k;var i=n?n(t,e):k;return i===k?ze(t,e,n):!!i}function ji(t){return w(t)&&"string"==typeof t.message&&ia.call(t)==X}function Ei(t){return"number"==typeof t&&ba(t)}function Ni(t){return Li(t)&&ia.call(t)==Q}function Li(t){var e=void 0===t?"undefined":o(t);return!!t&&("object"==e||"function"==e)}function zi(t,e,n,r){return n="function"==typeof n?un(n,r,3):k,Be(t,$n(e),n)}function Ri(t){return Fi(t)&&t!=+t}function Bi(t){return null!=t&&(Ni(t)?aa.test(ea.call(t)):w(t)&&Rt.test(t))}function Di(t){return null===t}function Fi(t){return"number"==typeof t||w(t)&&ia.call(t)==et}function Ui(t){var e;if(!w(t)||ia.call(t)!=nt||Mi(t)||!na.call(t,"constructor")&&"function"==typeof(e=t.constructor)&&!(e instanceof e))return!1;var n;return Ie(t,function(t,e){n=e}),n===k||na.call(t,n)}function qi(t){return Li(t)&&ia.call(t)==rt}function Vi(t){return"string"==typeof t||w(t)&&ia.call(t)==ot}function Wi(t){return w(t)&&rr(t.length)&&!!$t[ia.call(t)]}function $i(t){return t===k}function Hi(t,e){return t<e}function Gi(t,e){return t<=e}function Yi(t){var e=t?Va(t):0;return rr(e)?e?ee(t):[]:ao(t)}function Zi(t){return we(t,eo(t))}function Ki(t,e,n){var r=za(t);return n&&tr(t,e,n)&&(e=k),e?me(r,e):r}function Ji(t){return Ne(t,eo(t))}function Xi(t,e,n){var r=null==t?k:Le(t,dr(e),e+"");return r===k?n:r}function Qi(t,e){if(null==t)return!1;var n=na.call(t,e);if(!n&&!er(e)){if(e=dr(e),null==(t=1==e.length?t:Le(t,Ze(e,0,-1))))return!1;e=Pr(e),n=na.call(t,e)}return n||rr(t.length)&&Qn(e,t.length)&&(Tu(t)||Mi(t))}function to(t,e,n){n&&tr(t,e,n)&&(e=k);for(var r=-1,i=Uu(t),o=i.length,a={};++r<o;){var u=i[r],s=t[u];e?na.call(a,s)?a[s].push(u):a[s]=[u]:a[s]=u}return a}function eo(t){if(null==t)return[];Li(t)||(t=Yo(t));var e=t.length;e=e&&rr(e)&&(Tu(t)||Mi(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=qo(e),a=e>0;++r<e;)o[r]=r+"";for(var u in t)a&&Qn(u,e)||"constructor"==u&&(i||!na.call(t,u))||o.push(u);return o}function no(t){t=hr(t);for(var e=-1,n=Uu(t),r=n.length,i=qo(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function ro(t,e,n){var r=null==t?k:t[e];return r===k&&(null==t||er(e,t)||(e=dr(e),t=1==e.length?t:Le(t,Ze(e,0,-1)),r=null==t?k:t[Pr(e)]),r=r===k?n:r),Ni(r)?r.call(t):r}function io(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||er(e,t)?[r]:dr(e);for(var i=-1,o=e.length,a=o-1,u=t;null!=u&&++i<o;){var s=e[i];Li(u)&&(i==a?u[s]=n:null==u[s]&&(u[s]=Qn(e[i+1])?[]:{})),u=u[s]}return t}function oo(t,e,n,r){var i=Tu(t)||Wi(t);if(e=qn(e,r,4),null==n)if(i||Li(t)){var o=t.constructor;n=i?Tu(t)?new o:[]:za(Ni(o)?o.prototype:k)}else n={};return(i?ne:je)(t,function(t,r,i){return e(n,t,r,i)}),n}function ao(t){return en(t,Uu(t))}function uo(t){return en(t,eo(t))}function so(t,e,n){return e=+e||0,n===k?(n=e,e=0):n=+n||0,t>=Ca(e,n)&&t<Sa(e,n)}function co(t,e,n){n&&tr(t,e,n)&&(e=n=k);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Pa();return Ca(t+o*(e-t+ca("1e-"+((o+"").length-1))),e)}return Ge(t,e)}function lo(t){return(t=l(t))&&t.charAt(0).toUpperCase()+t.slice(1)}function fo(t){return(t=l(t))&&t.replace(Dt,g).replace(jt,"")}function ho(t,e,n){t=l(t),e+="";var r=t.length;return n=n===k?r:Ca(n<0?0:+n||0,r),(n-=e.length)>=0&&t.indexOf(e,n)==n}function po(t){return t=l(t),t&&St.test(t)?t.replace(bt,v):t}function go(t){return t=l(t),t&&It.test(t)?t.replace(Tt,_):t||"(?:)"}function vo(t,e,n){t=l(t),e=+e;var r=t.length;if(r>=e||!ba(e))return t;var i=(e-r)/2,o=ya(i);return n=Nn("",_a(i),n),n.slice(0,o)+t+n}function _o(t,e,n){return(n?tr(t,e,n):null==e)?e=0:e&&(e=+e),t=bo(t),Ma(t,e||(zt.test(t)?16:10))}function mo(t,e){var n="";if(t=l(t),(e=+e)<1||!t||!ba(e))return n;do{e%2&&(n+=t),e=ya(e/2),t+=t}while(e);return n}function yo(t,e,n){return t=l(t),n=null==n?0:Ca(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function wo(t,n,r){var i=e.templateSettings;r&&tr(t,n,r)&&(n=r=k),t=l(t),n=_e(me({},r||n),i,ve);var o,a,u=_e(me({},n.imports),i.imports,ve),s=Uu(u),c=en(u,s),f=0,h=n.interpolate||Ft,d="__p += '",p=Zo((n.escape||Ft).source+"|"+h.source+"|"+(h===Mt?Nt:Ft).source+"|"+(n.evaluate||Ft).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Wt+"]")+"\n";t.replace(p,function(e,n,r,i,u,s){return r||(r=i),d+=t.slice(f,s).replace(Ut,m),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+e.length,e}),d+="';\n";var v=n.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(_t,""):d).replace(mt,"$1").replace(yt,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var _=Xu(function(){return $o(s,g+"return "+d).apply(k,c)});if(_.source=d,ji(_))throw _;return _}function bo(t,e,n){var r=t;return(t=l(t))?(n?tr(r,e,n):null==e)?t.slice(C(t),A(t)+1):(e+="",t.slice(f(t,e),h(t,e)+1)):t}function xo(t,e,n){var r=t;return t=l(t),t?(n?tr(r,e,n):null==e)?t.slice(C(t)):t.slice(f(t,e+"")):t}function So(t,e,n){var r=t;return t=l(t),t?(n?tr(r,e,n):null==e)?t.slice(0,A(t)+1):t.slice(0,h(t,e+"")+1):t}function Co(t,e,n){n&&tr(t,e,n)&&(e=k);var r=D,i=F;if(null!=e)if(Li(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?l(e.omission):i}else r=+e||0;if(t=l(t),r>=t.length)return t;var a=r-i.length;if(a<1)return i;var u=t.slice(0,a);if(null==o)return u+i;if(qi(o)){if(t.slice(a).search(o)){var s,c,f=t.slice(0,a);for(o.global||(o=Zo(o.source,(Lt.exec(o)||"")+"g")),o.lastIndex=0;s=o.exec(f);)c=s.index;u=u.slice(0,null==c?a:c)}}else if(t.indexOf(o,a)!=a){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+i}function Ao(t){return t=l(t),t&&xt.test(t)?t.replace(wt,M):t}function Mo(t,e,n){return n&&tr(t,e,n)&&(e=k),t=l(t),t.match(e||qt)||[]}function Po(t,e,n){return n&&tr(t,e,n)&&(e=k),w(t)?To(t):be(t,e)}function ko(t){return function(){return t}}function Oo(t){return t}function To(t){return Fe(xe(t,!0))}function Io(t,e){return Ue(t,xe(e,!0))}function jo(t,e,n){if(null==n){var r=Li(e),i=r?Uu(e):k,o=i&&i.length?Ne(e,i):k;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Ne(e,Uu(e)));var a=!0,u=-1,s=Ni(t),c=o.length;n===!1?a=!1:Li(n)&&"chain"in n&&(a=n.chain);for(;++u<c;){var l=o[u],f=e[l];t[l]=f,s&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__);return(r.__actions__=ee(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,le([this.value()],arguments))}}(f))}return t}function Eo(){return oe._=oa,this}function No(){}function Lo(t){return er(t)?We(t):$e(t)}function zo(t){return function(e){return Le(t,dr(e),e+"")}}function Ro(t,e,n){n&&tr(t,e,n)&&(e=n=k),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=Sa(_a((e-t)/(n||1)),0),o=qo(i);++r<i;)o[r]=t,t+=n;return o}function Bo(t,e,n){if((t=ya(t))<1||!ba(t))return[];var r=-1,i=qo(Ca(t,Ta));for(e=un(e,n,1);++r<t;)r<Ta?i[r]=e(r):e(r);return i}function Do(t){var e=++ra;return l(t)+e}function Fo(t,e){return(+t||0)+(+e||0)}function Uo(t,e,n){return n&&tr(t,e,n)&&(e=k),e=qn(e,n,3),1==e.length?pe(Tu(t)?t:fr(t),e):Qe(t,e)}t=t?ae.defaults(oe.Object(),t,ae.pick(oe,Vt)):oe;var qo=t.Array,Vo=t.Date,Wo=t.Error,$o=t.Function,Ho=t.Math,Go=t.Number,Yo=t.Object,Zo=t.RegExp,Ko=t.String,Jo=t.TypeError,Xo=qo.prototype,Qo=Yo.prototype,ta=Ko.prototype,ea=$o.prototype.toString,na=Qo.hasOwnProperty,ra=0,ia=Qo.toString,oa=oe._,aa=Zo("^"+ea.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ua=t.ArrayBuffer,sa=t.clearTimeout,ca=t.parseFloat,la=Ho.pow,fa=Qo.propertyIsEnumerable,ha=Hn(t,"Set"),da=t.setTimeout,pa=Xo.splice,ga=t.Uint8Array,va=Hn(t,"WeakMap"),_a=Ho.ceil,ma=Hn(Yo,"create"),ya=Ho.floor,wa=Hn(qo,"isArray"),ba=t.isFinite,xa=Hn(Yo,"keys"),Sa=Ho.max,Ca=Ho.min,Aa=Hn(Vo,"now"),Ma=t.parseInt,Pa=Ho.random,ka=Go.NEGATIVE_INFINITY,Oa=Go.POSITIVE_INFINITY,Ta=4294967295,Ia=Ta-1,ja=Ta>>>1,Ea=9007199254740991,Na=va&&new va,La={};e.support={};e.templateSettings={escape:Ct,evaluate:At,interpolate:Mt,variable:"",imports:{_:e}};var za=function(){function t(){}return function(e){if(Li(e)){t.prototype=e;var n=new t;t.prototype=k}return n||{}}}(),Ra=dn(je),Ba=dn(Ee,!0),Da=pn(),Fa=pn(!0),Ua=Na?function(t,e){return Na.set(t,e),t}:Oo,qa=Na?function(t){return Na.get(t)}:No,Va=We("length"),Wa=function(){var t=0,e=0;return function(n,r){var i=vu(),o=q-(i-e);if(e=i,o>0){if(++t>=U)return n}else t=0;return Ua(n,r)}}(),$a=mi(function(t,e){return w(t)&&Xn(t)?Ce(t,Te(e,!1,!0)):[]}),Ha=Sn(),Ga=Sn(!0),Ya=mi(function(t){for(var e=t.length,n=e,r=qo(f),i=Wn(),o=i==s,a=[];n--;){var u=t[n]=Xn(u=t[n])?u:[];r[n]=o&&u.length>=120?vn(n&&u):null}var c=t[0],l=-1,f=c?c.length:0,h=r[0];t:for(;++l<f;)if(u=c[l],(h?Xt(h,u):i(a,u,0))<0){for(var n=e;--n;){var d=r[n];if((d?Xt(d,u):i(t[n],u,0))<0)continue t}h&&h.push(u),a.push(u)}return a}),Za=mi(function(t,e){e=Te(e);var n=ye(t,e);return He(t,e.sort(a)),n}),Ka=Rn(),Ja=Rn(!0),Xa=mi(function(t){return tn(Te(t,!1,!0))}),Qa=mi(function(t,e){return Xn(t)?Ce(t,e):[]}),tu=mi(Br),eu=mi(function(t){var e=t.length,n=e>2?t[e-2]:k,r=e>1?t[e-1]:k;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):k,r=k),t.length=e,Dr(t,n,r)}),nu=mi(function(t){return t=Te(t),this.thru(function(e){return te(Tu(e)?e:[hr(e)],t)})}),ru=mi(function(t,e){return ye(t,Te(e))}),iu=fn(function(t,e,n){na.call(t,n)?++t[n]:t[n]=1}),ou=xn(Ra),au=xn(Ba,!0),uu=Mn(ne,Ra),su=Mn(re,Ba),cu=fn(function(t,e,n){na.call(t,n)?t[n].push(e):t[n]=[e]}),lu=fn(function(t,e,n){t[n]=e}),fu=mi(function(t,e,n){var r=-1,i="function"==typeof e,o=er(e),a=Xn(t)?qo(t.length):[];return Ra(t,function(t){var u=i?e:o&&null!=t?t[e]:k;a[++r]=u?u.apply(t,n):Jn(t,e,n)}),a}),hu=fn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),du=jn(fe,Ra),pu=jn(he,Ba),gu=mi(function(t,e){if(null==t)return[];var n=e[2];return n&&tr(e[0],e[1],n)&&(e.length=1),Xe(t,Te(e),[])}),vu=Aa||function(){return(new Vo).getTime()},_u=mi(function(t,e,n){var r=T;if(n.length){var i=x(n,_u.placeholder);r|=L}return Bn(t,r,e,n,i)}),mu=mi(function(t,e){e=e.length?Te(e):Ji(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Bn(t[i],T,t)}return t}),yu=mi(function(t,e,n){var r=T|I;if(n.length){var i=x(n,yu.placeholder);r|=L}return Bn(e,r,t,n,i)}),wu=yn(E),bu=yn(N),xu=mi(function(t,e){return Se(t,1,e)}),Su=mi(function(t,e,n){return Se(t,e,n)}),Cu=An(),Au=An(!0),Mu=mi(function(t,e){if(e=Te(e),"function"!=typeof t||!ie(e,c))throw new Jo(H);var n=e.length;return mi(function(r){for(var i=Ca(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),Pu=In(L),ku=In(z),Ou=mi(function(t,e){return Bn(t,B,k,k,k,Te(e))}),Tu=wa||function(t){return w(t)&&rr(t.length)&&ia.call(t)==Z},Iu=hn(qe),ju=hn(function(t,e,n){return n?_e(t,e,n):me(t,e)}),Eu=wn(ju,ge),Nu=wn(Iu,ar),Lu=Cn(je),zu=Cn(Ee),Ru=Pn(Da),Bu=Pn(Fa),Du=kn(je),Fu=kn(Ee),Uu=xa?function(t){var e=null==t?k:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Xn(t)?lr(t):Li(t)?xa(t):[]}:lr,qu=On(!0),Vu=On(),Wu=mi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ce(Te(e),Ko);return ur(t,Ce(eo(t),e))}var n=un(e[0],e[1],3);return sr(t,function(t,e,r){return!n(t,e,r)})}),$u=mi(function(t,e){return null==t?{}:"function"==typeof e[0]?sr(t,un(e[0],e[1],3)):ur(t,Te(e))}),Hu=_n(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Gu=_n(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yu=Tn(),Zu=Tn(!0),Ku=_n(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ju=_n(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Xu=mi(function(t,e){try{return t.apply(k,e)}catch(t){return ji(t)?t:new Wo(t)}}),Qu=mi(function(t,e){return function(n){return Jn(n,t,e)}}),ts=mi(function(t,e){return function(n){return Jn(t,n,e)}}),es=zn("ceil"),ns=zn("floor"),rs=bn(Ci,ka),is=bn(Hi,Oa),os=zn("round");return e.prototype=n.prototype,r.prototype=za(n.prototype),r.prototype.constructor=r,i.prototype=za(n.prototype),i.prototype.constructor=i,at.prototype.delete=Gt,at.prototype.get=Yt,at.prototype.has=Zt,at.prototype.set=Kt,Jt.prototype.push=Qt,gi.Cache=at,e.after=fi,e.ary=hi,e.assign=ju,e.at=ru,e.before=di,e.bind=_u,e.bindAll=mu,e.bindKey=yu,e.callback=Po,e.chain=qr,e.chunk=gr,e.compact=vr,e.constant=ko,e.countBy=iu,e.create=Ki,e.curry=wu,e.curryRight=bu,e.debounce=pi,e.defaults=Eu,e.defaultsDeep=Nu,e.defer=xu,e.delay=Su,e.difference=$a,e.drop=_r,e.dropRight=mr,e.dropRightWhile=yr,e.dropWhile=wr,e.fill=br,e.filter=Xr,e.flatten=Sr,e.flattenDeep=Cr,e.flow=Cu,e.flowRight=Au,e.forEach=uu,e.forEachRight=su,e.forIn=Ru,e.forInRight=Bu,e.forOwn=Du,e.forOwnRight=Fu,e.functions=Ji,e.groupBy=cu,e.indexBy=lu,e.initial=Mr,e.intersection=Ya,e.invert=to,e.invoke=fu,e.keys=Uu,e.keysIn=eo,e.map=ei,e.mapKeys=qu,e.mapValues=Vu,e.matches=To,e.matchesProperty=Io,e.memoize=gi,e.merge=Iu,e.method=Qu,e.methodOf=ts,e.mixin=jo,e.modArgs=Mu,e.negate=vi,e.omit=Wu,e.once=_i,e.pairs=no,e.partial=Pu,e.partialRight=ku,e.partition=hu,e.pick=$u,e.pluck=ni,e.property=Lo,e.propertyOf=zo,e.pull=Or,e.pullAt=Za,e.range=Ro,e.rearg=Ou,e.reject=ri,e.remove=Tr,e.rest=Ir,e.restParam=mi,e.set=io,e.shuffle=oi,e.slice=jr,e.sortBy=si,e.sortByAll=gu,e.sortByOrder=ci,e.spread=yi,e.take=Er,e.takeRight=Nr,e.takeRightWhile=Lr,e.takeWhile=zr,e.tap=Vr,e.throttle=wi,e.thru=Wr,e.times=Bo,e.toArray=Yi,e.toPlainObject=Zi,e.transform=oo,e.union=Xa,e.uniq=Rr,e.unzip=Br,e.unzipWith=Dr,e.values=ao,e.valuesIn=uo,e.where=li,e.without=Qa,e.wrap=bi,e.xor=Fr,e.zip=tu,e.zipObject=Ur,e.zipWith=eu,e.backflow=Au,e.collect=ei,e.compose=Au,e.each=uu,e.eachRight=su,e.extend=ju,e.iteratee=Po,e.methods=Ji,e.object=Ur,e.select=Xr,e.tail=Ir,e.unique=Rr,jo(e,e),e.add=Fo,e.attempt=Xu,e.camelCase=Hu,e.capitalize=lo,e.ceil=es,e.clone=xi,e.cloneDeep=Si,e.deburr=fo,e.endsWith=ho,e.escape=po,e.escapeRegExp=go,e.every=Jr,e.find=ou,e.findIndex=Ha,e.findKey=Lu,e.findLast=au,e.findLastIndex=Ga,e.findLastKey=zu,e.findWhere=Qr,e.first=xr,e.floor=ns,e.get=Xi,e.gt=Ci,e.gte=Ai,e.has=Qi,e.identity=Oo,e.includes=ti,e.indexOf=Ar,e.inRange=so,e.isArguments=Mi,e.isArray=Tu,e.isBoolean=Pi,e.isDate=ki,e.isElement=Oi,e.isEmpty=Ti,e.isEqual=Ii,e.isError=ji,e.isFinite=Ei,e.isFunction=Ni,e.isMatch=zi,e.isNaN=Ri,e.isNative=Bi,e.isNull=Di,e.isNumber=Fi,e.isObject=Li,e.isPlainObject=Ui,e.isRegExp=qi,e.isString=Vi,e.isTypedArray=Wi,e.isUndefined=$i,e.kebabCase=Gu,e.last=Pr,e.lastIndexOf=kr,e.lt=Hi,e.lte=Gi,e.max=rs,e.min=is,e.noConflict=Eo,e.noop=No,e.now=vu,e.pad=vo,e.padLeft=Yu,e.padRight=Zu,e.parseInt=_o,e.random=co,e.reduce=du,e.reduceRight=pu,e.repeat=mo,e.result=ro,e.round=os,e.runInContext=P,e.size=ai,e.snakeCase=Ku,e.some=ui,e.sortedIndex=Ka,e.sortedLastIndex=Ja,e.startCase=Ju,e.startsWith=yo,e.sum=Uo,e.template=wo,e.trim=bo,e.trimLeft=xo,e.trimRight=So,e.trunc=Co,e.unescape=Ao,e.uniqueId=Do,e.words=Mo,e.all=Jr,e.any=ui,e.contains=ti,e.eq=Ii,e.detect=ou,e.foldl=du,e.foldr=pu,e.head=xr,e.include=ti,e.inject=du,jo(e,function(){var t={};return je(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ii,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ii(e,t)}):ii(this.value())},e.VERSION=O,ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ne(["drop","take"],function(t,e){i.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new i(this);n=null==n?1:Sa(ya(n)||0,0);var o=this.clone();return r?o.__takeCount__=Ca(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ne(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=$;i.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:qn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),ne(["first","last"],function(t,e){var n="take"+(e?"Right":"");i.prototype[t]=function(){return this[n](1).value()[0]}}),ne(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[n](1)}}),ne(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Fe:Lo;i.prototype[t]=function(t){return this[n](r(t))}}),i.prototype.compact=function(){return this.filter(Oo)},i.prototype.reject=function(t,e){return t=qn(t,e,1),this.filter(function(e){return!t(e)})},i.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new i(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==k&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},i.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},i.prototype.toArray=function(){return this.take(Oa)},je(i.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),u=e[a?"take"+("last"==n?"Right":""):n];u&&(e.prototype[n]=function(){var e=a?[1]:arguments,n=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,l=s instanceof i,f=e[0],h=l||Tu(s);h&&o&&"function"==typeof f&&1!=f.length&&(l=h=!1);var d=function(t){return a&&n?u(t,1)[0]:u.apply(k,le([t],e))},p={func:Wr,args:[d],thisArg:k},g=l&&!c;if(a&&!n)return g?(s=s.clone(),s.__actions__.push(p),t.call(s)):u.call(k,this.value())[0];if(!a&&h){s=g?s:new i(this);var v=t.apply(s,e);return v.__actions__.push(p),new r(v,n)}return this.thru(d)})}),ne(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?ta:Xo)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),je(i.prototype,function(t,n){var r=e[n];if(r){var i=r.name;(La[i]||(La[i]=[])).push({name:n,func:r})}}),La[En(k,I).name]=[{name:"wrapper",func:k}],i.prototype.clone=b,i.prototype.reverse=tt,i.prototype.value=it,e.prototype.chain=$r,e.prototype.commit=Hr,e.prototype.concat=nu,e.prototype.plant=Gr,e.prototype.reverse=Yr,e.prototype.toString=Zr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Kr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var k,O="3.10.1",T=1,I=2,j=4,E=8,N=16,L=32,z=64,R=128,B=256,D=30,F="...",U=150,q=16,V=200,W=1,$=2,H="Expected a function",G="__lodash_placeholder__",Y="[object Arguments]",Z="[object Array]",K="[object Boolean]",J="[object Date]",X="[object Error]",Q="[object Function]",tt="[object Map]",et="[object Number]",nt="[object Object]",rt="[object RegExp]",it="[object Set]",ot="[object String]",at="[object WeakMap]",ut="[object ArrayBuffer]",st="[object Float32Array]",ct="[object Float64Array]",lt="[object Int8Array]",ft="[object Int16Array]",ht="[object Int32Array]",dt="[object Uint8Array]",pt="[object Uint8ClampedArray]",gt="[object Uint16Array]",vt="[object Uint32Array]",_t=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,yt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,xt=RegExp(wt.source),St=RegExp(bt.source),Ct=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,kt=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Tt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,It=RegExp(Tt.source),jt=/[\u0300-\u036f\ufe20-\ufe23]/g,Et=/\\(\\)?/g,Nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,zt=/^0[xX]/,Rt=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,Dt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ft=/($^)/,Ut=/['\n\r\u2028\u2029\\]/g,qt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Vt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wt=-1,$t={};$t[st]=$t[ct]=$t[lt]=$t[ft]=$t[ht]=$t[dt]=$t[pt]=$t[gt]=$t[vt]=!0,$t[Y]=$t[Z]=$t[ut]=$t[K]=$t[J]=$t[X]=$t[Q]=$t[tt]=$t[et]=$t[nt]=$t[rt]=$t[it]=$t[ot]=$t[at]=!1;var Ht={};Ht[Y]=Ht[Z]=Ht[ut]=Ht[K]=Ht[J]=Ht[st]=Ht[ct]=Ht[lt]=Ht[ft]=Ht[ht]=Ht[et]=Ht[nt]=Ht[rt]=Ht[ot]=Ht[dt]=Ht[pt]=Ht[gt]=Ht[vt]=!0,Ht[X]=Ht[Q]=Ht[tt]=Ht[it]=Ht[at]=!1;var Gt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Zt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kt={function:!0,object:!0},Jt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qt=Kt[o(e)]&&e&&!e.nodeType&&e,te=Kt[o(t)]&&t&&!t.nodeType&&t,ee=Qt&&te&&"object"==(void 0===r?"undefined":o(r))&&r&&r.Object&&r,ne=Kt["undefined"==typeof self?"undefined":o(self)]&&self&&self.Object&&self,re=Kt["undefined"==typeof window?"undefined":o(window)]&&window&&window.Object&&window,ie=te&&te.exports===Qt&&Qt,oe=ee||re!==(this&&this.window)&&re||ne||this,ae=P();"object"==o(n(21))&&n(21)?(oe._=ae,(i=function(){return ae}.call(e,n,e,t))!==k&&(t.exports=i)):Qt&&te?ie?(te.exports=ae)._=ae:Qt._=ae:oe._=ae}).call(void 0)}).call(e,n(23)(t),n(22))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return h.default.map(t,function(t){return h.default.reduce(t.voices,function(t,n){if(h.default.isString(n)){var r=h.default.find(e,function(t){return t.name===n});return r?t.concat(r.children):t}if(!h.default.isObject(n))return t},[])})}function o(t){var e=Scored.config.note.head.width;return h.default.map((0,d.partitionBy)(t,function(t){return t.time.measure}),function(t){var n=h.default.reduce(t,function(t,e){var n=e.length;return[t[0]+n[0],t[1]+n[1]]},[0,0]),r=l(n,2),i=r[0],o=r[1];return i+(o?o:Scored.config.measure.length)+e})}function a(t,e){for(var n=[],r=0;r<t;r++){var i=e[r];i?n.push(i):n.push(Scored.config.measure.length+Scored.config.note.head.width)}return n}function u(t){return t&&t.time?t.time.time:void 0}function s(t){var e=h.default.map(t,h.default.first);if(!h.default.compact(e).length)return[];for(var n=h.default.min(e,u).time.time,r=[],i=[],o=0;o<e.length;o++)u(e[o])===n?(r.push(e[o]),i.push(h.default.rest(t[o]))):(r.push(null),i.push(t[o]));return[r,i]}function c(t,e){for(var n=s(e),r=l(n,2),i=r[0],o=r[1],a=[];h.default.compact(i).length;){a.push(t(i));var u=s(o),c=l(u,2);i=c[0],o=c[1]}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.iterateByTime=e.nextTimes=e.addDefaultMeasureLengths=e.calculateMeasureLengths=e.getStaffItems=void 0;var l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=n(0),h=r(f),d=n(3);e.getStaffItems=i,e.calculateMeasureLengths=o,e.addDefaultMeasureLengths=a,e.nextTimes=s,e.iterateByTime=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.value,n=t.measure,r=t.beat,i=t.time;this.value=e,this.measure=n,this.beat=r,this.time=i}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o),u=n(5),s=a.default.type.chordSymbol;i.prototype.type=s,i.prototype.render=function(){var t=this.group=(0,u.drawChordSymbol)(this.value);return t.name=s,t},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.value,n=t.time;this.value=e,this.time=n}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o),u=n(5),s=n(15),c=a.default.type.dynamic;i.prototype.type=c,i.prototype.render=function(){var t=this.group=(0,u.drawDynamic)(this.value);return t.name=c,t},i.prototype.equals=function(t){return(0,s.dynamicEquals)(this,t)},e.default=i},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.value,n=void 0===e?"C":e,r=t.measure,i=t.beat;this.value=n,this.measure=r,this.beat=i}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(2),s=i(u),c=n(5),l=n(8),f=r(l),h=n(1),d=i(h),p=d.default.type.key,g={C:["c","d","e","f","g","a","b"],"C#":["c#","d#","e#","f#","g#","a#","b#"],Db:["db","eb","f","gb","ab","bb","c"],D:["d","e","f#","g","a","b","c#"],"D#":["d#","e#","fx","g#","a#","b#","cx"],Eb:["eb","f","g","ab","bb","c","d"],E:["e","f#","g#","a","b","c#","d#"],F:["f","g","a","bb","c","d","e"],"F#":["f#","g#","a#","b","c#","d#","e#"],Gb:["gb","ab","bb","cb","db","eb","f"],G:["g","a","b","c","d","e","f#"],"G#":["g#","a#","b#","c#","d#","e#","fx"],Ab:["ab","bb","c","db","eb","f","g"],A:["a","b","c#","d","e","f#","g#"],"A#":["a#","b#","cx","d#","e#","fx","gx"],Bb:["bb","c","d","eb","f","g","a"],B:["b","c#","d#","e","f#","g#","a#"],a:["a","b","c","d","e","f","g"],"a#":["a#","b#","c#","d#","e#","f#","g#"],bb:["bb","c","db","eb","f","gb","ab"],b:["b","c#","d","e","f#","g","a"],c:["c","d","eb","f","g","ab","bb"],"c#":["c#","d#","e","f#","g#","a","b"],db:["db","eb","fb","gb","ab","bbb","cb"],d:["d","e","f","g","a","bb","c"],"d#":["d#","e#","f#","g#","a#","b","c#"],eb:["eb","f","gb","ab","bb","cb","db"],e:["e","f#","g","a","b","c","d"],f:["f","g","ab","bb","c","db","eb"],"f#":["f#","g#","a","b","c#","d","e"],gb:["gb","ab","bbb","cb","db","ebb","fb"],g:["g","a","bb","c","d","eb","f"],"g#":["g#","a#","b","c#","d#","e","f#"],ab:["ab","bb","cb","db","eb","fb","gb"]},v=[[],[0],[0,-3],[0,-3,1],[0,-3,1,-2],[0,-3,1,-2,2],[0,-3,1,-2,2,-1],[0,-3,1,-2,2,-1,3]],_=[[],[-4],[-4,-1],[-4,-1,-5],[-4,-1,-5,-2],[-4,-1,-5,-2,1],[-4,-1,-5,-2,1,-3],[-4,-1,-5,-2,1,-3,0]],m="#",y="b",w={C:[[],""],a:[[],""],G:[_[1],m],D:[_[2],m],A:[_[3],m],E:[_[4],m],B:[_[5],m],"F#":[_[6],m],"C#":[_[7],m],e:[_[1],m],b:[_[2],m],"f#":[_[3],m],"c#":[_[4],m],"g#":[_[5],m],"d#":[_[6],m],"a#":[_[7],m],F:[v[1],y],Bb:[v[2],y],Eb:[v[3],y],Ab:[v[4],y],Db:[v[5],y],Gb:[v[6],y],Cb:[v[7],y],d:[v[1],y],g:[v[2],y],c:[v[3],y],f:[v[4],y],bb:[v[5],y],eb:[v[6],y],ab:[v[7],y]};o.prototype.type=p,o.prototype.render=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.group=new s.default.Group({name:p}),n=t&&t.clef?t.clef.value:"treble",r={treble:[0,0],bass:[0,2*Scored.config.layout.stepSpacing],alto:[0,Scored.config.layout.stepSpacing],tenor:[0,-Scored.config.layout.stepSpacing]},i=a(w[this.value],2),o=i[0],u=i[1],l=new s.default.Point(r[n]),h=0;h<o.length;h++){var d=(0,c.drawAccidental)(u),g=f.calculateAccidentalYpos(o[h],Scored.config.lineSpacing/2);d.position=l.add([0,g]),l=l.add([7,0]),e.addChild(d)}return e},o.prototype.getPitches=function(){return g[this.value]},o.prototype.equals=function(t){return this.type===t.type&&this.value===t.value&&this.measure===t.measure&&this.beat===t.beat},e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.voice,n=void 0===e?0:e,r=t.value,i=void 0===r?4:r,o=t.dots,a=void 0===o?0:o,u=t.tuplet,s=t.time,c=t.slur;this.voice=n,this.value=i,this.dots=a,this.tuplet=u,this.time=s,this.slur=c}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=r(o),u=n(5),s=n(1),c=r(s),l=n(15),f=c.default.type.rest;i.render=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.render(e)},i.prototype.type=f,i.prototype.render=function(t){var e=this.group=new a.default.Group({name:f});return e.addChild((0,u.drawRest)(this.value)),e.position=[0,0],this.dots&&this.drawDots(this.dots,t.clef),e},i.prototype.drawDots=function(t){var e=this.group.bounds.center.y+Scored.config.note.head.yOffset,n=e-Scored.config.layout.stepSpacing,r=new a.default.Point(this.group.bounds.right+Scored.config.note.head.width/2,n),i=(0,u.drawDots)(r,t);this.group.addChildren(i)},i.prototype.drawGroupBounds=function(t){var e=new a.default.Path.Rectangle(new a.default.Rectangle(t.bounds));e.name="bounds",t.insertChild(0,e)},i.prototype.equals=function(t){return(0,l.restEquals)(this,t)},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){var e=t.pageWidth,n=void 0===e?595:e,r=t.pageHeight,i=void 0===r?842:r,o=t.length,a=t.title,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=m.default.groupBy(u,function(t){return t.type});this.timeSigs=s.timeSig||[],this.lines=s.line||[],this.systems=s.system||[],this.pages=s.page||[],this.length=o,this.pageWidth=n,this.pageHeight=i,this.title=d(a)}function a(t,e){return m.default.some(e,function(e){return m.default.some(e.voices,function(e){return e===t.name})})}function u(t,e){return t.lines.map(function(t){return t.contextAt(e)})}function s(t,e){var n=m.default.sum(t.systems,function(t){return t.measures});return(0,P.createMeasures)(n,[].concat(i(t.timeSigs),i(e)))}function c(t,e){return{context:e,items:[(0,T.clone)(e.clef),(0,T.clone)(e.key),(0,T.clone)(e.timeSig)],time:t}}function l(t,e,n,r){var i=(0,j.getStaffItems)(t,e),o=(0,T.map)(function(t,e){return(0,I.getTimeContexts)(t,n,e)},t,i);return m.default.each(o,function(t){var e=(0,E.getAccidentalContexts)(t);m.default.each(t,function(t,n){return t.context.accidentals=e[n]})}),(0,j.iterateByTime)(function(t){var e=m.default.partition(r,function(e){var r=(0,N.getTime)(n,e),i=m.default.find(t,function(t){return!!t}).time;return(0,N.equals)(i,r)}),i=p(e,1),o=i[0];return new x.default(t,o)},o)}function f(t,e){var n=0,r=m.default.reduce(t,function(t,r){var i=r.time.measure;if(i>=e[n+1]){for(n++;i>=e[n+1];)t.push([]),n++;var o=[r];t.push(o)}else t[t.length-1]?t[t.length-1].push(r):t.push([r]);return t},[]);return m.default.each(m.default.drop(e,n+2),function(){return r.push([])}),r}function h(t,e){return m.default.find(e,function(e){return m.default.indexOf(e.voices,t)!==-1})}function d(t){return(0,L.isText)(t)?t:m.default.isObject(t)?new M.default(t):m.default.isString(t)?new M.default({value:t}):null}Object.defineProperty(e,"__esModule",{value:!0});var p=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.scoreToMeasures=s,e.createLineTimeContext=c,e.partitionBySystem=f;var g=n(2),v=r(g),_=n(0),m=r(_),y=n(19),w=r(y),b=n(71),x=r(b),S=n(70),C=r(S),A=n(45),M=r(A),P=n(18),k=n(1),O=r(k),T=n(3),I=n(9),j=n(25),E=n(12),N=n(6),L=n(4),z=O.default.type.score;o.prototype.type=z,o.render=function(t,e){var n=e.measures,r=e.voices,o=void 0===r?[]:r,h=e.chordSymbols,d=void 0===h?[]:h,p=e.repeats,g=void 0===p?[]:p,v=e.pages,_=void 0===v?[0]:v,y=t.render();n=n||s(t,g);var b=n.map(function(t){return t.startsAt});o.map(function(t){t.breakDurations(b)});var S=m.default.reduce(t.systems,function(t,e,n){return m.default.contains(_,e.page)?(0,T.concat)(t,{system:e,index:n}):t},[]);if(S.length){var A=(0,T.reductions)(function(t,e){return t+e.measures},t.systems,0),M=A.map(function(t){return(0,N.getTime)(n,{measure:t})}),P=[M[m.default.first(S).index],M[m.default.last(S).index+1]],k=o.map(function(e){return a(e,t.lines)?e.getTimeFrame(P[0].time,P[1].time):null}),O=k.map(function(t){return C.default.groupSlurs(t,M).map(function(t){var e=(m.default.first(t).time,m.default.last(t).time),n=m.default.contains(M.map(function(t){return t.time}),e),r=!!n&&1===t.length;return C.default.of({systemBreak:n,isEnd:r},t)})}),I=f(l(t.lines,o,n,d),A);(0,T.map)(function(e){var n=e.index,r=I[n],o=m.default.first(r),a=M[n],s=u(t,a);if(o){var l=o.time;if(a.time<l.time){var f=m.default.map(s,m.default.partial(c,a));I[n]=[new x.default(f)].concat(i(r))}else m.default.each(o.lines,function(t,e){if(t){var n=t.context,r=t.items;m.default.find(t.items,L.isClef)||r.push((0,T.clone)(n.clef)),m.default.find(t.items,L.isKey)||r.push((0,T.clone)(n.key)),m.default.find(t.items,L.isTimeSignature)||r.push((0,T.clone)(n.timeSig))}else o.lines[e]=c(a,s[e])})}else{var h=m.default.map(s,m.default.partial(c,a));r.push(new x.default(h))}},S);var j=0;if(t.title&&m.default.contains(_,0)){var E=t.title.render(),z=(t.length||t.pageWidth)/2;E.translate(z,0),j=E.bounds.height,y.addChild(E)}var R=m.default.map(S,function(e,r){var i=e.system,a=e.index,u=A[a]+i.measures,s=m.default.slice(n,A[a],u),c=I[a],l=w.default.renderTimeContexts({system:i,voices:o,timeContexts:c,chordSymbols:d,lines:t.lines,measures:s,length:i.length||t.length}),f=m.default.contains(_,i.page)?t.pages[i.page].staffSpacing[r]||250*r+m.default.indexOf(_,i.page)*t.pageHeight:t.pages[i.page].staffSpacing[r]||250*r;return l.translate(i.indentation,f+j),l}),B=m.default.flatten(O).map(function(t){return t.render()});y.addChildren(B),y.addChildren(R)}return y},o.prototype.render=function(){return new v.default.Group({name:z})},o.getLineByVoice=h,e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.value,n=void 0===e?"4/4":e,r=t.measure,i=t.beatStructure;this.value=n,this.measure=r,this.beatStructure=i||h[n]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=r(o),u=n(0),s=n(5),c=n(1),l=r(c),f=l.default.type.timeSig,h={"4/4":[1,1,1,1],"2/4":[1,1],c:[2,2],h:[2,2],"3/4":[1,1,1],"12/8":[3,3,3,3],"9/8":[3,3,3],"6/8":[3,3],"3/8":[3]};i.prototype.type=f,i.prototype.render=function(){var t={top:0,left:2,bottom:0,right:10},e=this.group=new a.default.Group({name:f});return e.addChild((0,s.drawTimeSig)(this.value,t)),e.position=[0,0],e},i.prototype.equals=function(t){return this.type===t.type&&this.value===t.value&&this.measure===t.measure&&(0,u.isEqual)(this.beatStructure,t.beatStructure)},e.default=i},function(t,e,n){(function(e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e){var o=r(i),a=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new e(JSON.stringify(t)).toString("base64")+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}}).call(e,n(74).Buffer)},function(t,e,n){"use strict";"format es6";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return p.default.reduceRight(t,function(t,e){return t.push(e),t},[])}function o(t,e){if(Math.floor(e)!==e){var n=o(t,Math.floor(e)),r=o(t,Math.ceil(e));return n+(e-Math.floor(e))*(r-n)}if(e<0){var a=p.default.map(i(t),function(t){return 0-t});return p.default.sum(p.default.map(p.default.range(Math.abs(e)),function(t){return a[t%a.length]}))}if(e>=0)return p.default.sum(p.default.map(p.default.range(e),function(e){return t[e%t.length]}))}function a(t){return p.default.partial(o,t)}function u(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p.default.compose(function(n){return n-t(e)},t,s(e))}function s(t){return function(e){return e+t}}function c(t){return s(-12)(t)}function l(t){return s(12)(t)}function f(t){return s(-7)(t)}function h(t){return s(7)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.raise=e.lower=e.high=e.low=e.from=e.B=e.A=e.G=e.F=e.E=e.D=e.C=e.locrian=e.aeolian=e.mixolydian=e.lydian=e.phrygian=e.dorian=e.ionian=e.sharp=e.flat=e.mode=e.minor=e.major=void 0;var d=n(24),p=r(d),g=a([2,2,1,2,2,2,1]),v=a([2,1,2,2,1,2,2]),_=u(g,0),m=u(g,1),y=u(g,2),w=u(g,3),b=u(g,4),x=u(g,5),S=u(g,6),C=s(60),A=s(62),M=s(64),P=s(65),k=s(67),O=s(69),T=s(71),I=s(1),j=s(-1);e.major=g,e.minor=v,e.mode=u,e.flat=j,e.sharp=I,e.ionian=_,e.dorian=m,e.phrygian=y,e.lydian=w,e.mixolydian=b,e.aeolian=x,e.locrian=S,e.C=C,e.D=A,e.E=M,e.F=P,e.G=k,e.A=O,e.B=T,e.from=s,e.low=c,e.high=l,e.lower=f,e.raise=h},function(t,e,n){"use strict";var r={bb:-2,b:-1,"":0,"#":1,x:2};t.exports=function(t){return r[t]},t.exports.interval=function(t){var e=r[t];return[-4*e,7*e]}},function(t,e,n){"use strict";var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/**
 * @license Fraction.js v3.3.1 09/09/2015
 * http://www.xarg.org/2014/03/precise-calculations-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(n){function a(t,e){return isNaN(t=parseInt(t,10))&&u(),t*e}function u(){throw"Invalid Param"}function s(t,e){if(!(this instanceof s))return new s(t,e);f(t,e),t=s.REDUCE?g(l.d,l.n):1,this.s=l.s,this.n=l.n/t,this.d=l.d/t}var c=2e3,l={s:1,n:0,d:1},f=function(t,e){var n,r=0,i=1,s=1,c=0,f=0,h=0,d=1,p=1,g=0,v=1,_=1,m=1,y=1e7;if(void 0===t||null===t);else if(void 0!==e)r=t,i=e,s=r*i;else switch(void 0===t?"undefined":o(t)){case"object":"d"in t&&"n"in t?(r=t.n,i=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(i=t[1])):u(),s=r*i;break;case"number":if(t<0&&(s=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=p);v<=y&&m<=y;){if(n=(g+_)/(v+m),t===n){v+m<=y?(r=g+_,i=v+m):m>v?(r=_,i=m):(r=g,i=v);break}t>n?(g+=_,v+=m):(_+=g,m+=v),v>y?(r=_,i=m):(r=g,i=v)}r*=p}else(isNaN(t)||isNaN(e))&&(i=r=NaN);break;case"string":if(v=t.match(/\d+|./g),"-"===v[g]?(s=-1,g++):"+"===v[g]&&g++,v.length===g+1?f=a(v[g++],s):"."===v[g+1]||"."===v[g]?("."!==v[g]&&(c=a(v[g++],s)),g++,(g+1===v.length||"("===v[g+1]&&")"===v[g+3]||"'"===v[g+1]&&"'"===v[g+3])&&(f=a(v[g],s),d=Math.pow(10,v[g].length),g++),("("===v[g]&&")"===v[g+2]||"'"===v[g]&&"'"===v[g+2])&&(h=a(v[g+1],s),p=Math.pow(10,v[g+1].length)-1,g+=3)):"/"===v[g+1]||":"===v[g+1]?(f=a(v[g],s),d=a(v[g+2],1),g+=3):"/"===v[g+3]&&" "===v[g+1]&&(c=a(v[g],s),f=a(v[g+2],s),d=a(v[g+4],1),g+=5),v.length<=g){i=d*p,s=r=h+i*c+p*f;break}default:u()}if(0===i)throw"DIV/0";l.s=s<0?-1:1,l.n=Math.abs(r),l.d=Math.abs(i)},h=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r},d=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>c)return 0;return r},p=function(t,e,n){for(var r=1,i=h(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0},g=function(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}};s.REDUCE=1,s.prototype={s:1,n:0,d:1,abs:function(){return new s(this.n,this.d)},neg:function(){return new s(-this.s*this.n,this.d)},add:function(t,e){return f(t,e),new s(this.s*this.n*l.d+l.s*this.d*l.n,this.d*l.d)},sub:function(t,e){return f(t,e),new s(this.s*this.n*l.d-l.s*this.d*l.n,this.d*l.d)},mul:function(t,e){return f(t,e),new s(this.s*l.s*this.n*l.n,this.d*l.d)},div:function(t,e){return f(t,e),new s(this.s*l.s*this.n*l.d,this.d*l.n)},clone:function(){return new s(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new s(NaN):void 0===t?new s(this.s*this.n%this.d,1):(f(t,e),0===l.n&&0===this.d&&s(0,0),new s(this.s*l.d*this.n%(l.n*this.d),l.d*this.d))},gcd:function(t,e){return f(t,e),new s(g(l.n,this.n),l.d*this.d/g(l.d,this.d))},lcm:function(t,e){return f(t,e),0===l.n&&0===this.n?new s:new s(l.n*this.n/g(l.n,this.n),g(l.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new s(this.s*this.d,this.n)},pow:function(t){return t<0?new s(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new s(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return f(t,e),this.s*this.n*l.d==l.s*l.n*this.d},compare:function(t,e){f(t,e);var n=this.s*this.n*l.d-l.s*l.n*this.d;return(0<n)-(n<0)},divisible:function(t,e){return f(t,e),!(!(l.n*this.d)||this.n*l.d%(l.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(){var t,e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";s.REDUCE||(t=g(e,n),e/=t,n/=t);for(var r=String(e).split(""),i=0,o=[~this.s?"":"-","",""],a="",u=d(e,n),c=p(e,n,u),l=-1,f=1,h=15+u+c+r.length,v=0;v<h;v++,i*=10){if(v<r.length?i+=Number(r[v]):(f=2,l++),u>0)if(l===c)o[f]+=a+"(",a="";else if(l===u+c){o[f]+=a+")";break}i>=n?(o[f]+=a+(i/n|0),a="",i%=n):f>1?a+="0":o[f]&&(o[f]+="0")}return o[0]+=o[1]||"0",o[2]?o[0]+"."+o[2]:o[0]}},r=[],void 0!==(i=function(){return s}.apply(e,r))&&(t.exports=i)}()},function(t,e,n){"use strict";var r={c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]};t.exports=function(t){return t in r?[r[t][0],r[t][1]]:null},t.exports.notes=r,t.exports.A4=[3,3],t.exports.sharp=[-4,7]},function(t,e,n){"use strict";function r(t,e){if("string"==typeof t)return s.toCoord(t);if("string"==typeof e&&t instanceof u)return s.from(t,s.toCoord(e));if(e instanceof s&&t instanceof u)return s.from(t,e);if(e instanceof u&&t instanceof u)return s.between(t,e);throw new Error("Invalid parameters")}function i(t,e){return"string"==typeof t?u.fromString(t,e):new u(t,e)}function o(t,e){if("string"==typeof t){var n,r;if((n=t.match(/^([a-h])(x|#|bb|b?)/i))&&n[0])return r="number"==typeof e?e.toString(10):"4",new c(u.fromString(n[0].toLowerCase()+r),t.substr(n[0].length))}else if(t instanceof u)return new c(t,e);throw new Error("Invalid Chord. Couldn't find note name")}function a(t,e){return t=t instanceof u?t:f.note(t),new l(t,e)}var u=n(38),s=n(14),c=n(63),l=n(64);r.toCoord=s.toCoord,r.from=s.from,r.between=s.between,r.invert=s.invert,i.fromString=u.fromString,i.fromKey=u.fromKey,i.fromFrequency=u.fromFrequency,i.fromMIDI=u.fromMIDI;var f={note:i,chord:o,interval:r,scale:a,Note:u,Chord:c,Scale:l,Interval:s};n(65)(f),t.exports=f},function(t,e,n){"use strict";function r(t,e,n){for(;n>0;n--)t+=e;return t}function i(t,e){if(!(this instanceof i))return new i(t,e);e=e||{},this.duration={value:e.value||4,dots:e.dots||0},this.coord=t}var o=n(62),a=n(60),u=n(11),s=n(39),c=n(14);i.prototype={octave:function(){return this.coord[0]+u.A4[0]-u.notes[this.name()][0]+4*this.accidentalValue()},name:function(){return u.fifths[this.coord[1]+u.A4[1]-7*this.accidentalValue()+1]},accidentalValue:function(){return Math.round((this.coord[1]+u.A4[1]-2)/7)},accidental:function(){return u.accidentals[this.accidentalValue()+2]},key:function(t){return t?7*this.coord[0]+4*this.coord[1]+29:12*this.coord[0]+7*this.coord[1]+49},midi:function(){return this.key()+20},fq:function(t){return(t=t||440)*Math.pow(2,(12*this.coord[0]+7*this.coord[1])/12)},chroma:function(){var t=(s.sum(s.mul(this.coord,[12,7]))-3)%12;return t<0?t+12:t},interval:function(t){return"string"==typeof t&&(t=c.toCoord(t)),t instanceof c?new i(s.add(this.coord,t.coord)):t instanceof i?new c(s.sub(t.coord,this.coord)):void 0},transpose:function(t){return this.coord=s.add(this.coord,t.coord),this},helmholtz:function(){var t=this.octave(),e=this.name();e=t<3?e.toUpperCase():e.toLowerCase();var n=t<3?",":"'",i=t<2?2-t:t-3;return r(e+this.accidental(),n,i)},scientific:function(){return this.name().toUpperCase()+this.accidental()+this.octave()},enharmonics:function(t){var e=this.key(),n=t?2:3;return["m3","m2","m-2","m-3"].map(this.interval.bind(this)).filter(function(t){var r=t.accidentalValue(),i=e-(t.key()-r);if(i<n&&i>-n)return t.coord=s.add(t.coord,s.mul(u.sharp,i-r)),!0})},solfege:function t(e,n){var t,i,o,a=e.tonic.interval(this);return"down"===a.direction()&&(a=a.invert()),n&&(o=(this.key(!0)-e.tonic.key(!0))/7,o=o>=0?Math.floor(o):-Math.ceil(-o),i=o>=0?"'":","),t=u.intervalSolfege[a.simple(!0).toString()],n?r(t,i,Math.abs(o)):t},scaleDegree:function(t){var e=t.tonic.interval(this);return("down"===e.direction()||0===e.coord[1]&&0!==e.coord[0])&&(e=e.invert()),e=e.simple(!0).coord,t.scale.reduce(function(t,n,r){var i=c.toCoord(n).coord;return i[0]===e[0]&&i[1]===e[1]?r+1:t},0)},durationName:function(){return u.durations[this.duration.value]},durationInSeconds:function(t,e){var n=60/t/(this.duration.value/4)/(e/4);return 2*n-n/Math.pow(2,this.duration.dots)},toString:function(t){return this.name()+this.accidental()+(t?"":this.octave())}},i.fromString=function(t,e){var n=o(t);return n||(n=a(t)),new i(n,e)},i.fromKey=function(t){var e=Math.floor((t-4)/12),n=t-12*e-4,r=u.fifths[(2*Math.round(n/2)+1)%7],o=s.add(s.sub(u.notes[r],u.A4),[e+1,0]),a=t-49-s.sum(s.mul(o,[12,7]));return new i(a?s.add(o,s.mul(u.sharp,a)):o)},i.fromFrequency=function(t,e){var n,r,o;return e=e||440,n=49+(Math.log(t)-Math.log(e))/Math.log(2)*12,n=Math.round(n),o=e*Math.pow(2,(n-49)/12),r=Math.log(t/o)/Math.log(2)*1200,{note:i.fromKey(n),cents:r}},i.fromMIDI=function(t){return i.fromKey(t-20)},t.exports=i},function(t,e,n){"use strict";t.exports={add:function(t,e){return[t[0]+e[0],t[1]+e[1]]},sub:function(t,e){return[t[0]-e[0],t[1]-e[1]]},mul:function(t,e){return"number"==typeof e?[t[0]*e,t[1]*e]:[t[0]*e[0],t[1]*e[1]]},sum:function(t){return t[0]+t[1]}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){var r=void 0,i=void 0;if(e===p){r=t.children[0].noteHead.bounds.rightCenter.add(0,Scored.config.note.head.yOffset),i=r.subtract([0,n])}else if(e===g){var o=l.default.last(t.children);r=o.noteHead.bounds.leftCenter.add(0,Scored.config.note.head.yOffset),i=r.add([0,n])}return i}function a(t,e,n){var r=3.5*Scored.config.lineSpacing,i=Math.abs(d.getSteps(t.children[0].pitch,l.default.last(t.children).pitch)*Scored.config.layout.stepSpacing);if(!e)return r+i;var o=d.getSteps(e,t.children[0].pitch);if("up"===n&&o>=0)return r+i;if("down"===n&&o<0)return r+i;var a=o*Scored.config.stepSpacing;return Math.max(r,Math.abs(a))+i}function u(t){for(var e=t.children,n=[],r=1;r<e.length;r++){var i=e[r-1],o=e[r];d.getSteps(i.pitch,o.pitch)<=1&&n.push([i,o])}return n}function s(t){for(var e=0,n=t-1,r=new Array(t),i=0;i<t;i++)(0,f.isEven)(i)?(r[i]=n,n--):(r[i]=e,e++);return r}Object.defineProperty(e,"__esModule",{value:!0}),e.getAccidentalOrdering=e.getOverlappingNotes=e.getStemLength=e.defaultStemPoint=void 0;var c=n(0),l=i(c),f=n(3),h=n(7),d=r(h),p="up",g="down";e.defaultStemPoint=o,e.getStemLength=a,e.getOverlappingNotes=u,e.getAccidentalOrdering=s},function(t,e,n){"use strict";function r(t,e,n){var r=t-e.x;return e.add(r,n.y/n.x*r)}Object.defineProperty(e,"__esModule",{value:!0}),e.getLinePoint=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){var e=(0,d.map)(t.children,o);return $[t.type](t.props,e)}function a(t){var e=t.timeSignatures.map(function(t){return new B.default({value:f(t.value),measure:t.measure})}),n=t.lines.map(l.bind(null,e)),r=s(t.pages),o=u(t.pages,t.systems);return new q.default({},[].concat(i(e),i(r),i(o),i(n)))}function u(t,e){var n=0,r=1;return e.map(function(e){var i=new k.default(Object.assign({},e,{lineHeights:e.lineSpacing,page:n}));return t[n]?r===t[n].systems?(n++,r=1):r++:n++,i})}function s(t){return t.map(function(t){return new W.default(t)})}function c(t){var e=t.root,n=t.mode;return Y[e][n]}function l(t,e){return new T.default({voices:e.voices},[].concat(i(e.clefs.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new N.default(t)})),i(e.keys.map(function(t){return new z.default(Object.assign({},t,{value:c(t)}))})),i(t.map(p.clone))))}function f(t){var e=h(t,2);return e[0]+"/"+e[1]}Object.defineProperty(e,"__esModule",{value:!0});var h=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.parse=o,e.parseLayout=a;var d=n(0),p=n(3),g=n(20),v=r(g),_=n(13),m=r(_),y=n(29),w=r(y),b=n(44),x=r(b),S=n(16),C=r(S),A=n(26),M=r(A),P=n(19),k=r(P),O=n(17),T=r(O),I=n(18),j=r(I),E=n(10),N=r(E),L=n(28),z=r(L),R=n(31),B=r(R),D=n(27),F=r(D),U=n(30),q=r(U),V=n(43),W=r(V),$={voice:function(t,e){return new v.default(t,e)},note:function(t,e){return new m.default(t,e)},rest:function(t,e){return new w.default(t,e)},repeat:function(t,e){return new x.default(t,e)},chord:function(t,e){return new C.default(t,e)},chordSymbol:function(t,e){return new M.default(t,e)},system:function(t,e){return new k.default(t,e)},line:function(t,e){return new T.default(t,e)},measure:function(t,e){return new j.default(t,e)},clef:function(t,e){return new N.default(t,e)},key:function(t,e){return new z.default(t,e)},timeSig:function(t,e){return new B.default(t,e)},dynamic:function(t,e){return new F.default(t,e)},score:function(t,e){return new q.default(t,e)}},H=["Ab","A","A#","Bb","B","B#","Cb","C","C#","Db","D","D#","Eb","E","E#","Fb","F","F#","Gb","G","G#"],G=["major","minor"],Y=H.reduce(function(t,e){return t[e]=G.reduce(function(t,n){return t[n]="minor"===n?e.toLowerCase():e,t},{}),t},{})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.staffSpacing,n=void 0===e?[]:e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.children=r,this.staffSpacing=n}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o);i.prototype.type=a.default.type.page,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.value,n=t.measure;this.value=e,this.measure=n}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o),u=n(5),s=a.default.type.repeat;i.prototype.type=s,i.prototype.render=function(){return this.group=(0,u.drawRepeat)()},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(1),u=r(a),s=function(t){var e=t.value,n=void 0===e?"":e,r=t.fontSize,i=void 0===r?32:r,o=t.fontFamily,a=void 0===o?"gonvillealpha":o,u=t.fillColor,s=void 0===u?"black":u;this.value=n,this.fontSize=i,this.fontFamily=a,this.fillColor=s};s.prototype.type=u.default.type.text,s.prototype.render=function(){return new o.default.Group({name:u.default.type.text,children:[new o.default.PointText({content:this.value,fontFamily:this.fontFamily,fontSize:this.fontSize,fillColor:this.fillColor})]})},e.default=s},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){g&&d&&(g=!1,d.length?p=d.concat(p):v=-1,p.length&&u())}function u(){if(!g){var t=i(a);g=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,g=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,p=[],g=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||g||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){l.default.load({custom:{families:["gonville","gonvillealpha"]},active:t})}function o(t){return t.innerHTML='<canvas class="scored-canvas parnassus"><canvas>',document.getElementsByClassName("scored-canvas")}function a(t,e,n){return{type:t,props:e,children:n}}function u(t){return(0,s.map)(t,function(t,e){return a("voice",{name:e},t)})}n(88);var s=n(82),c=n(89),l=r(c),f=n(52),h=r(f),d=n(66),p=r(d),g=n(91),v=r(g),_=n(85),m=r(_),y=(0,h.default)(m.default);i(function(){var t=o(document.getElementById("root")),e=new p.default;e.setup(t[0]),e.render(v.default,{voices:u(y.voices).map(p.default.parse)}).translate(100,150),e.project.view.update()})},function(t,e,n){"use strict";var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/**
 * @license Fraction.js v3.3.1 09/09/2015
 * http://www.xarg.org/2014/03/precise-calculations-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(n){function a(t,e){return isNaN(t=parseInt(t,10))&&u(),t*e}function u(){throw"Invalid Param"}function s(t,e){if(!(this instanceof s))return new s(t,e);f(t,e),t=s.REDUCE?g(l.d,l.n):1,this.s=l.s,this.n=l.n/t,this.d=l.d/t}var c=2e3,l={s:1,n:0,d:1},f=function(t,e){var n,r=0,i=1,s=1,c=0,f=0,h=0,d=1,p=1,g=0,v=1,_=1,m=1,y=1e7;if(void 0===t||null===t);else if(void 0!==e)r=t,i=e,s=r*i;else switch(void 0===t?"undefined":o(t)){case"object":"d"in t&&"n"in t?(r=t.n,i=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(i=t[1])):u(),s=r*i;break;case"number":if(t<0&&(s=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=p);v<=y&&m<=y;){if(n=(g+_)/(v+m),t===n){v+m<=y?(r=g+_,i=v+m):m>v?(r=_,i=m):(r=g,i=v);break}t>n?(g+=_,v+=m):(_+=g,m+=v),v>y?(r=_,i=m):(r=g,i=v)}r*=p}else(isNaN(t)||isNaN(e))&&(i=r=NaN);break;case"string":if(v=t.match(/\d+|./g),"-"===v[g]?(s=-1,g++):"+"===v[g]&&g++,v.length===g+1?f=a(v[g++],s):"."===v[g+1]||"."===v[g]?("."!==v[g]&&(c=a(v[g++],s)),g++,(g+1===v.length||"("===v[g+1]&&")"===v[g+3]||"'"===v[g+1]&&"'"===v[g+3])&&(f=a(v[g],s),d=Math.pow(10,v[g].length),g++),("("===v[g]&&")"===v[g+2]||"'"===v[g]&&"'"===v[g+2])&&(h=a(v[g+1],s),p=Math.pow(10,v[g+1].length)-1,g+=3)):"/"===v[g+1]||":"===v[g+1]?(f=a(v[g],s),d=a(v[g+2],1),g+=3):"/"===v[g+3]&&" "===v[g+1]&&(c=a(v[g],s),f=a(v[g+2],s),d=a(v[g+4],1),g+=5),v.length<=g){i=d*p,s=r=h+i*c+p*f;break}default:u()}if(0===i)throw"DIV/0";l.s=s<0?-1:1,l.n=Math.abs(r),l.d=Math.abs(i)},h=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r},d=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>c)return 0;return r},p=function(t,e,n){for(var r=1,i=h(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0},g=function(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}};s.REDUCE=1,s.prototype={s:1,n:0,d:1,abs:function(){return new s(this.n,this.d)},neg:function(){return new s(-this.s*this.n,this.d)},add:function(t,e){return f(t,e),new s(this.s*this.n*l.d+l.s*this.d*l.n,this.d*l.d)},sub:function(t,e){return f(t,e),new s(this.s*this.n*l.d-l.s*this.d*l.n,this.d*l.d)},mul:function(t,e){return f(t,e),new s(this.s*l.s*this.n*l.n,this.d*l.d)},div:function(t,e){return f(t,e),new s(this.s*l.s*this.n*l.d,this.d*l.n)},clone:function(){return new s(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new s(NaN):void 0===t?new s(this.s*this.n%this.d,1):(f(t,e),0===l.n&&0===this.d&&s(0,0),new s(this.s*l.d*this.n%(l.n*this.d),l.d*this.d))},gcd:function(t,e){return f(t,e),new s(g(l.n,this.n),l.d*this.d/g(l.d,this.d))},lcm:function(t,e){return f(t,e),0===l.n&&0===this.n?new s:new s(l.n*this.n/g(l.n,this.n),g(l.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new s(this.s*this.d,this.n)},pow:function(t){return t<0?new s(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new s(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return f(t,e),this.s*this.n*l.d==l.s*l.n*this.d},compare:function(t,e){f(t,e);var n=this.s*this.n*l.d-l.s*l.n*this.d;return(0<n)-(n<0)},divisible:function(t,e){return f(t,e),!(!(l.n*this.d)||this.n*l.d%(l.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(){var t,e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";s.REDUCE||(t=g(e,n),e/=t,n/=t);for(var r=String(e).split(""),i=0,o=[~this.s?"":"-","",""],a="",u=d(e,n),c=p(e,n,u),l=-1,f=1,h=15+u+c+r.length,v=0;v<h;v++,i*=10){if(v<r.length?i+=Number(r[v]):(f=2,l++),u>0)if(l===c)o[f]+=a+"(",a="";else if(l===u+c){o[f]+=a+")";break}i>=n?(o[f]+=a+(i/n|0),a="",i%=n):f>1?a+="0":o[f]&&(o[f]+="0")}return o[0]+=o[1]||"0",o[2]?o[0]+"."+o[2]:o[0]}},r=[],void 0!==(i=function(){return s}.apply(e,r))&&(t.exports=i)}()},function(t,e,n){"use strict";function r(t,e){this.props=t,this.children=e}Object.defineProperty(e,"__esModule",{value:!0});var i="chord";r.prototype.type=i,r.prototype.clone=function(t){return new r(Object.assign({},this.props,t),this.children.map(function(e){return e.clone(t)}))},r.prototype.toJSON=function(){return Object.assign({},this,{type:i})},r.prototype.expand=function(){return this},e.default=r},function(t,e,n){"use strict";function r(t){this.props=t}Object.defineProperty(e,"__esModule",{value:!0});var i="note";r.prototype.type=i,r.prototype.clone=function(t){return new r(Object.assign({},this.props,t))},r.prototype.toJSON=function(){return Object.assign({},this,{type:i})},e.default=r},function(t,e,n){"use strict";function r(t){this.props=t}Object.defineProperty(e,"__esModule",{value:!0});var i="rest";r.prototype.type=i,r.prototype.clone=function(t){return new r(Object.assign({},this.props,t))},r.prototype.toJSON=function(){return Object.assign({},this,{type:i})},r.prototype.expand=function(){return this},e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.parser.yy.voices={},o.parser.yy.chordSymbols=[],o.parser.yy.vars={},o.parser.yy.NoteNode=s.default,o.parser.yy.RestNode=l.default,o.parser.yy.ChordNode=h.default;o.parser.parse(t);for(var e in o.parser.yy.voices)o.parser.yy.voices.hasOwnProperty(e)&&(0,a.calculateAndSetTimes)(o.parser.yy.voices[e]);return{voices:o.parser.yy.voices,chordSymbols:o.parser.yy.chordSymbols}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(90),a=n(58),u=(n(57),n(50)),s=r(u),c=n(51),l=r(c),f=n(49),h=r(f);e.default=i},function(t,e,n){"use strict";var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/**
 * @license Fraction.js v2.9.0 01/06/2015
 * http://www.xarg.org/2014/03/precise-calculations-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(n){function a(t,e){return isNaN(t=parseInt(t,10))&&u(),t*e}function u(){throw"Invalid Param"}function s(t,e){if(!(this instanceof s))return new s(t,e);f(t,e),t=s.REDUCE?g(l.d,l.n):1,this.s=l.s,this.n=l.n/t,this.d=l.d/t}var c=2e3,l={s:1,n:0,d:1},f=function(t,e){var n,r=0,i=1,s=1,c=0,f=0,h=0,d=1,p=1,g=0,v=1,_=1,m=1,y=1e7;if(void 0===t||null===t);else if(void 0!==e)r=t,i=e,s=r*i;else switch(void 0===t?"undefined":o(t)){case"object":"d"in t&&"n"in t?(r=t.n,i=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(i=t[1])):u(),s=r*i;break;case"number":if(t<0&&(s=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=p);v<=y&&m<=y;){if(n=(g+_)/(v+m),t===n){v+m<=y?(r=g+_,i=v+m):m>v?(r=_,i=m):(r=g,i=v);break}t>n?(g+=_,v+=m):(_+=g,m+=v),v>y?(r=_,i=m):(r=g,i=v)}r*=p}break;case"string":if(v=t.match(/\d+|./g),"-"===v[g]?(s=-1,g++):"+"===v[g]&&g++,v.length===g+1?f=a(v[g++],s):"."===v[g+1]||"."===v[g]?("."!==v[g]&&(c=a(v[g++],s)),g++,(g+1===v.length||"("===v[g+1]&&")"===v[g+3]||"'"===v[g+1]&&"'"===v[g+3])&&(f=a(v[g],s),d=Math.pow(10,v[g].length),g++),("("===v[g]&&")"===v[g+2]||"'"===v[g]&&"'"===v[g+2])&&(h=a(v[g+1],s),p=Math.pow(10,v[g+1].length)-1,g+=3)):"/"===v[g+1]||":"===v[g+1]?(f=a(v[g],s),d=a(v[g+2],1),g+=3):"/"===v[g+3]&&" "===v[g+1]&&(c=a(v[g],s),f=a(v[g+2],s),d=a(v[g+4],1),g+=5),v.length<=g){s=r=h+p*(c*d+f),i=d*p;break}default:u()}if(!i)throw"DIV/0";l.s=s<0?-1:1,l.n=Math.abs(r),l.d=Math.abs(i)},h=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r},d=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>c)return 0;return r},p=function(t,e,n){for(var r=1,i=h(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0},g=function(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}};s.REDUCE=1,s.prototype={s:1,n:0,d:1,abs:function(){return new s(this.n,this.d)},neg:function(){return new s(-this.s*this.n,this.d)},add:function(t,e){return f(t,e),new s(this.s*this.n*l.d+l.s*this.d*l.n,this.d*l.d)},sub:function(t,e){return f(t,e),new s(this.s*this.n*l.d-l.s*this.d*l.n,this.d*l.d)},mul:function(t,e){return f(t,e),new s(this.s*l.s*this.n*l.n,this.d*l.d)},div:function(t,e){return f(t,e),new s(this.s*l.s*this.n*l.d,this.d*l.n)},clone:function(){return new s(this)},mod:function(t,e){return void 0===t?new s(this.s*this.n%this.d,1):(f(t,e),0==l.n*this.d&&s(0,0),new s(this.s*l.d*this.n%(l.n*this.d),l.d*this.d))},gcd:function(t,e){return f(t,e),new s(g(l.n,this.n),l.d*this.d/g(l.d,this.d))},ceil:function(){return new s(Math.ceil(this.s*this.n/this.d),1)},floor:function(){return new s(Math.floor(this.s*this.n/this.d),1)},round:function(){return new s(Math.round(this.s*this.n/this.d),1)},inverse:function(){return new s(this.s*this.d,this.n)},pow:function(t){var e=this.d,n=this.n;return t<0?(this.d=Math.pow(n,-t),this.n=Math.pow(e,-t)):(this.d=Math.pow(e,t),this.n=Math.pow(n,t)),0==t%2&&(this.s=1),this},equals:function(t,e){return f(t,e),this.s*this.n*l.d==l.s*l.n*this.d},compare:function(t,e){f(t,e);var n=this.s*this.n*l.d-l.s*l.n*this.d;return(0<n)-(n<0)},divisible:function(t,e){return f(t,e),!(!(l.n*this.d)||this.n*l.d%(l.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toString:function(){var t,e=this.n,n=this.d;s.REDUCE||(t=g(e,n),e/=t,n/=t);for(var r=String(e).split(""),i=0,o=[~this.s?"":"-","",""],a="",u=d(e,n),c=p(e,n,u),l=-1,f=1,h=10+u+c+r.length,v=0;v<h;v++,i*=10){if(v<r.length?i+=Number(r[v]):(f=2,l++),u>0)if(l===c)o[f]+=a+"(",a="";else if(l===u+c){o[f]+=a+")";break}i>=n?(o[f]+=a+(i/n|0),a="",i%=n):f>1?a+="0":o[f]&&(o[f]+="0")}return o[0]+=o[1]||"0",o[2]?o[0]+"."+o[2]:o[0]}},r=[],void 0!==(i=function(){return s}.apply(e,r))&&(t.exports=i)}()},function(t,e,n){"use strict";"format es6";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={},r=(0,s.from)(e);return u.default.each(t,function(t,e){n[e]=r(t)}),n}function o(t,e){var n=u.default.take(u.default.keys(c),e),r=u.default.difference(u.default.keys(t),n),i={};return u.default.each(n,function(e){i[e]=t[e]}),u.default.each(r,function(e){i[e]=(0,s.lower)(t[e])}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.inversion=e.root=e.thirteenth=e.eleventh=e.ninth=e.seventh=e.triad=void 0;var a=n(24),u=r(a),s=n(33),c={i:0,iii:2,v:4},l={i:0,iii:2,v:4,vii:6},f={i:0,iii:2,v:4,vii:6,ix:8},h={i:0,iii:2,v:4,vii:6,ix:8,xi:10},d={i:0,iii:2,v:4,vii:6,ix:8,xi:10,xiii:12};e.triad=c,e.seventh=l,e.ninth=f,e.eleventh=h,e.thirteenth=d,e.root=i,e.inversion=o},function(t,e,n){"use strict";"format es6";function r(t,e){a[t]=e}function i(t){return a[t.part||"default"](t)}function o(t){return t.map(i)}Object.defineProperty(e,"__esModule",{value:!0});var a={};e.createPart=r,e.playNote=i,e.play=o},function(t,e,n){"use strict";"format es6";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(e){return void 0!==e&&null!==e?t(e):e}}function o(t,e){return t.concat([e])}function a(t){return A.default.map(A.default.reduce(t,function(t,e){var n=A.default.last(t);return e.time=n?new P.default(n.duration).add(n.time):0,o(t,e)},[]),function(t){return t.time=t.time.valueOf(),t})}function u(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=new Array(Math.min(t.length,e.length)),i=0;i<r.length;i++)r[i]={duration:t[i],pitch:e[i],velocity:n[i]};return a(r)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.default.sortBy(A.default.flatten(e),function(t){return t.time})}function c(t,e){var n=new P.default(t);return A.default.map(e,function(t){return t.time=n.add(t.time).valueOf(),t})}function l(t,e,n){return A.default.map(n,function(n,r){var i={};return i[t]=e[r],A.default.assign({},n,i)})}function f(t){return function(){return t}}function h(t,e,n){var r={};return r[t]=e,A.default.map(n,function(t,e){return A.default.assign({},t,r)})}function d(t,e,n){var r=i(e);return A.default.map(n,function(e){var n={};return n[t]=r(e[t]),A.default.assign({},e,n)})}function p(t,e,n,r){return A.default.map(r,function(r){var i=A.default.clone(r);return t(i)&&(i[e]=n(i[e])),i})}function g(t,e,n,r){var i=A.default.mapKeys(A.default.take(n,e-t),function(e,n){return+n+t});return a(A.default.assign([],r,i))}function v(t,e){return a(A.default.flatten(A.default.times(t,function(){return A.default.map(e,A.default.clone)})))}function _(t,e){return a(k(e).concat(k(t)))}function m(t){}function y(t){return function(e){return new P.default(e,t).mul(60).valueOf()}}function w(t){return A.default.sum(t,function(t){return t.duration})}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(t,A.default.times(t.length,function(){return null}))}function x(t,e){return d("time",t,e.map(function(e){var n=A.default.clone(e);return n.duration=t(e.time+e.duration)-t(e.time),n}))}function S(t,e,n){function r(i){if(t>=i)return i;if(e>=i){var o=e-t,a=i-t;return i+.5*a*(a/o)*(n-1)}return r(e)+n*(i-2)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.accelerando=e.tempo=e.rhythm=e.duration=e.bpm=e.after=e.mapthen=e.then=e.times=e.but=e.wherever=e.where=e.all=e.is=e.having=e.accompany=e.phrase=void 0;var C=n(24),A=r(C),M=n(53),P=r(M),k=A.default.partialRight(A.default.map,A.default.clone);e.phrase=u,e.accompany=s,e.having=l,e.is=f,e.all=h,e.where=d,e.wherever=p,e.but=g,e.times=v,e.then=_,e.mapthen=m,e.after=c,e.bpm=y,e.duration=w,e.rhythm=b,e.tempo=x,e.accelerando=S},function(t,e,n){"use strict";"format es6";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.live=e.chord=e.melody=e.scale=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(33),a=r(o),u=n(56),s=r(u),c=n(54),l=r(c),f=n(55),h=r(f);e.scale=a,e.melody=s,e.chord=l,e.live=h,"object"===("undefined"==typeof window?"undefined":i(window))&&(window.palestrina={scale:a,melody:s,chord:l,live:h})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return"note"===t.type}function o(t){return"chord"===t.type}function a(t){return"rest"===t.type}function u(t){return"repeat"===t.type}function s(t){if(!(i(t)||o(t)||a(t)||u(t)))return 0;for(var e=t.props.tuplet?t.props.tuplet.split("/"):null,n=e?new f.default(e[0],e[1]):null,r=t.props.dots||0,s=new f.default(1,t.props.value||4),c=0;c<r;c++)s=s.mul(1.5);return n&&s&&(s=s.mul(e[1]).div(e[0])),s}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.reduce(function(t,n){var r=t[t.length-1];return n.props.time=r?(0,f.default)(r.props.time).add(s(r)).add(e).valueOf():0,t.concat([n])},[])}Object.defineProperty(e,"__esModule",{value:!0}),e.calculateAndSetTimes=c;var l=n(48),f=r(l)},function(t,e,n){"use strict";var r={m:["m3","P5"],mi:["m3","P5"],min:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],ma:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"],"6/9":["M3","P5","M6","M9"]};t.exports=function(t){function e(t){for(var e=r[t],n=0,i=e.length;n<i;n++)s[n+1]=e[n];u=e.length}var n,i,o="quality",a=[],u=2,s=["P1","M3","P5","m7","M9","P11","M13"],c=!1;t=t.replace(/[,\s\(\)]/g,"");for(var l=0,f=t.length;l<f;l++){if(!(n=t[l]))return;if("quality"===o){var h=l+2<f?t.substr(l,3).toLowerCase():null,d=l+1<f?t.substr(l,2).toLowerCase():null;i=h in r?h:d in r?d:n in r?n:"",i&&e(i),"M"!==i&&"ma"!==i&&"maj"!==i||(c=!0),l+=i.length-1,o="extension"}else if("extension"===o){if(n="1"===n&&t[l+1]?+t.substr(l,2):+n,isNaN(n)||6===n)6===n?(s[3]="M6",u=Math.max(3,u)):l-=1;else{if((u=(n-1)/2)!==Math.round(u))return new Error("Invalid interval extension: "+n.toString(10));"o"===i||"dim"===i?s[3]="d7":c&&(s[3]="M7"),l+=n>=10?1:0}o="alterations"}else if("alterations"===o){var p=t.substr(l).split(/(#|b|add|maj|sus|M)/i),g=!1,v=!1;if(1===p.length)return new Error("Invalid alteration");if(0!==p[0].length)return new Error("Invalid token: '"+p[0]+"'");var _=!1;p.forEach(function(t,e,n){if(_||!t.length)return _=!1;var r=n[e+1],i=t.toLowerCase();if("M"===t||"maj"===i)"7"===r&&(_=!0),u=Math.max(3,u),s[3]="M7";else if("sus"===i){var o="P4";"2"!==r&&"4"!==r||(_=!0,"2"===r&&(o="M2")),s[1]=o}else if("add"===i)"9"===r?a.push("M9"):"11"===r?a.push("P11"):"13"===r&&a.push("M13"),_=!0;else if("b"===i)g=!0;else if("#"===i)v=!0;else{var c,l,f=+t;if(isNaN(f)||String(f).length!==t.length)return new Error("Invalid token: '"+t+"'");if(6===f)return s[3]=v?"A6":g?"m6":"M6",void(u=Math.max(3,u));if(l=(f-1)/2,u<l&&(u=l),f<5||7===f||l!==Math.round(l))return new Error("Invalid interval alteration: "+f);c=s[l][0],v?"d"===c?c="m":"m"===c?c="M":"M"!==c&&"P"!==c||(c="A"):g&&("A"===c?c="M":"M"===c?c="m":"m"!==c&&"P"!==c||(c="d")),v=g=!1,s[l]=c+f}}),o="ended"}else if("ended"===o)break}return s.slice(0,u+1).concat(a)}},function(t,e,n){"use strict";var r=n(36),i=n(34);t.exports=function(t){var t=t.replace(/\u2032/g,"'").replace(/\u0375/g,","),e=t.match(/^(,*)([a-h])(x|#|bb|b?)([,\']*)$/i);if(!e||t!==e[0])throw new Error("Invalid formatting");var n,o=e[2],a=e[1],u=e[4],s=o===o.toLowerCase();if(a){if(s)throw new Error("Invalid formatting - found commas before lowercase note");n=2-a.length}else if(u)if(u.match(/^'+$/)&&s)n=3+u.length;else{if(!u.match(/^,+$/)||s)throw new Error("Invalid formatting - mismatch between octave indicator and letter case");n=2-u.length}else n=s?3:2;var c=i.interval(e[3].toLowerCase()),l=r(o.toLowerCase());return l[0]+=n,l[0]+=c[0]-r.A4[0],l[1]+=c[1]-r.A4[1],l}},function(t,e,n){"use strict";var r=/^(AA|A|P|M|m|d|dd)(-?\d+)$/,i=[-4,7],o=["dd","d","P","A","AA"],a=["dd","d","m","M","A","AA"],u=[[0,0],[3,-5],[2,-3],[1,-1],[0,1],[3,-4],[2,-2],[1,0]];t.exports=function(t){var e=t.match(r);if(!e)return null;var n=e[1],s=+e[2],c=s<0?-1:1;s=c<0?-s:s;var l=s>8?s%7||7:s,f=(s-l)/7,h=u[l-1],d=h[0]<=1?o:a,p=d.indexOf(n)-2;return p===-3?null:[c*(h[0]+f+i[0]*p),c*(h[1]+i[1]*p)]},t.exports.coords=u.slice(0)},function(t,e,n){"use strict";var r=n(36),i=n(34);t.exports=function(t){var e=/^([a-h])(x|#|bb|b?)(-?\d*)/i,n=t.match(e);if(n&&t===n[0]&&n[3].length){var o=n[1],a=+n[3],u=n[2].length?n[2].toLowerCase():"",s=i.interval(u),c=r(o.toLowerCase());return c[0]+=a,c[0]+=s[0]-r.A4[0],c[1]+=s[1]-r.A4[1],c}}},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);e=e||"",this.name=t.name().toUpperCase()+t.accidental()+e,this.symbol=e,this.root=t,this.intervals=[],this._voicing=[];var n=e.split("/");if(2===n.length&&"9"!==n[1].trim()?(e=n[0],n=n[1].trim()):n=null,this.intervals=i(e).map(u.toCoord),this._voicing=this.intervals.slice(),n){var o,s,c=this.intervals;s=a.fromString(n+(t.octave()+1)),o=u.between(t,s),n=o.simple(),o=o.invert().direction("down"),this._voicing=[o];for(var l=0,f=c.length;l<f;l++)c[l].simple().equal(n)||this._voicing.push(c[l])}}var i=n(59),o=n(11),a=n(38),u=n(14);r.prototype={notes:function(){var t=this.root;return this.voicing().map(function(e){return t.interval(e)})},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},bass:function(){return this.root.interval(this._voicing[0])},voicing:function(t){if(!t)return this._voicing;this._voicing=[];for(var e=0,n=t.length;e<n;e++)this._voicing[e]=u.toCoord(t[e]);return this},resetVoicing:function(){this._voicing=this.intervals},dominant:function(t){return t=t||"",new r(this.root.interval("P5"),t)},subdominant:function(t){return t=t||"",new r(this.root.interval("P4"),t)},parallel:function(t){t=t||"";var e=this.quality();if("triad"!==this.chordType()||"diminished"===e||"augmented"===e)throw new Error("Only major/minor triads have parallel chords");return"major"===e?new r(this.root.interval("m3","down"),"m"):new r(this.root.interval("m3","up"))},quality:function(){for(var t,e,n,r=this.intervals,i=0,o=r.length;i<o;i++)3===r[i].number()?t=r[i]:5===r[i].number()?e=r[i]:7===r[i].number()&&(n=r[i]);if(t)return t="down"===t.direction()?t.invert():t,t=t.simple().toString(),e&&(e="down"===e.direction?e.invert():e,e=e.simple().toString()),n&&(n="down"===n.direction?n.invert():n,n=n.simple().toString()),"M3"===t?"A5"===e?"augmented":"P5"===e&&"m7"===n?"dominant":"major":"m3"===t?"P5"===e?"minor":"d5"===e?"m7"===n?"half-diminished":"diminished":"minor":void 0},chordType:function(){var t,e,n,r,i,o=this.intervals.length;if(2===o)return"dyad";if(3===o){for(e={first:!1,third:!1,fifth:!1},r=0;r<o;r++)t=this.intervals[r],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);i=e.first&&e.third&&e.fifth?"triad":"trichord"}else if(4===o){for(e={first:!1,third:!1,fifth:!1,seventh:!1},r=0;r<o;r++)t=this.intervals[r],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);e.first&&e.third&&e.fifth&&e.seventh&&(i="tetrad")}return i||"unknown"},get:function(t){if("string"==typeof t&&t in o.stepNumber){var e,n,r=this.intervals;for(t=o.stepNumber[t],e=0,n=r.length;e<n;e++)if(r[e].number()===t)return this.root.interval(r[e]);return null}throw new Error("Invalid interval name")},interval:function(t){return new r(this.root.interval(t),this.symbol)},transpose:function(t){return this.root.transpose(t),this.name=this.root.name().toUpperCase()+this.root.accidental()+this.symbol,this},toString:function(){return this.name}},t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);var n,i;if(!("coord"in t))throw new Error("Invalid Tonic");if("string"==typeof e){if(n=e,!(e=a[e]))throw new Error("Invalid Scale")}else for(i in a)if(a.hasOwnProperty(i)&&a[i].toString()===e.toString()){n=i;break}this.name=n,this.tonic=t,this.scale=e}var i=n(11),o=n(14),a={aeolian:["P1","M2","m3","P4","P5","m6","m7"],blues:["P1","m3","P4","A4","P5","m7"],chromatic:["P1","m2","M2","m3","M3","P4","A4","P5","m6","M6","m7","M7"],dorian:["P1","M2","m3","P4","P5","M6","m7"],doubleharmonic:["P1","m2","M3","P4","P5","m6","M7"],harmonicminor:["P1","M2","m3","P4","P5","m6","M7"],ionian:["P1","M2","M3","P4","P5","M6","M7"],locrian:["P1","m2","m3","P4","d5","m6","m7"],lydian:["P1","M2","M3","A4","P5","M6","M7"],majorpentatonic:["P1","M2","M3","P5","M6"],melodicminor:["P1","M2","m3","P4","P5","M6","M7"],minorpentatonic:["P1","m3","P4","P5","m7"],mixolydian:["P1","M2","M3","P4","P5","M6","m7"],phrygian:["P1","m2","m3","P4","P5","m6","m7"]};a.harmonicchromatic=a.chromatic,a.minor=a.aeolian,a.major=a.ionian,a.flamenco=a.doubleharmonic,r.prototype={notes:function t(){for(var t=[],e=0,n=this.scale.length;e<n;e++)t.push(this.tonic.interval(this.scale[e]));return t},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},type:function(){var t=this.scale.length-2;if(t<8)return["di","tri","tetra","penta","hexa","hepta","octa"][t]+"tonic"},get:function(t){return t="string"==typeof t&&t in i.stepNumber?i.stepNumber[t]:t,this.tonic.interval(this.scale[t-1])},solfege:function(t,e){return t?this.get(t).solfege(this,e):this.notes().map(function(t){return t.solfege(this,e)})},interval:function(t){return t="string"==typeof t?o.toCoord(t):t,new r(this.tonic.interval(t),this.scale)},transpose:function(t){var e=this.interval(t);return this.scale=e.scale,this.tonic=e.tonic,this}},t.exports=r},function(t,e,n){"use strict";var r=n(11);t.exports=function(t){var e=t.Note,n=t.Chord,i=t.Scale;e.prototype.chord=function(t){return t=t in r.chordShort?r.chordShort[t]:t,new n(this,t)},e.prototype.scale=function(t){return new i(this,t)}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(2),u=i(a),s=n(67),c=i(s),l=n(20),f=i(l),h=n(13),d=i(h),p=n(29),g=i(p),v=n(16),_=i(v),m=n(19),y=i(m),w=n(17),b=i(w),x=n(18),S=i(x),C=n(10),A=i(C),M=n(28),P=i(M),k=n(45),O=i(k),T=n(31),I=i(T),j=n(27),E=i(j),N=n(26),L=i(N),z=n(30),R=i(z),B=n(43),D=i(B),F=n(44),U=i(F),q=n(42),V=n(9),W=(r(V),n(7)),$=(r(W),n(12)),H=(r($),n(3)),G=r(H),Y=n(6),Z=(r(Y),n(1)),K=i(Z),J=n(72),X=(i(J),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.config=new c.default(e.config)});X.prototype.setup=function(t){this.project=u.default.setup(t).project},X.prototype.render=function(t,e){var n=void 0;if(!t.type)throw new Error("Layout must have a type");switch(t.type){case K.default.type.note:n=d.default.render(t,e);break;case K.default.type.rest:n=g.default.render(t,e);break;case K.default.type.chord:n=_.default.render(t,e);break;case K.default.type.system:n=y.default.render(t,e);break;case K.default.type.score:n=t instanceof R.default?R.default.render(t,e):R.default.render((0,q.parseLayout)(t),e)}return u.default.view.update(),n},X.prototype.serialize=function(t){return G.serialize(t)},X.prototype.note=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new d.default(t)},X.prototype.rest=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new g.default(t)},X.prototype.clef=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new A.default(t)},X.prototype.key=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new P.default(t)},X.prototype.text=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new O.default(t)},X.prototype.timeSig=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new I.default(t)},X.prototype.dynamic=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new E.default(t)},X.prototype.chordSymbol=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new L.default(t)},X.prototype.chord=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new _.default(t,e)},X.prototype.voice=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new f.default(t,e)},X.prototype.page=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new D.default(t,e)},X.prototype.measure=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return new S.default(t,e)},X.prototype.line=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return new b.default(t,e)},X.prototype.system=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return new y.default(t,e)},X.prototype.score=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return new R.default(t,e)},X.prototype.repeat=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new U.default(t)},X.prototype.clone=G.clone,X.parse=q.parse,e.default=X,"object"===("undefined"==typeof window?"undefined":o(window))&&(window.Scored=X)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=r(i),a=function(){function t(t){return e(o.default.extend({},c,t))}function e(t){return t.note.head.width=i(t.fontSize),t.note.head.yOffset=r(t.fontSize),t.layout.lineSpacing=t.lineSpacing=n(t.fontSize,t.fontFamily),t.layout.stepSpacing=t.stepSpacing=t.layout.lineSpacing/2,t}function n(t){return 5*t/18}function r(){return 9}function i(){return 10.5}function a(){return 10}var u=32,s="gonville",c={fontSize:u,fontFamily:s,shortestDuration:.0625,note:{minWidth:45,head:{width:i(u),height:a(u),yOffset:r(u)},accidental:{xOffset:i(u),yOffset:-a(u)}},layout:{lineSpacing:null,lineLength:1e3,lineDistance:100,stepSpacing:null},measure:{length:100},maxBeamAngle:13,minStemLength:10};return t}();e.default=a},function(t,e,n){"use strict";function r(t,e){if(!t)return e;if((0,o.gte)(e.time,t))return e;var n=(0,o.calculateDuration)(e).valueOf();if((0,o.lte)(e.time+n,t))return e;var r=(0,o.absoluteToRelativeDuration)(t-e.time),c=(0,o.absoluteToRelativeDuration)(e.time+n-t);if((0,u.isNote)(e)||(0,u.isChord)(e))return[(0,a.clone)(e,i({},r,{slur:s})),(0,a.clone)(e,i({},c,{time:t,slur:s}))];if((0,u.isRest)(e))return[(0,a.clone)(e,i({},r)),(0,a.clone)(e,i({},c,{time:t}))];throw new Error("Unsure how to divide item")}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.divide=r;var o=n(6),a=n(3),u=n(4),s="BREAK"},function(t,e,n){"use strict";function r(t,e){for(var n=t.iterate(),r=e.iterate(),o=[],a=n.next(),s=r.next();!a.done||!s.done;){var c=i(a),l=i(s);c===l?(a.value.length===s.value.length&&(0,u.every)(a.value,function(t,e){return t.equals(s.value[e])})||o.push(c),a=n.next(),s=r.next()):c<l?(o.push(c),a=n.next()):c>l&&(o.push(l),s=r.next())}return o}function i(t){return t.done?1/0:t.value[0].time}function o(t,e){for(var n=Math.max(t.length,e.length),r=[],i=0;i<n;i++)t[i]!==e[i]&&r.push(i);return r}function a(t,e){return _.sum(t.systems,function(t){return t.measures})!==_.sum(e.systems,function(t){return t.measures})}Object.defineProperty(e,"__esModule",{value:!0}),e.voices=r,e.arrays=o,e.measures=a;var u=n(0)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.systemBreak,n=t.isEnd,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.systemBreak=e,this.isEnd=n,this.children=r}function o(t,e,n){n=n||t.getStemDirection();var r=(0,d.isChord)(t)?t.getBaseNote(n).noteHead:t.noteHead;return e?e.y<0?r.bounds.center:r.bounds.bottomCenter:"down"===n?r.bounds.center:r.bounds.bottomCenter}function a(t){var e="up"===t?10:-10;return new c.default.Point([0,e])}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(2),c=r(s),l=n(0),f=n(1),h=r(f),d=n(4),p=n(3),g=n(7),v=h.default.type.slur;i.prototype.type=v,i.of=function(t,e){return new i(t,e)},i.prototype.render=function(){var t=new c.default.Group({name:v}),e=(0,l.first)(this.children),n=(0,l.last)(this.children);if(1===this.children.length)if(this.isEnd){var r=n.getStemDirection(),i=o(n,null,r),u=i.subtract(20,0),s=a(r);t.addChild((0,g.slur)(u,i,s))}else{var f=e.getStemDirection(),h=o(e,null,f),d=h.add(20,0),p=a(f);t.addChild((0,g.slur)(h,d,p))}else if(this.systemBreak){var _=e.getStemDirection(),m=o(e,null,_),y=m.add(20,0),w=a(_),b=(0,g.slur)(m,y,w),x=n.getStemDirection(),S=o(n,null,x),C=S.subtract(20,0),A=a(x),M=(0,g.slur)(C,S,A);t.addChildren([b,M])}else{var P=e.getStemDirection(),k=o(e,null,P),O=a(P),T=o(n,O);t.addChild((0,g.slur)(k,T,O))}return t},i.groupSlurs=function(t){return(0,l.filter)((0,p.partitionBy)(t,function(t){return t.slur}),function(t){return!!u(t,1)[0].slur})},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.lines=t,this.time=d.default.find(t,function(t){return!!t}).time,this.symbols=e}function o(t,e,n){var r=(0,m.isNote)(n)?n:n.children[0],i=(0,y.calculateNoteYpos)(r,Scored.config.lineSpacing/2,(0,y.getClefBase)(e.clef.value),4);n.group.translate(t.add([0,i]))}function a(t){var e=t.items,n=t.context;return d.default.map(e,function(t){return u(t,n)})}function u(t,e){return(0,m.isNote)(t)?s(t,e):(0,m.isChord)(t)?c(t,e):t.render(e)}function s(t,e){var n=t.render(e);return g.default.renderAccidental(t,e.accidentals,e.key),g.default.renderDots(t,e.clef),n}function c(t,e){var n=t.render(e);return _.default.renderAccidentals(t,e),n}Object.defineProperty(e,"__esModule",{value:!0});var l=n(2),f=r(l),h=n(0),d=r(h),p=n(13),g=r(p),v=n(16),_=r(v),m=n(4),y=n(8),w=n(9);i.prototype.render=function(t){var e=this.group=new f.default.Group,n=d.default.map(this.lines,function(n,r){if(n){var i=a(n),u=(d.default.filter(n.items,m.isMarking),d.default.filter(n.items,m.isPitched)),s=d.default.filter(n.items,m.isRest),c=d.default.filter(n.items,m.isDynamic),l=new f.default.Point(0,t[r]),h=(0,w.positionMarkings)(l,0,n);if(u.length){var p=d.default.max(u,function(t){return t.group.bounds.width});o(l,n.context,p),(0,y.placeAt)(h,p),d.default.remove(u,function(t){return t===p}),d.default.each(u,d.default.partial(o,l,n.context));var g=(0,m.isNote)(p)?p.noteHead:p.children[0].noteHead;(0,y.alignNoteHeads)(g.bounds.center.x,u)}return s.map(function(t){t.group.translate(l.add(0,(0,y.getYOffset)(t))),(0,y.placeAt)(h,t)}),c.map(function(t){t.group.translate(l.add(0,7.5*Scored.config.layout.lineSpacing)),(0,y.placeAt)(h,t)}),e.addChildren(i),h}}),r=Math.min.apply(null,d.default.compact(n)),i=d.default.isFinite(r)?r:0,u=this.symbols.map(function(t){var e=t.render();return e.translate(i,(0,y.getYOffset)(t)),e});return e.addChildren(u),e},i.prototype.calculateCursor=function(){return this.lines.map(function(t){if(t){return d.default.filter(t.items,m.isMarking).reduce(function(t,e){return(0,y.calculateCursor)(e)+t},0)+d.default.min(d.default.filter(t.items,m.hasDuration).map(y.calculateCursor))}})},e.default=i},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=e.voices,r=void 0===n?[]:n,i=e.pages,o=void 0===i?[1]:i;a(I.voices,r);I.score&&!k.measures(I.score,t)||(E=(0,S.scoreToMeasures)(t));var s=k.arrays(I.score.systemHeights||[],t.systemHeights);if(j&&I.score.systemHeights&&s.length)s.map(function(e){I.systemGroups[e]&&I.systemGroups[e].translate(0,t.systemHeights[e]-I.score.systemHeights[e])});else{j&&j.remove(),j=t.render(),N=(0,A.reductions)(function(t,e){return t+e.measures},t.systems,0);var l=c.default.dropRight(N).map(function(t){return(0,M.getTime)(E,{measure:t})}),f=l.map(function(e){return t.lines.map(function(t){return t.contextAt(e)})}),h=(0,S.getSystemTimeContexts)(t,r,E,N);(0,A.map)(function(t,e,n){var r=c.default.first(t);if(r){var i=c.default.find(r,function(t){return!!t}).time;if(n.time<i.time)throw new Error("Gap in time");c.default.each(r,function(t,i){if(t){var o=t.context,a=t.items;c.default.find(t.items,O.isClef)||a.push((0,A.clone)(o.clef)),c.default.find(t.items,O.isKey)||a.push((0,A.clone)(o.key)),c.default.find(t.items,O.isTimeSignature)||a.push((0,A.clone)(o.timeSig))}else r[i]=(0,S.createLineTimeContext)(n,e[i])})}else{var o=c.default.map(e,c.default.partial(S.createLineTimeContext,n));t.push(o)}},h,f,l);var d=c.default.reduce(t.systems,function(t,e,n){return c.default.contains(o,e.page)?(0,A.concat)(t,[e,h[n],n]):t},[]);L=c.default.reduce(d,function(e,n){var i=u(n,3),a=i[0],s=i[1],l=i[2],f=N[l]+a.measures,h=c.default.slice(E,N[l],f),d=g.default.renderTimeContexts(a,t.lines,h,r,s,t.length),p=c.default.contains(o,a.page-1)?t.systemHeights[l]+c.default.indexOf(o,a.page)*t.pageHeight:t.systemHeights[l];return d.translate(0,p),(0,A.set)(e,l,d)},[]),j.addChildren(L),(0,S.renderDecorations)(j,r)}return t&&(I.score=t),N&&(I.startMeasures=N),L&&(I.systemGroups=L),r&&(I.voices=r),j}function a(t,e){var n=c.default.groupBy(t,function(t){return t.name}),r=c.default.groupBy(e,function(t){return t.name}),i=n.length>r.length?n:r,o=[];for(var a in i){if(!n[a]||!r[a])return T;o=o.concat(k.voices(n[a][0],r[a][0]))}return c.default.uniq(c.default.sortBy(o))}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=o;var s=n(0),c=i(s),l=n(20),f=(i(l),n(13)),h=(i(f),n(29)),d=(i(h),n(16)),p=(i(d),n(19)),g=i(p),v=n(17),_=(i(v),n(18)),m=(i(_),n(10)),y=(i(m),n(28)),w=(i(y),n(31)),b=(i(w),n(27)),x=(i(b),n(26)),S=(i(x),n(30)),C=(i(S),n(1)),A=(i(C),n(3)),M=(n(9),n(25),n(12),n(6)),P=n(69),k=r(P),O=(n(42),n(4)),T="RENDERALL",I={score:{},startMeasures:[],voices:[],systemGroups:[]},j=void 0,E=void 0,N=void 0,L=void 0},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,a,u,s=t.length;a=r(t),u=new f(3*s/4-a),i=a>0?s-4:s;var c=0;for(e=0,n=0;e<i;e+=4,n+=3)o=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],u[c++]=o>>16&255,u[c++]=o>>8&255,u[c++]=255&o;return 2===a?(o=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,u[c++]=255&o):1===a&&(o=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,u[c++]=o>>8&255,u[c++]=255&o),u}function a(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function u(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(a(r));return i.join("")}function s(t){for(var e,n=t.length,r=n%3,i="",o=[],a=16383,s=0,l=n-r;s<l;s+=a)o.push(u(t,s,s+a>l?l:s+a));return 1===r?(e=t[n-1],i+=c[e>>2],i+=c[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=c[e>>10],i+=c[e>>4&63],i+=c[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=s;for(var c=[],l=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)c[d]=h[d],l[h.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e,n){"use strict";(function(t){function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"==typeof e?f(t,e,n):p(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return s(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function l(t,e){if(s(e),t=o(t,e<0?0:0|g(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(e,n);t=o(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function h(t,e){var n=e.length<0?0:0|g(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=h(t,e),t}function p(t,e){if(a.isBuffer(e)){var n=0|g(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?o(t,0):h(t,e);if("Buffer"===e.type&&Q(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),a.alloc(+t)}function _(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return $(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return j(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,u=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<u;c++)if(o(t,c)===o(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===s)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+s>u&&(n=u-s),c=n;c>=0;c--){for(var f=!0,h=0;h<s;h++)if(o(t,c+h)!==o(e,h)){f=!1;break}if(f)return c}return-1}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[n+a]=u}return a}function S(t,e,n,r){return Z($(e,t.length-n),t,n,r)}function C(t,e,n,r){return Z(H(e),t,n,r)}function A(t,e,n,r){return C(t,e,n,r)}function M(t,e,n,r){return Z(Y(e),t,n,r)}function P(t,e,n,r){return Z(G(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=n){var s,c,l,f;switch(u){case 1:o<128&&(a=o);break;case 2:s=t[i+1],128==(192&s)&&(f=(31&o)<<6|63&s)>127&&(a=f);break;case 3:s=t[i+1],c=t[i+2],128==(192&s)&&128==(192&c)&&(f=(15&o)<<12|(63&s)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:s=t[i+1],c=t[i+2],l=t[i+3],128==(192&s)&&128==(192&c)&&128==(192&l)&&(f=(15&o)<<18|(63&s)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,u=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=u}return T(r)}function T(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function E(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=W(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function z(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,i){return i||D(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,i){return i||D(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,n,r,52,8),n+8}function q(t){if(t=V(t).replace(et,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function G(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Y(t){return J.toByteArray(q(t))}function Z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var J=n(73),X=n(81),Q=n(75);e.Buffer=a,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=i(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return u(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return c(null,t,e,n)},a.allocUnsafe=function(t){return l(null,t)},a.allocUnsafeSlow=function(t){return l(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=_,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):m.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,u=n-e,s=Math.min(o,u),c=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],u=l[f];break}return o<u?-1:u<o?1:0},a.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},a.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return M(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;a.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=a.prototype;else{var i=e-t;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),X.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),X.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),X.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),X.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){z(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){z(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);z(this,t,e,n,i-1,-i)}var o=0,a=1,u=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);z(this,t,e,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var u=a.isBuffer(t)?t:$(new a(t,r).toString()),s=u.length;for(o=0;o<n-e;++o)this[o+e]=u[o%s]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(22))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){e=t.exports=n(32)(void 0),e.push([t.i,"@font-face {\n\tfont-family: 'gonville';\n\tsrc: url("+n(80)+") format('truetype');\n}\n\n@font-face {\n\tfont-family: 'gonvillealpha';\n\tsrc: url("+n(79)+") format('truetype');\n}\n\np {\n\tfont-family: 'gonville';\n\tfont-size: 2em;\n}",""])},function(t,e,n){e=t.exports=n(32)(void 0),e.i(n(78),""),e.i(n(76),""),e.push([t.i,".layout-code {\n\tborder: 1px solid #000;\n}\n\n.border {\n  border: 1px solid #000;\n}\n\n.float-right {\n  float: right;\n}\n\n.display-none {\n\tdisplay: none;\n}\n\n/* Header bar */\n.header {\n  /*position: fixed;*/\n  background-color: #3E2723;\n  color: #FFF;\n  width: 100%;\n  padding: 10px 0px 10px 0px;\n}\n\n.palate-wrapper {\n\twidth: 50%;\n\t/*height: 300px;*/\n}\n\n.mirror-height {\n\theight: 300px;\n}\n\n.output-structure {\n\twidth: 100%;\n\theight: 50%;\n}\n\n.palate-wrapper-left {\n  /*position: relative;*/\n  left: -45%;\n  top: 0px;\n  width: 50%;\n  height: 100%;\n}\n\n.palate-wrapper-right {\n  /*position: relative;*/\n  /*top: 0px;*/\n  right: -45%;\n  width: 50%;\n}\n\n.mrs {\n\tmargin-right: 10px;\n}\n\n.mrm {\n\tmargin-right: 20px;\n}\n\n.mls {\n\tmargin-left: 10px;\n}\n\n.mlm {\n\tmargin-left: 20px;\n}\n",""])},function(t,e,n){e=t.exports=n(32)(void 0),e.push([t.i,"/*\n * Material Brown theme\n *  50 - #EFEBE9\n * 100 - #D7CCC8\n * 200 - #BCAAA4\n * 300 - #A1887F\n * 400 - #8D6E63\n * 500 - #795548\n * 600 - #6D4C41\n * 700 - 5D4037\n * 800 - #4E342E\n * 900 - #3E2723\n */\n\nbody {\n  padding: 0px;\n  margin: 0px;\n}\n\ncanvas.full-screen {\n  width: 100%;\n  height: 100%;\n}\n\n.sheet {\n  position: relative;\n  width: 902px;\n  height: 1167px;\n  border: 1px solid #000;\n  top: 50px;\n  left: 150px;\n}\n\n.parnassus {\n  position: relative;\n  width: 1425px;\n  height: 1167px;\n  border: 1px solid #000;\n  top: 50px;\n  left: 10px;\n}\n\n.flex-container {\n  display: flex;\n}\n\n.toolbar-container {\n  display: block;\n  width: 100%;\n  height: 45px;\n}\n",""])},function(t,e,n){t.exports=n.p+"f355a7f741c8a24b89427af9c66833ec.ttf"},function(t,e,n){t.exports=n.p+"9d6e1d89ae14f398f2058d0b765a0033.ttf"},function(t,e){e.read=function(t,e,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=u;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,u,s,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+f>=1?h/s:h*Math.pow(2,1-f),e*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*s-1)*Math.pow(2,i),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&u,d+=p,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*g}},function(t,e,n){(function(t,r){var i;(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function u(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function c(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function f(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function d(t,e){return!!(null==t?0:t.length)&&C(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function g(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function v(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function _(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function y(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function w(t){return t.split("")}function b(t){return t.match(Ve)||[]}function x(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function S(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function C(t,e,n){return e===e?J(t,e,n):S(t,M,n)}function A(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function M(t){return t!==t}function P(t,e){var n=null==t?0:t.length;return n?j(t,e)/n:Rt}function k(t){return function(e){return null==e?it:e[t]}}function O(t){return function(e){return null==t?it:t[e]}}function T(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function I(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function j(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==it&&(n=n===it?o:n+o)}return n}function E(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function N(t,e){return g(e,function(e){return[e,t[e]]})}function L(t){return function(e){return t(e)}}function z(t,e){return g(e,function(e){return t[e]})}function R(t,e){return t.has(e)}function B(t,e){for(var n=-1,r=t.length;++n<r&&C(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length;n--&&C(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function U(t){return"\\"+nr[t]}function q(t,e){return null==t?it:t[e]}function V(t){return Gn.test(t)}function W(t){return Yn.test(t)}function $(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t,e){return function(n){return t(e(n))}}function Y(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ft||(t[n]=ft,o[i++]=n)}return o}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function J(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function X(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Q(t){return V(t)?et(t):yr(t)}function tt(t){return V(t)?nt(t):w(t)}function et(t){for(var e=$n.lastIndex=0;$n.test(t);)++e;return e}function nt(t){return t.match($n)||[]}function rt(t){return t.match(Hn)||[]}var it,ot="4.17.4",at=200,ut="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",ct="__lodash_hash_undefined__",lt=500,ft="__lodash_placeholder__",ht=1,dt=2,pt=4,gt=1,vt=2,_t=1,mt=2,yt=4,wt=8,bt=16,xt=32,St=64,Ct=128,At=256,Mt=512,Pt=30,kt="...",Ot=800,Tt=16,It=1,jt=2,Et=3,Nt=1/0,Lt=9007199254740991,zt=1.7976931348623157e308,Rt=NaN,Bt=4294967295,Dt=Bt-1,Ft=Bt>>>1,Ut=[["ary",Ct],["bind",_t],["bindKey",mt],["curry",wt],["curryRight",bt],["flip",Mt],["partial",xt],["partialRight",St],["rearg",At]],qt="[object Arguments]",Vt="[object Array]",Wt="[object AsyncFunction]",$t="[object Boolean]",Ht="[object Date]",Gt="[object DOMException]",Yt="[object Error]",Zt="[object Function]",Kt="[object GeneratorFunction]",Jt="[object Map]",Xt="[object Number]",Qt="[object Null]",te="[object Object]",ee="[object Promise]",ne="[object Proxy]",re="[object RegExp]",ie="[object Set]",oe="[object String]",ae="[object Symbol]",ue="[object Undefined]",se="[object WeakMap]",ce="[object WeakSet]",le="[object ArrayBuffer]",fe="[object DataView]",he="[object Float32Array]",de="[object Float64Array]",pe="[object Int8Array]",ge="[object Int16Array]",ve="[object Int32Array]",_e="[object Uint8Array]",me="[object Uint8ClampedArray]",ye="[object Uint16Array]",we="[object Uint32Array]",be=/\b__p \+= '';/g,xe=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,Ae=/[&<>"']/g,Me=RegExp(Ce.source),Pe=RegExp(Ae.source),ke=/<%-([\s\S]+?)%>/g,Oe=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,je=/^\w*$/,Ee=/^\./,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/[\\^$.*+?()[\]{}|]/g,ze=RegExp(Le.source),Re=/^\s+|\s+$/g,Be=/^\s+/,De=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,qe=/,? & /,Ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,We=/\\(\\)?/g,$e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,He=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,Ze=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Je=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,en="\\ud800-\\udfff",nn="\\u0300-\\u036f",rn="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",an=nn+rn+on,un="\\u2700-\\u27bf",sn="a-z\\xdf-\\xf6\\xf8-\\xff",cn="\\xac\\xb1\\xd7\\xf7",ln="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fn="\\u2000-\\u206f",hn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dn="A-Z\\xc0-\\xd6\\xd8-\\xde",pn="\\ufe0e\\ufe0f",gn=cn+ln+fn+hn,vn="['’]",_n="["+en+"]",mn="["+gn+"]",yn="["+an+"]",wn="\\d+",bn="["+un+"]",xn="["+sn+"]",Sn="[^"+en+gn+wn+un+sn+dn+"]",Cn="\\ud83c[\\udffb-\\udfff]",An="(?:"+yn+"|"+Cn+")",Mn="[^"+en+"]",Pn="(?:\\ud83c[\\udde6-\\uddff]){2}",kn="[\\ud800-\\udbff][\\udc00-\\udfff]",On="["+dn+"]",Tn="\\u200d",In="(?:"+xn+"|"+Sn+")",jn="(?:"+On+"|"+Sn+")",En="(?:"+vn+"(?:d|ll|m|re|s|t|ve))?",Nn="(?:"+vn+"(?:D|LL|M|RE|S|T|VE))?",Ln=An+"?",zn="["+pn+"]?",Rn="(?:"+Tn+"(?:"+[Mn,Pn,kn].join("|")+")"+zn+Ln+")*",Bn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Dn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Fn=zn+Ln+Rn,Un="(?:"+[bn,Pn,kn].join("|")+")"+Fn,qn="(?:"+[Mn+yn+"?",yn,Pn,kn,_n].join("|")+")",Vn=RegExp(vn,"g"),Wn=RegExp(yn,"g"),$n=RegExp(Cn+"(?="+Cn+")|"+qn+Fn,"g"),Hn=RegExp([On+"?"+xn+"+"+En+"(?="+[mn,On,"$"].join("|")+")",jn+"+"+Nn+"(?="+[mn,On+In,"$"].join("|")+")",On+"?"+In+"+"+En,On+"+"+Nn,Dn,Bn,wn,Un].join("|"),"g"),Gn=RegExp("["+Tn+en+an+pn+"]"),Yn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kn=-1,Jn={};Jn[he]=Jn[de]=Jn[pe]=Jn[ge]=Jn[ve]=Jn[_e]=Jn[me]=Jn[ye]=Jn[we]=!0,Jn[qt]=Jn[Vt]=Jn[le]=Jn[$t]=Jn[fe]=Jn[Ht]=Jn[Yt]=Jn[Zt]=Jn[Jt]=Jn[Xt]=Jn[te]=Jn[re]=Jn[ie]=Jn[oe]=Jn[se]=!1;var Xn={};Xn[qt]=Xn[Vt]=Xn[le]=Xn[fe]=Xn[$t]=Xn[Ht]=Xn[he]=Xn[de]=Xn[pe]=Xn[ge]=Xn[ve]=Xn[Jt]=Xn[Xt]=Xn[te]=Xn[re]=Xn[ie]=Xn[oe]=Xn[ae]=Xn[_e]=Xn[me]=Xn[ye]=Xn[we]=!0,Xn[Yt]=Xn[Zt]=Xn[se]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},er={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rr=parseFloat,ir=parseInt,or="object"==typeof t&&t&&t.Object===Object&&t,ar="object"==typeof self&&self&&self.Object===Object&&self,ur=or||ar||Function("return this")(),sr="object"==typeof e&&e&&!e.nodeType&&e,cr=sr&&"object"==typeof r&&r&&!r.nodeType&&r,lr=cr&&cr.exports===sr,fr=lr&&or.process,hr=function(){try{return fr&&fr.binding&&fr.binding("util")}catch(t){}}(),dr=hr&&hr.isArrayBuffer,pr=hr&&hr.isDate,gr=hr&&hr.isMap,vr=hr&&hr.isRegExp,_r=hr&&hr.isSet,mr=hr&&hr.isTypedArray,yr=k("length"),wr=O(Qn),br=O(tr),xr=O(er),Sr=function t(e){function n(t){if(cs(t)&&!bh(t)&&!(t instanceof w)){if(t instanceof i)return t;if(wl.call(t,"__wrapped__"))return aa(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function w(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bt,this.__views__=[]}function O(){var t=new w(this.__wrapped__);return t.__actions__=Fi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fi(this.__views__),t}function J(){if(this.__filtered__){var t=new w(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=bh(t),r=e<0,i=n?t.length:0,o=To(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=Kl(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return bi(t,this.__actions__);var p=[];t:for(;s--&&h<d;){c+=e;for(var g=-1,v=t[c];++g<f;){var _=l[g],m=_.iteratee,y=_.type,w=m(v);if(y==jt)v=w;else if(!w){if(y==It)continue t;break t}}p[h++]=v}return p}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ve(){this.__data__=uf?uf(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nn(t){var e=this.__data__;if(uf){var n=e[t];return n===ct?it:n}return wl.call(e,t)?e[t]:it}function rn(t){var e=this.__data__;return uf?e[t]!==it:wl.call(e,t)}function on(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=uf&&e===it?ct:e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function un(){this.__data__=[],this.size=0}function sn(t){var e=this.__data__,n=En(e,t);return!(n<0)&&(n==e.length-1?e.pop():Nl.call(e,n,1),--this.size,!0)}function cn(t){var e=this.__data__,n=En(e,t);return n<0?it:e[n][1]}function ln(t){return En(this.__data__,t)>-1}function fn(t,e){var n=this.__data__,r=En(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function dn(){this.size=0,this.__data__={hash:new nt,map:new(nf||an),string:new nt}}function pn(t){var e=Mo(this,t).delete(t);return this.size-=e?1:0,e}function gn(t){return Mo(this,t).get(t)}function vn(t){return Mo(this,t).has(t)}function _n(t,e){var n=Mo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new hn;++e<n;)this.add(t[e])}function yn(t){return this.__data__.set(t,ct),this}function wn(t){return this.__data__.has(t)}function bn(t){var e=this.__data__=new an(t);this.size=e.size}function xn(){this.__data__=new an,this.size=0}function Sn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Cn(t){return this.__data__.get(t)}function An(t){return this.__data__.has(t)}function Mn(t,e){var n=this.__data__;if(n instanceof an){var r=n.__data__;if(!nf||r.length<at-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hn(r)}return n.set(t,e),this.size=n.size,this}function Pn(t,e){var n=bh(t),r=!n&&wh(t),i=!n&&!r&&Sh(t),o=!n&&!r&&!i&&kh(t),a=n||r||i||o,u=a?E(t.length,dl):[],s=u.length;for(var c in t)!e&&!wl.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Bo(c,s))||u.push(c);return u}function kn(t){var e=t.length;return e?t[ni(0,e-1)]:it}function On(t,e){return na(Fi(t),Dn(e,0,t.length))}function Tn(t){return na(Fi(t))}function In(t,e,n){(n===it||Zu(t[e],n))&&(n!==it||e in t)||Rn(t,e,n)}function jn(t,e,n){var r=t[e];wl.call(t,e)&&Zu(r,n)&&(n!==it||e in t)||Rn(t,e,n)}function En(t,e){for(var n=t.length;n--;)if(Zu(t[n][0],e))return n;return-1}function Nn(t,e,n,r){return yf(t,function(t,i,o){e(r,t,n(t),o)}),r}function Ln(t,e){return t&&Ui(e,Ws(e),t)}function zn(t,e){return t&&Ui(e,$s(e),t)}function Rn(t,e,n){"__proto__"==e&&Bl?Bl(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Bn(t,e){for(var n=-1,r=e.length,i=al(r),o=null==t;++n<r;)i[n]=o?it:Us(t,e[n]);return i}function Dn(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function Fn(t,e,n,r,i,o){var a,u=e&ht,s=e&dt,l=e&pt;if(n&&(a=i?n(t,r,i,o):n(t)),a!==it)return a;if(!ss(t))return t;var f=bh(t);if(f){if(a=Eo(t),!u)return Fi(t,a)}else{var h=If(t),d=h==Zt||h==Kt;if(Sh(t))return ki(t,u);if(h==te||h==qt||d&&!i){if(a=s||d?{}:No(t),!u)return s?Vi(t,zn(a,t)):qi(t,Ln(a,t))}else{if(!Xn[h])return i?t:{};a=Lo(t,h,Fn,u)}}o||(o=new bn);var p=o.get(t);if(p)return p;o.set(t,a);var g=l?s?xo:bo:s?$s:Ws,v=f?it:g(t);return c(v||t,function(r,i){v&&(i=r,r=t[i]),jn(a,i,Fn(r,e,n,i,t,o))}),a}function Un(t){var e=Ws(t);return function(n){return qn(n,t,e)}}function qn(t,e,n){var r=n.length;if(null==t)return!r;for(t=fl(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===it&&!(i in t)||!o(a))return!1}return!0}function $n(t,e,n){if("function"!=typeof t)throw new pl(st);return Nf(function(){t.apply(it,n)},e)}function Hn(t,e,n,r){var i=-1,o=d,a=!0,u=t.length,s=[],c=e.length;if(!u)return s;n&&(e=g(e,L(n))),r?(o=p,a=!1):e.length>=at&&(o=R,a=!1,e=new mn(e));t:for(;++i<u;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var h=c;h--;)if(e[h]===f)continue t;s.push(l)}else o(e,f,r)||s.push(l)}return s}function Gn(t,e){var n=!0;return yf(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Yn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(u===it?a===a&&!ws(a):n(a,u)))var u=a,s=o}return s}function Qn(t,e,n,r){var i=t.length;for(n=Ms(n),n<0&&(n=-n>i?0:i+n),r=r===it||r>i?i:Ms(r),r<0&&(r+=i),r=n>r?0:Ps(r);n<r;)t[n++]=e;return t}function tr(t,e){var n=[];return yf(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function er(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ro),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?er(u,e-1,n,r,i):v(i,u):r||(i[i.length]=u)}return i}function nr(t,e){return t&&bf(t,e,Ws)}function or(t,e){return t&&xf(t,e,Ws)}function ar(t,e){return h(e,function(e){return os(t[e])})}function sr(t,e){e=Mi(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[ra(e[n++])];return n&&n==r?t:it}function cr(t,e,n){var r=e(t);return bh(t)?r:v(r,n(t))}function fr(t){return null==t?t===it?ue:Qt:Rl&&Rl in fl(t)?Oo(t):Ko(t)}function hr(t,e){return t>e}function yr(t,e){return null!=t&&wl.call(t,e)}function Sr(t,e){return null!=t&&e in fl(t)}function Ar(t,e,n){return t>=Kl(e,n)&&t<Zl(e,n)}function Mr(t,e,n){for(var r=n?p:d,i=t[0].length,o=t.length,a=o,u=al(o),s=1/0,c=[];a--;){var l=t[a];a&&e&&(l=g(l,L(e))),s=Kl(l.length,s),u[a]=!n&&(e||i>=120&&l.length>=120)?new mn(a&&l):it}l=t[0];var f=-1,h=u[0];t:for(;++f<i&&c.length<s;){var v=l[f],_=e?e(v):v;if(v=n||0!==v?v:0,!(h?R(h,_):r(c,_,n))){for(a=o;--a;){var m=u[a];if(!(m?R(m,_):r(t[a],_,n)))continue t}h&&h.push(_),c.push(v)}}return c}function Pr(t,e,n,r){return nr(t,function(t,i,o){e(r,n(t),i,o)}),r}function kr(t,e,n){e=Mi(e,t),t=Xo(t,e);var r=null==t?t:t[ra(Aa(e))];return null==r?it:u(r,t,n)}function Or(t){return cs(t)&&fr(t)==qt}function Tr(t){return cs(t)&&fr(t)==le}function Ir(t){return cs(t)&&fr(t)==Ht}function jr(t,e,n,r,i){return t===e||(null==t||null==e||!cs(t)&&!cs(e)?t!==t&&e!==e:Er(t,e,n,r,jr,i))}function Er(t,e,n,r,i,o){var a=bh(t),u=bh(e),s=a?Vt:If(t),c=u?Vt:If(e);s=s==qt?te:s,c=c==qt?te:c;var l=s==te,f=c==te,h=s==c;if(h&&Sh(t)){if(!Sh(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new bn),a||kh(t)?_o(t,e,n,r,i,o):mo(t,e,s,n,r,i,o);if(!(n&gt)){var d=l&&wl.call(t,"__wrapped__"),p=f&&wl.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?e.value():e;return o||(o=new bn),i(g,v,n,r,o)}}return!!h&&(o||(o=new bn),yo(t,e,n,r,i,o))}function Nr(t){return cs(t)&&If(t)==Jt}function Lr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=fl(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){u=n[i];var s=u[0],c=t[s],l=u[1];if(a&&u[2]){if(c===it&&!(s in t))return!1}else{var f=new bn;if(r)var h=r(c,l,s,t,e,f);if(!(h===it?jr(l,c,gt|vt,r,f):h))return!1}}return!0}function zr(t){return!(!ss(t)||Vo(t))&&(os(t)?Ml:Ze).test(ia(t))}function Rr(t){return cs(t)&&fr(t)==re}function Br(t){return cs(t)&&If(t)==ie}function Dr(t){return cs(t)&&us(t.length)&&!!Jn[fr(t)]}function Fr(t){return"function"==typeof t?t:null==t?Nc:"object"==typeof t?bh(t)?Hr(t[0],t[1]):$r(t):qc(t)}function Ur(t){if(!Wo(t))return Yl(t);var e=[];for(var n in fl(t))wl.call(t,n)&&"constructor"!=n&&e.push(n);return e}function qr(t){if(!ss(t))return Zo(t);var e=Wo(t),n=[];for(var r in t)("constructor"!=r||!e&&wl.call(t,r))&&n.push(r);return n}function Vr(t,e){return t<e}function Wr(t,e){var n=-1,r=Ku(t)?al(t.length):[];return yf(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function $r(t){var e=Po(t);return 1==e.length&&e[0][2]?Ho(e[0][0],e[0][1]):function(n){return n===t||Lr(n,t,e)}}function Hr(t,e){return Fo(t)&&$o(e)?Ho(ra(t),e):function(n){var r=Us(n,t);return r===it&&r===e?Vs(n,t):jr(e,r,gt|vt)}}function Gr(t,e,n,r,i){t!==e&&bf(e,function(o,a){if(ss(o))i||(i=new bn),Yr(t,e,a,n,Gr,r,i);else{var u=r?r(t[a],o,a+"",t,e,i):it;u===it&&(u=o),In(t,a,u)}},$s)}function Yr(t,e,n,r,i,o,a){var u=t[n],s=e[n],c=a.get(s);if(c)return void In(t,n,c);var l=o?o(u,s,n+"",t,e,a):it,f=l===it;if(f){var h=bh(s),d=!h&&Sh(s),p=!h&&!d&&kh(s);l=s,h||d||p?bh(u)?l=u:Ju(u)?l=Fi(u):d?(f=!1,l=ki(s,!0)):p?(f=!1,l=Li(s,!0)):l=[]:_s(s)||wh(s)?(l=u,wh(u)?l=Os(u):(!ss(u)||r&&os(u))&&(l=No(s))):f=!1}f&&(a.set(s,l),i(l,s,r,o,a),a.delete(s)),In(t,n,l)}function Zr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Bo(e,n)?t[e]:it}function Kr(t,e,n){var r=-1;return e=g(e.length?e:[Nc],L(Ao())),I(Wr(t,function(t,n,i){return{criteria:g(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Ri(t,e,n)})}function Jr(t,e){return Xr(t,e,function(e,n){return Vs(t,n)})}function Xr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=sr(t,a);n(u,a)&&si(o,Mi(a,t),u)}return o}function Qr(t){return function(e){return sr(e,t)}}function ti(t,e,n,r){var i=r?A:C,o=-1,a=e.length,u=t;for(t===e&&(e=Fi(e)),n&&(u=g(t,L(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==t&&Nl.call(u,s,1),Nl.call(t,s,1);return t}function ei(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Bo(i)?Nl.call(t,i,1):mi(t,i)}}return t}function ni(t,e){return t+Vl(Ql()*(e-t+1))}function ri(t,e,n,r){for(var i=-1,o=Zl(ql((e-t)/(n||1)),0),a=al(o);o--;)a[r?o:++i]=t,t+=n;return a}function ii(t,e){var n="";if(!t||e<1||e>Lt)return n;do{e%2&&(n+=t),(e=Vl(e/2))&&(t+=t)}while(e);return n}function oi(t,e){return Lf(Jo(t,e,Nc),t+"")}function ai(t){return kn(rc(t))}function ui(t,e){var n=rc(t);return na(n,Dn(e,0,n.length))}function si(t,e,n,r){if(!ss(t))return t;e=Mi(e,t);for(var i=-1,o=e.length,a=o-1,u=t;null!=u&&++i<o;){var s=ra(e[i]),c=n;if(i!=a){var l=u[s];c=r?r(l,s,u):it,c===it&&(c=ss(l)?l:Bo(e[i+1])?[]:{})}jn(u,s,c),u=u[s]}return t}function ci(t){return na(rc(t))}function li(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=al(i);++r<i;)o[r]=t[r+e];return o}function fi(t,e){var n;return yf(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function hi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Ft){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!ws(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return di(t,e,Nc,n)}function di(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,u=null===e,s=ws(e),c=e===it;i<o;){var l=Vl((i+o)/2),f=n(t[l]),h=f!==it,d=null===f,p=f===f,g=ws(f);if(a)var v=r||p;else v=c?p&&(r||h):u?p&&h&&(r||!d):s?p&&h&&!d&&(r||!g):!d&&!g&&(r?f<=e:f<e);v?i=l+1:o=l}return Kl(o,Dt)}function pi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Zu(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function gi(t){return"number"==typeof t?t:ws(t)?Rt:+t}function vi(t){if("string"==typeof t)return t;if(bh(t))return g(t,vi)+"";if(ws(t))return _f?_f.call(t):"";var e=t+"";return"0"==e&&1/t==-Nt?"-0":e}function _i(t,e,n){var r=-1,i=d,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=p;else if(o>=at){var c=e?null:Pf(t);if(c)return Z(c);a=!1,i=R,s=new mn}else s=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function mi(t,e){return e=Mi(e,t),null==(t=Xo(t,e))||delete t[ra(Aa(e))]}function yi(t,e,n,r){return si(t,e,n(sr(t,e)),r)}function wi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?li(t,r?0:o,r?o+1:i):li(t,r?o+1:0,r?i:o)}function bi(t,e){var n=t;return n instanceof w&&(n=n.value()),_(e,function(t,e){return e.func.apply(e.thisArg,v([t],e.args))},n)}function xi(t,e,n){var r=t.length;if(r<2)return r?_i(t[0]):[];for(var i=-1,o=al(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=Hn(o[i]||a,t[u],e,n));return _i(er(o,1),e,n)}function Si(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:it;n(a,t[r],u)}return a}function Ci(t){return Ju(t)?t:[]}function Ai(t){return"function"==typeof t?t:Nc}function Mi(t,e){return bh(t)?t:Fo(t,e)?[t]:zf(Is(t))}function Pi(t,e,n){var r=t.length;return n=n===it?r:n,!e&&n>=r?t:li(t,e,n)}function ki(t,e){if(e)return t.slice();var n=t.length,r=Tl?Tl(n):new t.constructor(n);return t.copy(r),r}function Oi(t){var e=new t.constructor(t.byteLength);return new Ol(e).set(new Ol(t)),e}function Ti(t,e){var n=e?Oi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ii(t,e,n){return _(e?n(H(t),ht):H(t),o,new t.constructor)}function ji(t){var e=new t.constructor(t.source,He.exec(t));return e.lastIndex=t.lastIndex,e}function Ei(t,e,n){return _(e?n(Z(t),ht):Z(t),a,new t.constructor)}function Ni(t){return vf?fl(vf.call(t)):{}}function Li(t,e){var n=e?Oi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function zi(t,e){if(t!==e){var n=t!==it,r=null===t,i=t===t,o=ws(t),a=e!==it,u=null===e,s=e===e,c=ws(e);if(!u&&!c&&!o&&t>e||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function Ri(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var s=zi(i[r],o[r]);if(s){if(r>=u)return s;return s*("desc"==n[r]?-1:1)}}return t.index-e.index}function Bi(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,s=e.length,c=Zl(o-a,0),l=al(s+c),f=!r;++u<s;)l[u]=e[u];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[u++]=t[i++];return l}function Di(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,s=-1,c=e.length,l=Zl(o-u,0),f=al(l+c),h=!r;++i<l;)f[i]=t[i];for(var d=i;++s<c;)f[d+s]=e[s];for(;++a<u;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function Fi(t,e){var n=-1,r=t.length;for(e||(e=al(r));++n<r;)e[n]=t[n];return e}function Ui(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):it;s===it&&(s=t[u]),i?Rn(n,u,s):jn(n,u,s)}return n}function qi(t,e){return Ui(t,Of(t),e)}function Vi(t,e){return Ui(t,Tf(t),e)}function Wi(t,e){return function(n,r){var i=bh(n)?s:Nn,o=e?e():{};return i(n,t,Ao(r,2),o)}}function $i(t){return oi(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:it,a=i>2?n[2]:it;for(o=t.length>3&&"function"==typeof o?(i--,o):it,a&&Do(n[0],n[1],a)&&(o=i<3?it:o,i=1),e=fl(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e})}function Hi(t,e){return function(n,r){if(null==n)return n;if(!Ku(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=fl(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Gi(t){return function(e,n,r){for(var i=-1,o=fl(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(n(o[s],s,o)===!1)break}return e}}function Yi(t,e,n){function r(){return(this&&this!==ur&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&_t,o=Ji(t);return r}function Zi(t){return function(e){e=Is(e);var n=V(e)?tt(e):it,r=n?n[0]:e.charAt(0),i=n?Pi(n,1).join(""):e.slice(1);return r[t]()+i}}function Ki(t){return function(e){return _(Oc(cc(e).replace(Vn,"")),t,"")}}function Ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=mf(t.prototype),r=t.apply(n,e);return ss(r)?r:n}}function Xi(t,e,n){function r(){for(var o=arguments.length,a=al(o),s=o,c=Co(r);s--;)a[s]=arguments[s];var l=o<3&&a[0]!==c&&a[o-1]!==c?[]:Y(a,c);return(o-=l.length)<n?co(t,e,eo,r.placeholder,it,a,l,it,it,n-o):u(this&&this!==ur&&this instanceof r?i:t,this,a)}var i=Ji(t);return r}function Qi(t){return function(e,n,r){var i=fl(e);if(!Ku(e)){var o=Ao(n,3);e=Ws(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:it}}function to(t){return wo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new pl(st);if(o&&!u&&"wrapper"==So(a))var u=new i([],!0)}for(r=u?r:n;++r<n;){a=e[r];var s=So(a),c="wrapper"==s?kf(a):it;u=c&&qo(c[0])&&c[1]==(Ct|wt|xt|At)&&!c[4].length&&1==c[9]?u[So(c[0])].apply(u,c[3]):1==a.length&&qo(a)?u[s]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&bh(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function eo(t,e,n,r,i,o,a,u,s,c){function l(){for(var _=arguments.length,m=al(_),y=_;y--;)m[y]=arguments[y];if(p)var w=Co(l),b=F(m,w);if(r&&(m=Bi(m,r,i,p)),o&&(m=Di(m,o,a,p)),_-=b,p&&_<c){var x=Y(m,w);return co(t,e,eo,l.placeholder,n,m,x,u,s,c-_)}var S=h?n:this,C=d?S[t]:t;return _=m.length,u?m=Qo(m,u):g&&_>1&&m.reverse(),f&&s<_&&(m.length=s),this&&this!==ur&&this instanceof l&&(C=v||Ji(C)),C.apply(S,m)}var f=e&Ct,h=e&_t,d=e&mt,p=e&(wt|bt),g=e&Mt,v=d?it:Ji(t);return l}function no(t,e){return function(n,r){return Pr(n,t,e(r),{})}}function ro(t,e){return function(n,r){var i;if(n===it&&r===it)return e;if(n!==it&&(i=n),r!==it){if(i===it)return r;"string"==typeof n||"string"==typeof r?(n=vi(n),r=vi(r)):(n=gi(n),r=gi(r)),i=t(n,r)}return i}}function io(t){return wo(function(e){return e=g(e,L(Ao())),oi(function(n){var r=this;return t(e,function(t){return u(t,r,n)})})})}function oo(t,e){e=e===it?" ":vi(e);var n=e.length;if(n<2)return n?ii(e,t):e;var r=ii(e,ql(t/Q(e)));return V(e)?Pi(tt(r),0,t).join(""):r.slice(0,t)}function ao(t,e,n,r){function i(){for(var e=-1,s=arguments.length,c=-1,l=r.length,f=al(l+s),h=this&&this!==ur&&this instanceof i?a:t;++c<l;)f[c]=r[c];for(;s--;)f[c++]=arguments[++e];return u(h,o?n:this,f)}var o=e&_t,a=Ji(t);return i}function uo(t){return function(e,n,r){return r&&"number"!=typeof r&&Do(e,n,r)&&(n=r=it),e=As(e),n===it?(n=e,e=0):n=As(n),r=r===it?e<n?1:-1:As(r),ri(e,n,r,t)}}function so(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ks(e),n=ks(n)),t(e,n)}}function co(t,e,n,r,i,o,a,u,s,c){var l=e&wt,f=l?a:it,h=l?it:a,d=l?o:it,p=l?it:o;e|=l?xt:St,(e&=~(l?St:xt))&yt||(e&=~(_t|mt));var g=[t,e,i,d,f,p,h,u,s,c],v=n.apply(it,g);return qo(t)&&Ef(v,g),v.placeholder=r,ta(v,t,e)}function lo(t){var e=ll[t];return function(t,n){if(t=ks(t),n=null==n?0:Kl(Ms(n),292)){var r=(Is(t)+"e").split("e");return r=(Is(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function fo(t){return function(e){var n=If(e);return n==Jt?H(e):n==ie?K(e):N(e,t(e))}}function ho(t,e,n,r,i,o,a,u){var s=e&mt;if(!s&&"function"!=typeof t)throw new pl(st);var c=r?r.length:0;if(c||(e&=~(xt|St),r=i=it),a=a===it?a:Zl(Ms(a),0),u=u===it?u:Ms(u),c-=i?i.length:0,e&St){var l=r,f=i;r=i=it}var h=s?it:kf(t),d=[t,e,n,r,i,l,f,o,a,u];if(h&&Yo(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],u=d[9]=d[9]===it?s?0:t.length:Zl(d[9]-c,0),!u&&e&(wt|bt)&&(e&=~(wt|bt)),e&&e!=_t)p=e==wt||e==bt?Xi(t,e,u):e!=xt&&e!=(_t|xt)||i.length?eo.apply(it,d):ao(t,e,n,r);else var p=Yi(t,e,n);return ta((h?Sf:Ef)(p,d),t,e)}function po(t,e,n,r){return t===it||Zu(t,_l[n])&&!wl.call(r,n)?e:t}function go(t,e,n,r,i,o){return ss(t)&&ss(e)&&(o.set(e,t),Gr(t,e,it,go,o),o.delete(e)),t}function vo(t){return _s(t)?it:t}function _o(t,e,n,r,i,o){var a=n&gt,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=n&vt?new mn:it;for(o.set(t,e),o.set(e,t);++l<u;){var d=t[l],p=e[l];if(r)var g=a?r(p,d,l,e,t,o):r(d,p,l,t,e,o);if(g!==it){if(g)continue;f=!1;break}if(h){if(!y(e,function(t,e){if(!R(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function mo(t,e,n,r,i,o,a){switch(n){case fe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case le:return!(t.byteLength!=e.byteLength||!o(new Ol(t),new Ol(e)));case $t:case Ht:case Xt:return Zu(+t,+e);case Yt:return t.name==e.name&&t.message==e.message;case re:case oe:return t==e+"";case Jt:var u=H;case ie:var s=r&gt;if(u||(u=Z),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=vt,a.set(t,e);var l=_o(u(t),u(e),r,i,o,a);return a.delete(t),l;case ae:if(vf)return vf.call(t)==vf.call(e)}return!1}function yo(t,e,n,r,i,o){var a=n&gt,u=bo(t),s=u.length;if(s!=bo(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:wl.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<s;){l=u[c];var p=t[l],g=e[l];if(r)var v=a?r(g,p,l,e,t,o):r(p,g,l,t,e,o);if(!(v===it?p===g||i(p,g,n,r,o):v)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var _=t.constructor,m=e.constructor;_!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m)&&(h=!1)}return o.delete(t),o.delete(e),h}function wo(t){return Lf(Jo(t,it,_a),t+"")}function bo(t){return cr(t,Ws,Of)}function xo(t){return cr(t,$s,Tf)}function So(t){for(var e=t.name+"",n=cf[e],r=wl.call(cf,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Co(t){return(wl.call(n,"placeholder")?n:t).placeholder}function Ao(){var t=n.iteratee||Lc;return t=t===Lc?Fr:t,arguments.length?t(arguments[0],arguments[1]):t}function Mo(t,e){var n=t.__data__;return Uo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Po(t){for(var e=Ws(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$o(i)]}return e}function ko(t,e){var n=q(t,e);return zr(n)?n:it}function Oo(t){var e=wl.call(t,Rl),n=t[Rl];try{t[Rl]=it;var r=!0}catch(t){}var i=Sl.call(t);return r&&(e?t[Rl]=n:delete t[Rl]),i}function To(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Kl(e,t+a);break;case"takeRight":t=Zl(t,e-a)}}return{start:t,end:e}}function Io(t){var e=t.match(Ue);return e?e[1].split(qe):[]}function jo(t,e,n){e=Mi(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=ra(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&us(i)&&Bo(a,i)&&(bh(t)||wh(t))}function Eo(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&wl.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function No(t){return"function"!=typeof t.constructor||Wo(t)?{}:mf(Il(t))}function Lo(t,e,n,r){var i=t.constructor;switch(e){case le:return Oi(t);case $t:case Ht:return new i(+t);case fe:return Ti(t,r);case he:case de:case pe:case ge:case ve:case _e:case me:case ye:case we:return Li(t,r);case Jt:return Ii(t,r,n);case Xt:case oe:return new i(t);case re:return ji(t);case ie:return Ei(t,r,n);case ae:return Ni(t)}}function zo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Fe,"{\n/* [wrapped with "+e+"] */\n")}function Ro(t){return bh(t)||wh(t)||!!(Ll&&t&&t[Ll])}function Bo(t,e){return!!(e=null==e?Lt:e)&&("number"==typeof t||Je.test(t))&&t>-1&&t%1==0&&t<e}function Do(t,e,n){if(!ss(n))return!1;var r=typeof e;return!!("number"==r?Ku(n)&&Bo(e,n.length):"string"==r&&e in n)&&Zu(n[e],t)}function Fo(t,e){if(bh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ws(t))||(je.test(t)||!Ie.test(t)||null!=e&&t in fl(e))}function Uo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function qo(t){var e=So(t),r=n[e];if("function"!=typeof r||!(e in w.prototype))return!1;if(t===r)return!0;var i=kf(r);return!!i&&t===i[0]}function Vo(t){return!!xl&&xl in t}function Wo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||_l)}function $o(t){return t===t&&!ss(t)}function Ho(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in fl(n)))}}function Go(t){var e=Lu(t,function(t){return n.size===lt&&n.clear(),t}),n=e.cache;return e}function Yo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(_t|mt|Ct),a=r==Ct&&n==wt||r==Ct&&n==At&&t[7].length<=e[8]||r==(Ct|At)&&e[7].length<=e[8]&&n==wt;if(!o&&!a)return t;r&_t&&(t[2]=e[2],i|=n&_t?0:yt);var u=e[3];if(u){var s=t[3];t[3]=s?Bi(s,u,e[4]):u,t[4]=s?Y(t[3],ft):e[4]}return u=e[5],u&&(s=t[5],t[5]=s?Di(s,u,e[6]):u,t[6]=s?Y(t[5],ft):e[6]),u=e[7],u&&(t[7]=u),r&Ct&&(t[8]=null==t[8]?e[8]:Kl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Zo(t){var e=[];if(null!=t)for(var n in fl(t))e.push(n);return e}function Ko(t){return Sl.call(t)}function Jo(t,e,n){return e=Zl(e===it?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Zl(r.length-e,0),a=al(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=al(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),u(t,this,s)}}function Xo(t,e){return e.length<2?t:sr(t,li(e,0,-1))}function Qo(t,e){for(var n=t.length,r=Kl(e.length,n),i=Fi(t);r--;){var o=e[r];t[r]=Bo(o,n)?i[o]:it}return t}function ta(t,e,n){var r=e+"";return Lf(t,zo(r,oa(Io(r),n)))}function ea(t){var e=0,n=0;return function(){var r=Jl(),i=Tt-(r-n);if(n=r,i>0){if(++e>=Ot)return arguments[0]}else e=0;return t.apply(it,arguments)}}function na(t,e){var n=-1,r=t.length,i=r-1;for(e=e===it?r:e;++n<e;){var o=ni(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function ra(t){if("string"==typeof t||ws(t))return t;var e=t+"";return"0"==e&&1/t==-Nt?"-0":e}function ia(t){if(null!=t){try{return yl.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function oa(t,e){return c(Ut,function(n){var r="_."+n[0];e&n[1]&&!d(t,r)&&t.push(r)}),t.sort()}function aa(t){if(t instanceof w)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Fi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ua(t,e,n){e=(n?Do(t,e,n):e===it)?1:Zl(Ms(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=al(ql(r/e));i<r;)a[o++]=li(t,i,i+=e);return a}function sa(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ca(){var t=arguments.length;if(!t)return[];for(var e=al(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return v(bh(n)?Fi(n):[n],er(e,1))}function la(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:Ms(e),li(t,e<0?0:e,r)):[]}function fa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:Ms(e),e=r-e,li(t,0,e<0?0:e)):[]}function ha(t,e){return t&&t.length?wi(t,Ao(e,3),!0,!0):[]}function da(t,e){return t&&t.length?wi(t,Ao(e,3),!0):[]}function pa(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Do(t,e,n)&&(n=0,r=i),Qn(t,e,n,r)):[]}function ga(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ms(n);return i<0&&(i=Zl(r+i,0)),S(t,Ao(e,3),i)}function va(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==it&&(i=Ms(n),i=n<0?Zl(r+i,0):Kl(i,r-1)),S(t,Ao(e,3),i,!0)}function _a(t){return(null==t?0:t.length)?er(t,1):[]}function ma(t){return(null==t?0:t.length)?er(t,Nt):[]}function ya(t,e){return(null==t?0:t.length)?(e=e===it?1:Ms(e),er(t,e)):[]}function wa(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ba(t){return t&&t.length?t[0]:it}function xa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ms(n);return i<0&&(i=Zl(r+i,0)),C(t,e,i)}function Sa(t){return(null==t?0:t.length)?li(t,0,-1):[]}function Ca(t,e){return null==t?"":Gl.call(t,e)}function Aa(t){var e=null==t?0:t.length;return e?t[e-1]:it}function Ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==it&&(i=Ms(n),i=i<0?Zl(r+i,0):Kl(i,r-1)),e===e?X(t,e,i):S(t,M,i,!0)}function Pa(t,e){return t&&t.length?Zr(t,Ms(e)):it}function ka(t,e){return t&&t.length&&e&&e.length?ti(t,e):t}function Oa(t,e,n){return t&&t.length&&e&&e.length?ti(t,e,Ao(n,2)):t}function Ta(t,e,n){return t&&t.length&&e&&e.length?ti(t,e,it,n):t}function Ia(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ao(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return ei(t,i),n}function ja(t){return null==t?t:tf.call(t)}function Ea(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Do(t,e,n)?(e=0,n=r):(e=null==e?0:Ms(e),n=n===it?r:Ms(n)),li(t,e,n)):[]}function Na(t,e){return hi(t,e)}function La(t,e,n){return di(t,e,Ao(n,2))}function za(t,e){var n=null==t?0:t.length;if(n){var r=hi(t,e);if(r<n&&Zu(t[r],e))return r}return-1}function Ra(t,e){return hi(t,e,!0)}function Ba(t,e,n){return di(t,e,Ao(n,2),!0)}function Da(t,e){if(null==t?0:t.length){var n=hi(t,e,!0)-1;if(Zu(t[n],e))return n}return-1}function Fa(t){return t&&t.length?pi(t):[]}function Ua(t,e){return t&&t.length?pi(t,Ao(e,2)):[]}function qa(t){var e=null==t?0:t.length;return e?li(t,1,e):[]}function Va(t,e,n){return t&&t.length?(e=n||e===it?1:Ms(e),li(t,0,e<0?0:e)):[]}function Wa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:Ms(e),e=r-e,li(t,e<0?0:e,r)):[]}function $a(t,e){return t&&t.length?wi(t,Ao(e,3),!1,!0):[]}function Ha(t,e){return t&&t.length?wi(t,Ao(e,3)):[]}function Ga(t){return t&&t.length?_i(t):[]}function Ya(t,e){return t&&t.length?_i(t,Ao(e,2)):[]}function Za(t,e){return e="function"==typeof e?e:it,t&&t.length?_i(t,it,e):[]}function Ka(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Ju(t))return e=Zl(t.length,e),!0}),E(e,function(e){return g(t,k(e))})}function Ja(t,e){if(!t||!t.length)return[];var n=Ka(t);return null==e?n:g(n,function(t){return u(e,it,t)})}function Xa(t,e){return Si(t||[],e||[],jn)}function Qa(t,e){return Si(t||[],e||[],si)}function tu(t){var e=n(t);return e.__chain__=!0,e}function eu(t,e){return e(t),t}function nu(t,e){return e(t)}function ru(){return tu(this)}function iu(){return new i(this.value(),this.__chain__)}function ou(){this.__values__===it&&(this.__values__=Cs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?it:this.__values__[this.__index__++]}}function au(){return this}function uu(t){for(var e,n=this;n instanceof r;){var i=aa(n);i.__index__=0,i.__values__=it,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function su(){var t=this.__wrapped__;if(t instanceof w){var e=t;return this.__actions__.length&&(e=new w(this)),e=e.reverse(),e.__actions__.push({func:nu,args:[ja],thisArg:it}),new i(e,this.__chain__)}return this.thru(ja)}function cu(){return bi(this.__wrapped__,this.__actions__)}function lu(t,e,n){var r=bh(t)?f:Gn;return n&&Do(t,e,n)&&(e=it),r(t,Ao(e,3))}function fu(t,e){return(bh(t)?h:tr)(t,Ao(e,3))}function hu(t,e){return er(mu(t,e),1)}function du(t,e){return er(mu(t,e),Nt)}function pu(t,e,n){return n=n===it?1:Ms(n),er(mu(t,e),n)}function gu(t,e){return(bh(t)?c:yf)(t,Ao(e,3))}function vu(t,e){return(bh(t)?l:wf)(t,Ao(e,3))}function _u(t,e,n,r){t=Ku(t)?t:rc(t),n=n&&!r?Ms(n):0;var i=t.length;return n<0&&(n=Zl(i+n,0)),ys(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&C(t,e,n)>-1}function mu(t,e){return(bh(t)?g:Wr)(t,Ao(e,3))}function yu(t,e,n,r){return null==t?[]:(bh(e)||(e=null==e?[]:[e]),n=r?it:n,bh(n)||(n=null==n?[]:[n]),Kr(t,e,n))}function wu(t,e,n){var r=bh(t)?_:T,i=arguments.length<3;return r(t,Ao(e,4),n,i,yf)}function bu(t,e,n){var r=bh(t)?m:T,i=arguments.length<3;return r(t,Ao(e,4),n,i,wf)}function xu(t,e){return(bh(t)?h:tr)(t,zu(Ao(e,3)))}function Su(t){return(bh(t)?kn:ai)(t)}function Cu(t,e,n){return e=(n?Do(t,e,n):e===it)?1:Ms(e),(bh(t)?On:ui)(t,e)}function Au(t){return(bh(t)?Tn:ci)(t)}function Mu(t){if(null==t)return 0;if(Ku(t))return ys(t)?Q(t):t.length;var e=If(t);return e==Jt||e==ie?t.size:Ur(t).length}function Pu(t,e,n){var r=bh(t)?y:fi;return n&&Do(t,e,n)&&(e=it),r(t,Ao(e,3))}function ku(t,e){if("function"!=typeof e)throw new pl(st);return t=Ms(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ou(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,ho(t,Ct,it,it,it,it,e)}function Tu(t,e){var n;if("function"!=typeof e)throw new pl(st);return t=Ms(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function Iu(t,e,n){e=n?it:e;var r=ho(t,wt,it,it,it,it,it,e);return r.placeholder=Iu.placeholder,r}function ju(t,e,n){e=n?it:e;var r=ho(t,bt,it,it,it,it,it,e);return r.placeholder=ju.placeholder,r}function Eu(t,e,n){function r(e){var n=h,r=d;return h=d=it,m=e,g=t.apply(r,n)}function i(t){return m=t,v=Nf(u,e),y?r(t):g}function o(t){var n=t-_,r=t-m,i=e-n;return w?Kl(i,p-r):i}function a(t){var n=t-_,r=t-m;return _===it||n>=e||n<0||w&&r>=p}function u(){var t=ch();if(a(t))return s(t);v=Nf(u,o(t))}function s(t){return v=it,b&&h?r(t):(h=d=it,g)}function c(){v!==it&&Mf(v),m=0,h=_=d=v=it}function l(){return v===it?g:s(ch())}function f(){var t=ch(),n=a(t);if(h=arguments,d=this,_=t,n){if(v===it)return i(_);if(w)return v=Nf(u,e),r(_)}return v===it&&(v=Nf(u,e)),g}var h,d,p,g,v,_,m=0,y=!1,w=!1,b=!0;if("function"!=typeof t)throw new pl(st);return e=ks(e)||0,ss(n)&&(y=!!n.leading,w="maxWait"in n,p=w?Zl(ks(n.maxWait)||0,e):p,b="trailing"in n?!!n.trailing:b),f.cancel=c,f.flush=l,f}function Nu(t){return ho(t,Mt)}function Lu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new pl(st);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Lu.Cache||hn),n}function zu(t){if("function"!=typeof t)throw new pl(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ru(t){return Tu(2,t)}function Bu(t,e){if("function"!=typeof t)throw new pl(st);return e=e===it?e:Ms(e),oi(t,e)}function Du(t,e){if("function"!=typeof t)throw new pl(st);return e=null==e?0:Zl(Ms(e),0),oi(function(n){var r=n[e],i=Pi(n,0,e);return r&&v(i,r),u(t,this,i)})}function Fu(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new pl(st);return ss(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Eu(t,e,{leading:r,maxWait:e,trailing:i})}function Uu(t){return Ou(t,1)}function qu(t,e){return gh(Ai(e),t)}function Vu(){if(!arguments.length)return[];var t=arguments[0];return bh(t)?t:[t]}function Wu(t){return Fn(t,pt)}function $u(t,e){return e="function"==typeof e?e:it,Fn(t,pt,e)}function Hu(t){return Fn(t,ht|pt)}function Gu(t,e){return e="function"==typeof e?e:it,Fn(t,ht|pt,e)}function Yu(t,e){return null==e||qn(t,e,Ws(e))}function Zu(t,e){return t===e||t!==t&&e!==e}function Ku(t){return null!=t&&us(t.length)&&!os(t)}function Ju(t){return cs(t)&&Ku(t)}function Xu(t){return t===!0||t===!1||cs(t)&&fr(t)==$t}function Qu(t){return cs(t)&&1===t.nodeType&&!_s(t)}function ts(t){if(null==t)return!0;if(Ku(t)&&(bh(t)||"string"==typeof t||"function"==typeof t.splice||Sh(t)||kh(t)||wh(t)))return!t.length;var e=If(t);if(e==Jt||e==ie)return!t.size;if(Wo(t))return!Ur(t).length;for(var n in t)if(wl.call(t,n))return!1;return!0}function es(t,e){return jr(t,e)}function ns(t,e,n){n="function"==typeof n?n:it;var r=n?n(t,e):it;return r===it?jr(t,e,it,n):!!r}function rs(t){if(!cs(t))return!1;var e=fr(t);return e==Yt||e==Gt||"string"==typeof t.message&&"string"==typeof t.name&&!_s(t)}function is(t){return"number"==typeof t&&Hl(t)}function os(t){if(!ss(t))return!1;var e=fr(t);return e==Zt||e==Kt||e==Wt||e==ne}function as(t){return"number"==typeof t&&t==Ms(t)}function us(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Lt}function ss(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function cs(t){return null!=t&&"object"==typeof t}function ls(t,e){return t===e||Lr(t,e,Po(e))}function fs(t,e,n){return n="function"==typeof n?n:it,Lr(t,e,Po(e),n)}function hs(t){return vs(t)&&t!=+t}function ds(t){if(jf(t))throw new sl(ut);return zr(t)}function ps(t){return null===t}function gs(t){return null==t}function vs(t){return"number"==typeof t||cs(t)&&fr(t)==Xt}function _s(t){if(!cs(t)||fr(t)!=te)return!1;var e=Il(t);if(null===e)return!0;var n=wl.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&yl.call(n)==Cl}function ms(t){return as(t)&&t>=-Lt&&t<=Lt}function ys(t){return"string"==typeof t||!bh(t)&&cs(t)&&fr(t)==oe}function ws(t){return"symbol"==typeof t||cs(t)&&fr(t)==ae}function bs(t){return t===it}function xs(t){return cs(t)&&If(t)==se}function Ss(t){return cs(t)&&fr(t)==ce}function Cs(t){if(!t)return[];if(Ku(t))return ys(t)?tt(t):Fi(t);if(zl&&t[zl])return $(t[zl]());var e=If(t);return(e==Jt?H:e==ie?Z:rc)(t)}function As(t){if(!t)return 0===t?t:0;if((t=ks(t))===Nt||t===-Nt){return(t<0?-1:1)*zt}return t===t?t:0}function Ms(t){var e=As(t),n=e%1;return e===e?n?e-n:e:0}function Ps(t){return t?Dn(Ms(t),0,Bt):0}function ks(t){if("number"==typeof t)return t;if(ws(t))return Rt;if(ss(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ss(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Re,"");var n=Ye.test(t);return n||Ke.test(t)?ir(t.slice(2),n?2:8):Ge.test(t)?Rt:+t}function Os(t){return Ui(t,$s(t))}function Ts(t){return t?Dn(Ms(t),-Lt,Lt):0===t?t:0}function Is(t){return null==t?"":vi(t)}function js(t,e){var n=mf(t);return null==e?n:Ln(n,e)}function Es(t,e){return x(t,Ao(e,3),nr)}function Ns(t,e){return x(t,Ao(e,3),or)}function Ls(t,e){return null==t?t:bf(t,Ao(e,3),$s)}function zs(t,e){return null==t?t:xf(t,Ao(e,3),$s)}function Rs(t,e){return t&&nr(t,Ao(e,3))}function Bs(t,e){return t&&or(t,Ao(e,3))}function Ds(t){return null==t?[]:ar(t,Ws(t))}function Fs(t){return null==t?[]:ar(t,$s(t))}function Us(t,e,n){var r=null==t?it:sr(t,e);return r===it?n:r}function qs(t,e){return null!=t&&jo(t,e,yr)}function Vs(t,e){return null!=t&&jo(t,e,Sr)}function Ws(t){return Ku(t)?Pn(t):Ur(t)}function $s(t){return Ku(t)?Pn(t,!0):qr(t)}function Hs(t,e){var n={};return e=Ao(e,3),nr(t,function(t,r,i){Rn(n,e(t,r,i),t)}),n}function Gs(t,e){var n={};return e=Ao(e,3),nr(t,function(t,r,i){Rn(n,r,e(t,r,i))}),n}function Ys(t,e){return Zs(t,zu(Ao(e)))}function Zs(t,e){if(null==t)return{};var n=g(xo(t),function(t){return[t]});return e=Ao(e),Xr(t,n,function(t,n){return e(t,n[0])})}function Ks(t,e,n){e=Mi(e,t);var r=-1,i=e.length;for(i||(i=1,t=it);++r<i;){var o=null==t?it:t[ra(e[r])];o===it&&(r=i,o=n),t=os(o)?o.call(t):o}return t}function Js(t,e,n){return null==t?t:si(t,e,n)}function Xs(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:si(t,e,n,r)}function Qs(t,e,n){var r=bh(t),i=r||Sh(t)||kh(t);if(e=Ao(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ss(t)&&os(o)?mf(Il(t)):{}}return(i?c:nr)(t,function(t,r,i){return e(n,t,r,i)}),n}function tc(t,e){return null==t||mi(t,e)}function ec(t,e,n){return null==t?t:yi(t,e,Ai(n))}function nc(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:yi(t,e,Ai(n),r)}function rc(t){return null==t?[]:z(t,Ws(t))}function ic(t){return null==t?[]:z(t,$s(t))}function oc(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=ks(n),n=n===n?n:0),e!==it&&(e=ks(e),e=e===e?e:0),Dn(ks(t),e,n)}function ac(t,e,n){return e=As(e),n===it?(n=e,e=0):n=As(n),t=ks(t),Ar(t,e,n)}function uc(t,e,n){if(n&&"boolean"!=typeof n&&Do(t,e,n)&&(e=n=it),n===it&&("boolean"==typeof e?(n=e,e=it):"boolean"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=As(t),e===it?(e=t,t=0):e=As(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Ql();return Kl(t+i*(e-t+rr("1e-"+((i+"").length-1))),e)}return ni(t,e)}function sc(t){return td(Is(t).toLowerCase())}function cc(t){return(t=Is(t))&&t.replace(Xe,wr).replace(Wn,"")}function lc(t,e,n){t=Is(t),e=vi(e);var r=t.length;n=n===it?r:Dn(Ms(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function fc(t){return t=Is(t),t&&Pe.test(t)?t.replace(Ae,br):t}function hc(t){return t=Is(t),t&&ze.test(t)?t.replace(Le,"\\$&"):t}function dc(t,e,n){t=Is(t),e=Ms(e);var r=e?Q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return oo(Vl(i),n)+t+oo(ql(i),n)}function pc(t,e,n){t=Is(t),e=Ms(e);var r=e?Q(t):0;return e&&r<e?t+oo(e-r,n):t}function gc(t,e,n){t=Is(t),e=Ms(e);var r=e?Q(t):0;return e&&r<e?oo(e-r,n)+t:t}function vc(t,e,n){return n||null==e?e=0:e&&(e=+e),Xl(Is(t).replace(Be,""),e||0)}function _c(t,e,n){return e=(n?Do(t,e,n):e===it)?1:Ms(e),ii(Is(t),e)}function mc(){var t=arguments,e=Is(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function yc(t,e,n){return n&&"number"!=typeof n&&Do(t,e,n)&&(e=n=it),(n=n===it?Bt:n>>>0)?(t=Is(t),t&&("string"==typeof e||null!=e&&!Mh(e))&&!(e=vi(e))&&V(t)?Pi(tt(t),0,n):t.split(e,n)):[]}function wc(t,e,n){return t=Is(t),n=null==n?0:Dn(Ms(n),0,t.length),e=vi(e),t.slice(n,n+e.length)==e}function bc(t,e,r){var i=n.templateSettings;r&&Do(t,e,r)&&(e=it),t=Is(t),e=Eh({},e,i,po);var o,a,u=Eh({},e.imports,i.imports,po),s=Ws(u),c=z(u,s),l=0,f=e.interpolate||Qe,h="__p += '",d=hl((e.escape||Qe).source+"|"+f.source+"|"+(f===Te?$e:Qe).source+"|"+(e.evaluate||Qe).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Kn+"]")+"\n";t.replace(d,function(e,n,r,i,u,s){return r||(r=i),h+=t.slice(l,s).replace(tn,U),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),h+="';\n";var g=e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(be,""):h).replace(xe,"$1").replace(Se,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=ed(function(){return cl(s,p+"return "+h).apply(it,c)});if(v.source=h,rs(v))throw v;return v}function xc(t){return Is(t).toLowerCase()}function Sc(t){return Is(t).toUpperCase()}function Cc(t,e,n){if((t=Is(t))&&(n||e===it))return t.replace(Re,"");if(!t||!(e=vi(e)))return t;var r=tt(t),i=tt(e);return Pi(r,B(r,i),D(r,i)+1).join("")}function Ac(t,e,n){if((t=Is(t))&&(n||e===it))return t.replace(De,"");if(!t||!(e=vi(e)))return t;var r=tt(t);return Pi(r,0,D(r,tt(e))+1).join("")}function Mc(t,e,n){if((t=Is(t))&&(n||e===it))return t.replace(Be,"");if(!t||!(e=vi(e)))return t;var r=tt(t);return Pi(r,B(r,tt(e))).join("")}function Pc(t,e){var n=Pt,r=kt;if(ss(e)){var i="separator"in e?e.separator:i;n="length"in e?Ms(e.length):n,r="omission"in e?vi(e.omission):r}t=Is(t);var o=t.length;if(V(t)){var a=tt(t);o=a.length}if(n>=o)return t;var u=n-Q(r);if(u<1)return r;var s=a?Pi(a,0,u).join(""):t.slice(0,u);if(i===it)return s+r;if(a&&(u+=s.length-u),Mh(i)){if(t.slice(u).search(i)){var c,l=s;for(i.global||(i=hl(i.source,Is(He.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;s=s.slice(0,f===it?u:f)}}else if(t.indexOf(vi(i),u)!=u){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+r}function kc(t){return t=Is(t),t&&Me.test(t)?t.replace(Ce,xr):t}function Oc(t,e,n){return t=Is(t),e=n?it:e,e===it?W(t)?rt(t):b(t):t.match(e)||[]}function Tc(t){var e=null==t?0:t.length,n=Ao();return t=e?g(t,function(t){if("function"!=typeof t[1])throw new pl(st);return[n(t[0]),t[1]]}):[],oi(function(n){for(var r=-1;++r<e;){var i=t[r];if(u(i[0],this,n))return u(i[1],this,n)}})}function Ic(t){return Un(Fn(t,ht))}function jc(t){return function(){return t}}function Ec(t,e){return null==t||t!==t?e:t}function Nc(t){return t}function Lc(t){return Fr("function"==typeof t?t:Fn(t,ht))}function zc(t){return $r(Fn(t,ht))}function Rc(t,e){return Hr(t,Fn(e,ht))}function Bc(t,e,n){var r=Ws(e),i=ar(e,r);null!=n||ss(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=ar(e,Ws(e)));var o=!(ss(n)&&"chain"in n&&!n.chain),a=os(t);return c(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Fi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,v([this.value()],arguments))})}),t}function Dc(){return ur._===this&&(ur._=Al),this}function Fc(){}function Uc(t){return t=Ms(t),oi(function(e){return Zr(e,t)})}function qc(t){return Fo(t)?k(ra(t)):Qr(t)}function Vc(t){return function(e){return null==t?it:sr(t,e)}}function Wc(){return[]}function $c(){return!1}function Hc(){return{}}function Gc(){return""}function Yc(){return!0}function Zc(t,e){if((t=Ms(t))<1||t>Lt)return[];var n=Bt,r=Kl(t,Bt);e=Ao(e),t-=Bt;for(var i=E(r,e);++n<t;)e(n);return i}function Kc(t){return bh(t)?g(t,ra):ws(t)?[t]:Fi(zf(Is(t)))}function Jc(t){var e=++bl;return Is(t)+e}function Xc(t){return t&&t.length?Yn(t,Nc,hr):it}function Qc(t,e){return t&&t.length?Yn(t,Ao(e,2),hr):it}function tl(t){return P(t,Nc)}function el(t,e){return P(t,Ao(e,2))}function nl(t){return t&&t.length?Yn(t,Nc,Vr):it}function rl(t,e){return t&&t.length?Yn(t,Ao(e,2),Vr):it}function il(t){return t&&t.length?j(t,Nc):0}function ol(t,e){return t&&t.length?j(t,Ao(e,2)):0}e=null==e?ur:Cr.defaults(ur.Object(),e,Cr.pick(ur,Zn));var al=e.Array,ul=e.Date,sl=e.Error,cl=e.Function,ll=e.Math,fl=e.Object,hl=e.RegExp,dl=e.String,pl=e.TypeError,gl=al.prototype,vl=cl.prototype,_l=fl.prototype,ml=e["__core-js_shared__"],yl=vl.toString,wl=_l.hasOwnProperty,bl=0,xl=function(){var t=/[^.]+$/.exec(ml&&ml.keys&&ml.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Sl=_l.toString,Cl=yl.call(fl),Al=ur._,Ml=hl("^"+yl.call(wl).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pl=lr?e.Buffer:it,kl=e.Symbol,Ol=e.Uint8Array,Tl=Pl?Pl.allocUnsafe:it,Il=G(fl.getPrototypeOf,fl),jl=fl.create,El=_l.propertyIsEnumerable,Nl=gl.splice,Ll=kl?kl.isConcatSpreadable:it,zl=kl?kl.iterator:it,Rl=kl?kl.toStringTag:it,Bl=function(){try{var t=ko(fl,"defineProperty");return t({},"",{}),t}catch(t){}}(),Dl=e.clearTimeout!==ur.clearTimeout&&e.clearTimeout,Fl=ul&&ul.now!==ur.Date.now&&ul.now,Ul=e.setTimeout!==ur.setTimeout&&e.setTimeout,ql=ll.ceil,Vl=ll.floor,Wl=fl.getOwnPropertySymbols,$l=Pl?Pl.isBuffer:it,Hl=e.isFinite,Gl=gl.join,Yl=G(fl.keys,fl),Zl=ll.max,Kl=ll.min,Jl=ul.now,Xl=e.parseInt,Ql=ll.random,tf=gl.reverse,ef=ko(e,"DataView"),nf=ko(e,"Map"),rf=ko(e,"Promise"),of=ko(e,"Set"),af=ko(e,"WeakMap"),uf=ko(fl,"create"),sf=af&&new af,cf={},lf=ia(ef),ff=ia(nf),hf=ia(rf),df=ia(of),pf=ia(af),gf=kl?kl.prototype:it,vf=gf?gf.valueOf:it,_f=gf?gf.toString:it,mf=function(){function t(){}return function(e){if(!ss(e))return{};if(jl)return jl(e);t.prototype=e;var n=new t;return t.prototype=it,n}}();n.templateSettings={escape:ke,evaluate:Oe,interpolate:Te,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=mf(r.prototype),i.prototype.constructor=i,w.prototype=mf(r.prototype),w.prototype.constructor=w,nt.prototype.clear=Ve,nt.prototype.delete=en,nt.prototype.get=nn,nt.prototype.has=rn,nt.prototype.set=on,an.prototype.clear=un,an.prototype.delete=sn,an.prototype.get=cn,an.prototype.has=ln,an.prototype.set=fn,hn.prototype.clear=dn,hn.prototype.delete=pn,hn.prototype.get=gn,hn.prototype.has=vn,hn.prototype.set=_n,mn.prototype.add=mn.prototype.push=yn,mn.prototype.has=wn,bn.prototype.clear=xn,bn.prototype.delete=Sn,bn.prototype.get=Cn,bn.prototype.has=An,bn.prototype.set=Mn;var yf=Hi(nr),wf=Hi(or,!0),bf=Gi(),xf=Gi(!0),Sf=sf?function(t,e){return sf.set(t,e),t}:Nc,Cf=Bl?function(t,e){return Bl(t,"toString",{configurable:!0,enumerable:!1,value:jc(e),writable:!0})}:Nc,Af=oi,Mf=Dl||function(t){return ur.clearTimeout(t)},Pf=of&&1/Z(new of([,-0]))[1]==Nt?function(t){return new of(t)}:Fc,kf=sf?function(t){return sf.get(t)}:Fc,Of=Wl?function(t){return null==t?[]:(t=fl(t),h(Wl(t),function(e){return El.call(t,e)}))}:Wc,Tf=Wl?function(t){for(var e=[];t;)v(e,Of(t)),t=Il(t);return e}:Wc,If=fr;(ef&&If(new ef(new ArrayBuffer(1)))!=fe||nf&&If(new nf)!=Jt||rf&&If(rf.resolve())!=ee||of&&If(new of)!=ie||af&&If(new af)!=se)&&(If=function(t){var e=fr(t),n=e==te?t.constructor:it,r=n?ia(n):"";if(r)switch(r){case lf:return fe;case ff:return Jt;case hf:return ee;case df:return ie;case pf:return se}return e});var jf=ml?os:$c,Ef=ea(Sf),Nf=Ul||function(t,e){return ur.setTimeout(t,e)},Lf=ea(Cf),zf=Go(function(t){var e=[];return Ee.test(t)&&e.push(""),t.replace(Ne,function(t,n,r,i){e.push(r?i.replace(We,"$1"):n||t)}),e}),Rf=oi(function(t,e){return Ju(t)?Hn(t,er(e,1,Ju,!0)):[]}),Bf=oi(function(t,e){var n=Aa(e);return Ju(n)&&(n=it),Ju(t)?Hn(t,er(e,1,Ju,!0),Ao(n,2)):[]}),Df=oi(function(t,e){var n=Aa(e);return Ju(n)&&(n=it),Ju(t)?Hn(t,er(e,1,Ju,!0),it,n):[]}),Ff=oi(function(t){var e=g(t,Ci);return e.length&&e[0]===t[0]?Mr(e):[]}),Uf=oi(function(t){var e=Aa(t),n=g(t,Ci);return e===Aa(n)?e=it:n.pop(),n.length&&n[0]===t[0]?Mr(n,Ao(e,2)):[]}),qf=oi(function(t){var e=Aa(t),n=g(t,Ci);return e="function"==typeof e?e:it,e&&n.pop(),n.length&&n[0]===t[0]?Mr(n,it,e):[]}),Vf=oi(ka),Wf=wo(function(t,e){var n=null==t?0:t.length,r=Bn(t,e);return ei(t,g(e,function(t){return Bo(t,n)?+t:t}).sort(zi)),r}),$f=oi(function(t){return _i(er(t,1,Ju,!0))}),Hf=oi(function(t){var e=Aa(t);return Ju(e)&&(e=it),_i(er(t,1,Ju,!0),Ao(e,2))}),Gf=oi(function(t){var e=Aa(t);return e="function"==typeof e?e:it,_i(er(t,1,Ju,!0),it,e)}),Yf=oi(function(t,e){return Ju(t)?Hn(t,e):[]}),Zf=oi(function(t){return xi(h(t,Ju))}),Kf=oi(function(t){var e=Aa(t);return Ju(e)&&(e=it),xi(h(t,Ju),Ao(e,2))}),Jf=oi(function(t){var e=Aa(t);return e="function"==typeof e?e:it,xi(h(t,Ju),it,e)}),Xf=oi(Ka),Qf=oi(function(t){var e=t.length,n=e>1?t[e-1]:it;return n="function"==typeof n?(t.pop(),n):it,Ja(t,n)}),th=wo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Bn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof w&&Bo(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:nu,args:[o],thisArg:it}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(o)}),eh=Wi(function(t,e,n){wl.call(t,n)?++t[n]:Rn(t,n,1)}),nh=Qi(ga),rh=Qi(va),ih=Wi(function(t,e,n){wl.call(t,n)?t[n].push(e):Rn(t,n,[e])}),oh=oi(function(t,e,n){var r=-1,i="function"==typeof e,o=Ku(t)?al(t.length):[];return yf(t,function(t){o[++r]=i?u(e,t,n):kr(t,e,n)}),o}),ah=Wi(function(t,e,n){Rn(t,n,e)}),uh=Wi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sh=oi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Do(t,e[0],e[1])?e=[]:n>2&&Do(e[0],e[1],e[2])&&(e=[e[0]]),Kr(t,er(e,1),[])}),ch=Fl||function(){return ur.Date.now()},lh=oi(function(t,e,n){var r=_t;if(n.length){var i=Y(n,Co(lh));r|=xt}return ho(t,r,e,n,i)}),fh=oi(function(t,e,n){var r=_t|mt;if(n.length){var i=Y(n,Co(fh));r|=xt}return ho(e,r,t,n,i)}),hh=oi(function(t,e){return $n(t,1,e)}),dh=oi(function(t,e,n){return $n(t,ks(e)||0,n)});Lu.Cache=hn;var ph=Af(function(t,e){e=1==e.length&&bh(e[0])?g(e[0],L(Ao())):g(er(e,1),L(Ao()));var n=e.length;return oi(function(r){for(var i=-1,o=Kl(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return u(t,this,r)})}),gh=oi(function(t,e){return ho(t,xt,it,e,Y(e,Co(gh)))}),vh=oi(function(t,e){return ho(t,St,it,e,Y(e,Co(vh)))}),_h=wo(function(t,e){return ho(t,At,it,it,it,e)}),mh=so(hr),yh=so(function(t,e){return t>=e}),wh=Or(function(){return arguments}())?Or:function(t){return cs(t)&&wl.call(t,"callee")&&!El.call(t,"callee")},bh=al.isArray,xh=dr?L(dr):Tr,Sh=$l||$c,Ch=pr?L(pr):Ir,Ah=gr?L(gr):Nr,Mh=vr?L(vr):Rr,Ph=_r?L(_r):Br,kh=mr?L(mr):Dr,Oh=so(Vr),Th=so(function(t,e){return t<=e}),Ih=$i(function(t,e){if(Wo(e)||Ku(e))return void Ui(e,Ws(e),t);for(var n in e)wl.call(e,n)&&jn(t,n,e[n])}),jh=$i(function(t,e){Ui(e,$s(e),t)}),Eh=$i(function(t,e,n,r){Ui(e,$s(e),t,r)}),Nh=$i(function(t,e,n,r){Ui(e,Ws(e),t,r)}),Lh=wo(Bn),zh=oi(function(t){return t.push(it,po),u(Eh,it,t)}),Rh=oi(function(t){return t.push(it,go),u(qh,it,t)}),Bh=no(function(t,e,n){t[e]=n},jc(Nc)),Dh=no(function(t,e,n){wl.call(t,e)?t[e].push(n):t[e]=[n]},Ao),Fh=oi(kr),Uh=$i(function(t,e,n){Gr(t,e,n)}),qh=$i(function(t,e,n,r){Gr(t,e,n,r)}),Vh=wo(function(t,e){var n={};if(null==t)return n;var r=!1;e=g(e,function(e){return e=Mi(e,t),r||(r=e.length>1),e}),Ui(t,xo(t),n),r&&(n=Fn(n,ht|dt|pt,vo));for(var i=e.length;i--;)mi(n,e[i]);return n}),Wh=wo(function(t,e){return null==t?{}:Jr(t,e)}),$h=fo(Ws),Hh=fo($s),Gh=Ki(function(t,e,n){return e=e.toLowerCase(),t+(n?sc(e):e)}),Yh=Ki(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Zh=Ki(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Kh=Zi("toLowerCase"),Jh=Ki(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Xh=Ki(function(t,e,n){return t+(n?" ":"")+td(e)}),Qh=Ki(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),td=Zi("toUpperCase"),ed=oi(function(t,e){try{return u(t,it,e)}catch(t){return rs(t)?t:new sl(t)}}),nd=wo(function(t,e){return c(e,function(e){e=ra(e),Rn(t,e,lh(t[e],t))}),t}),rd=to(),id=to(!0),od=oi(function(t,e){return function(n){return kr(n,t,e)}}),ad=oi(function(t,e){return function(n){return kr(t,n,e)}}),ud=io(g),sd=io(f),cd=io(y),ld=uo(),fd=uo(!0),hd=ro(function(t,e){return t+e},0),dd=lo("ceil"),pd=ro(function(t,e){return t/e},1),gd=lo("floor"),vd=ro(function(t,e){return t*e},1),_d=lo("round"),md=ro(function(t,e){return t-e},0);return n.after=ku,n.ary=Ou,n.assign=Ih,n.assignIn=jh,n.assignInWith=Eh,n.assignWith=Nh,n.at=Lh,n.before=Tu,n.bind=lh,n.bindAll=nd,n.bindKey=fh,n.castArray=Vu,n.chain=tu,n.chunk=ua,n.compact=sa,n.concat=ca,n.cond=Tc,n.conforms=Ic,n.constant=jc,n.countBy=eh,n.create=js,n.curry=Iu,n.curryRight=ju,n.debounce=Eu,n.defaults=zh,n.defaultsDeep=Rh,n.defer=hh,n.delay=dh,n.difference=Rf,n.differenceBy=Bf,n.differenceWith=Df,n.drop=la,n.dropRight=fa,n.dropRightWhile=ha,n.dropWhile=da,n.fill=pa,n.filter=fu,n.flatMap=hu,n.flatMapDeep=du,n.flatMapDepth=pu,n.flatten=_a,n.flattenDeep=ma,n.flattenDepth=ya,n.flip=Nu,n.flow=rd,n.flowRight=id,n.fromPairs=wa,n.functions=Ds,n.functionsIn=Fs,n.groupBy=ih,n.initial=Sa,n.intersection=Ff,n.intersectionBy=Uf,n.intersectionWith=qf,n.invert=Bh,n.invertBy=Dh,n.invokeMap=oh,n.iteratee=Lc,n.keyBy=ah,n.keys=Ws,n.keysIn=$s,n.map=mu,n.mapKeys=Hs,n.mapValues=Gs,n.matches=zc,n.matchesProperty=Rc,n.memoize=Lu,n.merge=Uh,n.mergeWith=qh,n.method=od,n.methodOf=ad,n.mixin=Bc,n.negate=zu,n.nthArg=Uc,n.omit=Vh,n.omitBy=Ys,n.once=Ru,n.orderBy=yu,n.over=ud,n.overArgs=ph,n.overEvery=sd,n.overSome=cd,n.partial=gh,n.partialRight=vh,n.partition=uh,n.pick=Wh,n.pickBy=Zs,n.property=qc,n.propertyOf=Vc,n.pull=Vf,n.pullAll=ka,n.pullAllBy=Oa,n.pullAllWith=Ta,n.pullAt=Wf,n.range=ld,n.rangeRight=fd,n.rearg=_h,n.reject=xu,n.remove=Ia,n.rest=Bu,n.reverse=ja,n.sampleSize=Cu,n.set=Js,n.setWith=Xs,n.shuffle=Au,n.slice=Ea,n.sortBy=sh,n.sortedUniq=Fa,n.sortedUniqBy=Ua,n.split=yc,n.spread=Du,n.tail=qa,n.take=Va,n.takeRight=Wa,n.takeRightWhile=$a,n.takeWhile=Ha,n.tap=eu,n.throttle=Fu,n.thru=nu,n.toArray=Cs,n.toPairs=$h,n.toPairsIn=Hh,n.toPath=Kc,n.toPlainObject=Os,n.transform=Qs,n.unary=Uu,n.union=$f,n.unionBy=Hf,n.unionWith=Gf,n.uniq=Ga,n.uniqBy=Ya,n.uniqWith=Za,n.unset=tc,n.unzip=Ka,n.unzipWith=Ja,n.update=ec,n.updateWith=nc,n.values=rc,n.valuesIn=ic,n.without=Yf,n.words=Oc,n.wrap=qu,n.xor=Zf,n.xorBy=Kf,n.xorWith=Jf,n.zip=Xf,n.zipObject=Xa,n.zipObjectDeep=Qa,n.zipWith=Qf,n.entries=$h,n.entriesIn=Hh,n.extend=jh,n.extendWith=Eh,Bc(n,n),n.add=hd,n.attempt=ed,n.camelCase=Gh,n.capitalize=sc,n.ceil=dd,n.clamp=oc,n.clone=Wu,n.cloneDeep=Hu,n.cloneDeepWith=Gu,n.cloneWith=$u,n.conformsTo=Yu,n.deburr=cc,n.defaultTo=Ec,n.divide=pd,n.endsWith=lc,n.eq=Zu,n.escape=fc,n.escapeRegExp=hc,n.every=lu,n.find=nh,n.findIndex=ga,n.findKey=Es,n.findLast=rh,n.findLastIndex=va,n.findLastKey=Ns,n.floor=gd,n.forEach=gu,n.forEachRight=vu,n.forIn=Ls,n.forInRight=zs,n.forOwn=Rs,n.forOwnRight=Bs,n.get=Us,n.gt=mh,n.gte=yh,n.has=qs,n.hasIn=Vs,n.head=ba,n.identity=Nc,n.includes=_u,n.indexOf=xa,n.inRange=ac,n.invoke=Fh,n.isArguments=wh,n.isArray=bh,n.isArrayBuffer=xh,n.isArrayLike=Ku,n.isArrayLikeObject=Ju,n.isBoolean=Xu,n.isBuffer=Sh,n.isDate=Ch,n.isElement=Qu,n.isEmpty=ts,n.isEqual=es,n.isEqualWith=ns,n.isError=rs,n.isFinite=is,n.isFunction=os,n.isInteger=as,n.isLength=us,n.isMap=Ah,n.isMatch=ls,n.isMatchWith=fs,n.isNaN=hs,n.isNative=ds,n.isNil=gs,n.isNull=ps,n.isNumber=vs,n.isObject=ss,n.isObjectLike=cs,n.isPlainObject=_s,n.isRegExp=Mh,n.isSafeInteger=ms,n.isSet=Ph,n.isString=ys,n.isSymbol=ws,n.isTypedArray=kh,n.isUndefined=bs,n.isWeakMap=xs,n.isWeakSet=Ss,n.join=Ca,n.kebabCase=Yh,n.last=Aa,n.lastIndexOf=Ma,n.lowerCase=Zh,n.lowerFirst=Kh,n.lt=Oh,n.lte=Th,n.max=Xc,n.maxBy=Qc,n.mean=tl,n.meanBy=el,n.min=nl,n.minBy=rl,n.stubArray=Wc,n.stubFalse=$c,n.stubObject=Hc,n.stubString=Gc,n.stubTrue=Yc,n.multiply=vd,n.nth=Pa,n.noConflict=Dc,n.noop=Fc,n.now=ch,n.pad=dc,n.padEnd=pc,n.padStart=gc,n.parseInt=vc,n.random=uc,n.reduce=wu,n.reduceRight=bu,n.repeat=_c,n.replace=mc,n.result=Ks,n.round=_d,n.runInContext=t,n.sample=Su,n.size=Mu,n.snakeCase=Jh,n.some=Pu,n.sortedIndex=Na,n.sortedIndexBy=La,n.sortedIndexOf=za,n.sortedLastIndex=Ra,n.sortedLastIndexBy=Ba,n.sortedLastIndexOf=Da,n.startCase=Xh,n.startsWith=wc,n.subtract=md,n.sum=il,n.sumBy=ol,n.template=bc,n.times=Zc,n.toFinite=As,n.toInteger=Ms,n.toLength=Ps,n.toLower=xc,n.toNumber=ks,n.toSafeInteger=Ts,n.toString=Is,n.toUpper=Sc,n.trim=Cc,n.trimEnd=Ac,n.trimStart=Mc,n.truncate=Pc,n.unescape=kc,n.uniqueId=Jc,n.upperCase=Qh,n.upperFirst=td,n.each=gu,n.eachRight=vu,n.first=ba,Bc(n,function(){var t={};return nr(n,function(e,r){wl.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION=ot,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),c(["drop","take"],function(t,e){w.prototype[t]=function(n){n=n===it?1:Zl(Ms(n),0);var r=this.__filtered__&&!e?new w(this):this.clone();return r.__filtered__?r.__takeCount__=Kl(n,r.__takeCount__):r.__views__.push({size:Kl(n,Bt),type:t+(r.__dir__<0?"Right":"")}),r},w.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),c(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==It||n==Et;w.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ao(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),c(["head","last"],function(t,e){var n="take"+(e?"Right":"");w.prototype[t]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");w.prototype[t]=function(){return this.__filtered__?new w(this):this[n](1)}}),w.prototype.compact=function(){return this.filter(Nc)},w.prototype.find=function(t){return this.filter(t).head()},w.prototype.findLast=function(t){return this.reverse().find(t)},w.prototype.invokeMap=oi(function(t,e){return"function"==typeof t?new w(this):this.map(function(n){return kr(n,t,e)})}),w.prototype.reject=function(t){return this.filter(zu(Ao(t)))},w.prototype.slice=function(t,e){t=Ms(t);var n=this;return n.__filtered__&&(t>0||e<0)?new w(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=Ms(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},w.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},w.prototype.toArray=function(){return this.take(Bt)},nr(w.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],u=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,s=o?[1]:arguments,c=e instanceof w,l=s[0],f=c||bh(e),h=function(t){var e=a.apply(n,v([t],s));return o&&d?e[0]:e};f&&r&&"function"==typeof l&&1!=l.length&&(c=f=!1);var d=this.__chain__,p=!!this.__actions__.length,g=u&&!d,_=c&&!p;if(!u&&f){e=_?e:new w(this);var m=t.apply(e,s);return m.__actions__.push({func:nu,args:[h],thisArg:it}),new i(m,d)}return g&&_?t.apply(this,s):(m=this.thru(h),g?o?m.value()[0]:m.value():m)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var e=gl[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(bh(n)?n:[],t)}return this[r](function(n){return e.apply(bh(n)?n:[],t)})}}),nr(w.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(cf[i]||(cf[i]=[])).push({name:e,func:r})}}),cf[eo(it,mt).name]=[{name:"wrapper",func:it}],w.prototype.clone=O,w.prototype.reverse=J,w.prototype.value=et,n.prototype.at=th,n.prototype.chain=ru,n.prototype.commit=iu,n.prototype.next=ou,n.prototype.plant=uu,n.prototype.reverse=su,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=cu,n.prototype.first=n.prototype.head,zl&&(n.prototype[zl]=au),n},Cr=Sr();ur._=Cr,(i=function(){return Cr}.call(e,n,e,r))!==it&&(r.exports=i)}).call(this)}).call(e,n(22),n(23)(t))},function(t,e){},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===a(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),u=a,s=0;s<a;s++)if(i[s]!==o[s]){u=s;break}for(var c=[],s=u;s<i.length;s++)c.push("..");return c=c.concat(o.slice(u)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(46))},function(t,e){t.exports="; just the melody\n~melA = (r/8 g c5/8 (tuplet=3/2 b4/8 c5/8 a4/8 r/8 a4/8 e4/8) |\ng4/1 | (value=8 octave=4 r f g (slur f f) eb c (slur eb | eb/2))\n(value=8 r c bb3 (slur c | c/1 | )) g a/8 (slur b/8 b/2) r/8 a4/4. b4 c5/8\n(slur d5/8 | d5/2) r/8 c5/8 g4/8 (slur bb4/8 | bb4/2.) a4\nc5/2 r/8 bb4/8 f4/8 (slur ab4/8 | ab4/2.) g4 | bb4/2 r/8 ab4/16 bb4/16 ab4/8 db4/8 |\neb5/2 r/8 db5/16 eb5/16 db5/8 ab4/8 (slur gb5/1 gb5/1)\n)\n\n[mel (part=pluck tempo=100 ~melA)]\n"},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],u=i[2],s=i[3],c={css:a,media:u,sourceMap:s};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=_(),r=w[w.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function u(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),o(t,e),e}function s(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),o(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function l(t,e){var n,r,i;if(e.singleton){var o=y++;n=m||(m=u(e)),r=f.bind(null,n,o,!1),i=f.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=d.bind(null,n,e),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(e),r=h.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=b(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}var p={},g=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},v=g(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),_=g(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,w=[],b=n(87);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},void 0===e.singleton&&(e.singleton=v()),void 0===e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var u=n[a],s=p[u.id];s.refs--,o.push(s)}if(t){r(i(t),e)}for(var a=0;a<o.length;a++){var s=o[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete p[s.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url *\( *(.+?) *\)/g,function(t,e){var i=e.replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){var r=n(77);"string"==typeof r&&(r=[[t.i,r,""]]);n(86)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r;!function(){function i(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function a(t,e,n){return a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o,a.apply(null,arguments)}function u(t,e){this.a=t,this.m=e||t,this.c=this.m.document}function s(t,e,n,r){if(e=t.c.createElement(e),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r&&e.appendChild(t.c.createTextNode(r)),e}function c(t,e,n){t=t.c.getElementsByTagName(e)[0],t||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function l(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e,n){e=e||[],n=n||[];for(var r=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,a=0;a<r.length;a+=1)if(e[i]===r[a]){o=!0;break}o||r.push(e[i])}for(e=[],i=0;i<r.length;i+=1){for(o=!1,a=0;a<n.length;a+=1)if(r[i]===n[a]){o=!0;break}o||e.push(r[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(t,e){for(var n=t.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==e)return!0;return!1}function d(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function p(t){return t.m.location.hostname||t.a.location.hostname}function g(t,e,n){function r(){u&&i&&o&&(u(a),u=null)}e=s(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,o=!0,a=null,u=n||null;ut?(e.onload=function(){i=!0,r()},e.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),r()}):setTimeout(function(){i=!0,r()},0),c(t,"head",e)}function v(t,e,n,r){var i=t.c.getElementsByTagName("head")[0];if(i){var o=s(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout(function(){a||(a=!0,n&&n(Error("Script load timeout")))},r||5e3),o}return null}function _(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,w(t)}}function y(t,e){t.c=e,w(t)}function w(t){0==t.a&&t.c&&(t.c(),t.c=null)}function b(t){this.a=t||"-"}function x(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function S(t){return M(t)+" "+t.f+"00 300px "+C(t.c)}function C(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var r=t[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function A(t){return t.a+t.f}function M(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function P(t){var e=4,n="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),n+e}function k(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new b("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function O(t){t.g&&f(t.f,[t.a.c("wf","loading")]),I(t,"loading")}function T(t){if(t.g){var e=h(t.f,t.a.c("wf","active")),n=[],r=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),f(t.f,n,r)}I(t,"inactive")}function I(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,A(n)):t.h[e]())}function j(){this.c={}}function E(t,e,n){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var o=t.c[r];o&&i.push(o(e[r],n))}return i}function N(t,e){this.c=t,this.f=e,this.a=s(this.c,"span",{"aria-hidden":"true"},this.f)}function L(t){c(t.c,"body",t.a)}function z(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+C(t.c)+";font-style:"+M(t)+";font-weight:"+t.f+"00;"}function R(t,e,n,r,i,o){this.g=t,this.j=e,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function B(t,e,n,r,i,o,a){this.v=t,this.B=e,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.o=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.o=new N(this.c,this.s),t=new x(this.a.c+",serif",A(this.a)),t=z(t),this.g.a.style.cssText=t,t=new x(this.a.c+",sans-serif",A(this.a)),t=z(t),this.h.a.style.cssText=t,t=new x("serif",A(this.a)),t=z(t),this.j.a.style.cssText=t,t=new x("sans-serif",A(this.a)),t=z(t),this.o.a.style.cssText=t,L(this.g),L(this.h),L(this.j),L(this.o)}function D(){if(null===ct){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ct=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return ct}function F(t,e,n){for(var r in st)if(st.hasOwnProperty(r)&&e===t.f[st[r]]&&n===t.f[st[r]])return!0;return!1}function U(t){var e,n=t.g.a.offsetWidth,r=t.h.a.offsetWidth;(e=n===t.f.serif&&r===t.f["sans-serif"])||(e=D()&&F(t,n,r)),e?at()-t.A>=t.w?D()&&F(t,n,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?V(t,t.v):V(t,t.B):q(t):V(t,t.v)}function q(t){setTimeout(a(function(){U(this)},t),50)}function V(t,e){setTimeout(a(function(){l(this.g.a),l(this.h.a),l(this.j.a),l(this.o.a),e(this.a)},t),0)}function W(t,e,n){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=n}function $(t){0==--t.f&&t.j&&(t.o?(t=t.a,t.g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),I(t,"active")):T(t.a))}function H(t){this.j=t,this.a=new j,this.h=0,this.f=this.g=!0}function G(t,e,n,r,i){var o=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=i||null,u=r||null||{};if(0===n.length&&o)T(e.a);else{e.f+=n.length,o&&(e.j=o);var s,c=[];for(s=0;s<n.length;s++){var l=n[s],h=u[l.c],d=e.a,p=l;if(d.g&&f(d.f,[d.a.c("wf",p.c,A(p).toString(),"loading")]),I(d,"fontloading",p),d=null,null===lt)if(window.FontFace){var p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);lt=p?42<parseInt(p[1],10):!g}else lt=!1;d=lt?new R(a(e.g,e),a(e.h,e),e.c,l,e.s,h):new B(a(e.g,e),a(e.h,e),e.c,l,e.s,t,h),c.push(d)}for(s=0;s<c.length;s++)c[s].start()}},0)}function Y(t,e,n){var r=[],i=n.timeout;O(e);var r=E(t.a,n,t.c),o=new W(t.c,e,i);for(t.h=r.length,e=0,n=r.length;e<n;e++)r[e].load(function(e,n,r){G(t,o,e,n,r)})}function Z(t,e){this.c=t,this.a=e}function K(t,e,n){var r=d(t.c);return t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),r+"//"+t+"/"+e+".js"+(n?"?v="+n:"")}function J(t,e){this.c=t,this.a=e}function X(t,e,n){this.c=t?t:e+ft,this.a=[],this.f=[],this.g=n||""}function Q(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}function tt(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],r=0;r<e;r++)n.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function et(t){this.f=t,this.a=[],this.c={}}function nt(t){for(var e=t.f.length,n=0;n<e;n++){var r=t.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var a,u=r[1];if(a=[],u)for(var u=u.split(","),s=u.length,c=0;c<s;c++){var l;if(l=u[c],l.match(/^[\w-]+$/)){var f=gt.exec(l.toLowerCase());if(null==f)l="";else{if(l=f[2],l=null==l||""==l?"n":pt[l],null==(f=f[1])||""==f)f="4";else var h=dt[f],f=h?h:isNaN(f)?"4":f.substr(0,1);l=[l,f].join("")}}else l="";l&&a.push(l)}0<a.length&&(o=a),3==r.length&&(r=r[2],a=[],r=r?r.split(","):a,0<r.length&&(r=ht[r[0]])&&(t.c[i]=r))}for(t.c[i]||(r=ht[i])&&(t.c[i]=r),r=0;r<o.length;r+=1)t.a.push(new x(i,o[r]))}}function rt(t,e){this.c=t,this.a=e}function it(t,e){this.c=t,this.a=e}function ot(t,e){this.c=t,this.f=e,this.a=[]}var at=Date.now||function(){return+new Date},ut=!!window.FontFace;b.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},R.prototype.start=function(){var t=this.c.m.document,e=this,n=at(),r=new Promise(function(r,i){function o(){at()-n>=e.f?i():t.fonts.load(S(e.a),e.h).then(function(t){1<=t.length?r():setTimeout(o,25)},function(){i()})}o()}),i=new Promise(function(t,n){setTimeout(n,e.f)});Promise.race([i,r]).then(function(){e.g(e.a)},function(){e.j(e.a)})};var st={D:"serif",C:"sans-serif"},ct=null;B.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=at(),U(this)};var lt=null;W.prototype.g=function(t){var e=this.a;e.g&&f(e.f,[e.a.c("wf",t.c,A(t).toString(),"active")],[e.a.c("wf",t.c,A(t).toString(),"loading"),e.a.c("wf",t.c,A(t).toString(),"inactive")]),I(e,"fontactive",t),this.o=!0,$(this)},W.prototype.h=function(t){var e=this.a;if(e.g){var n=h(e.f,e.a.c("wf",t.c,A(t).toString(),"active")),r=[],i=[e.a.c("wf",t.c,A(t).toString(),"loading")];n||r.push(e.a.c("wf",t.c,A(t).toString(),"inactive")),f(e.f,r,i)}I(e,"fontinactive",t),$(this)},H.prototype.load=function(t){this.c=new u(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,Y(this,new k(this.c,t),t)},Z.prototype.load=function(t){function e(){if(o["__mti_fntLst"+r]){var n,i=o["__mti_fntLst"+r](),a=[];if(i)for(var u=0;u<i.length;u++){var s=i[u].fontfamily;void 0!=i[u].fontStyle&&void 0!=i[u].fontWeight?(n=i[u].fontStyle+i[u].fontWeight,a.push(new x(s,n))):a.push(new x(s))}t(a)}else setTimeout(function(){e()},50)}var n=this,r=n.a.projectId,i=n.a.version;if(r){var o=n.c.m;v(this.c,K(n,r,i),function(i){i?t([]):(o["__MonotypeConfiguration__"+r]=function(){return n.a},e())}).id="__MonotypeAPIScript__"+r}else t([])},J.prototype.load=function(t){var e,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new _;for(e=0,n=r.length;e<n;e++)g(this.c,r[e],m(a));var u=[];for(e=0,n=i.length;e<n;e++)if(r=i[e].split(":"),r[1])for(var s=r[1].split(","),c=0;c<s.length;c+=1)u.push(new x(r[0],s[c]));else u.push(new x(r[0]));y(a,function(){t(u,o)})};var ft="//fonts.googleapis.com/css",ht={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},dt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},pt={i:"i",italic:"i",n:"n",normal:"n"},gt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,vt={Arimo:!0,Cousine:!0,Tinos:!0};rt.prototype.load=function(t){var e=new _,n=this.c,r=new X(this.a.api,d(n),this.a.text),i=this.a.families;Q(r,i);var o=new et(i);nt(o),g(n,tt(r),m(e)),y(e,function(){t(o.a,o.c,vt)})},it.prototype.load=function(t){var e=this.a.id,n=this.c.m;e?v(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var r=[],i=0;i<e.length;i+=2)for(var o=e[i],a=e[i+1],u=0;u<a.length;u++)r.push(new x(o,a[u]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(r)}},2e3):t([])},ot.prototype.load=function(t){var e=this.f.id,n=this.c.m,r=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var i=0,o=n.fonts.length;i<o;++i){var a=n.fonts[i];r.a.push(new x(a.name,P("font-weight:"+a.weight+";font-style:"+a.style)))}t(r.a)},v(this.c,d(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+p(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var _t=new H(window);_t.a.c.custom=function(t,e){return new J(e,t)},_t.a.c.fontdeck=function(t,e){return new ot(e,t)},_t.a.c.monotype=function(t,e){return new Z(e,t)},_t.a.c.typekit=function(t,e){return new it(e,t)},_t.a.c.google=function(t,e){return new rt(e,t)};var mt={load:a(_t.load,_t)};void 0!==(r=function(){return mt}.call(e,n,e,t))&&(t.exports=r)}()},function(t,e,n){(function(t,r){var i=function(){function t(t,e){this.props=t,this.list=e}function e(t,n){return t instanceof Array?t.map(function(t){return e(t,n)}):t.clone(n)}function n(t){var e=t.match(/[a-gA-G][b|#]{0,2}(?![a-zA-Z])/)[0],n=t.match(/[0-9]+/);return n&&n[0].length?{pitchClass:e,octave:Number(n)}:{pitchClass:e}}function r(){this.yy={}}var i=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},o=[1,19],a=[1,20],u=[1,17],s=[1,18],c=[1,14],l=[1,15],f=[1,9],h=[4,7,12,16,18,21,28,36],d=[4,7,12,16,18,21,24,28,30,36],p=[1,24],g=[1,30],v=[4,7,12,16,18,19,21,24,28,30,36],_=[1,34],m=[4,7,10,12,16,18,19,21,24,28,30,36],y=[1,41],w=[1,47],b=[7,12,16,18,21,23,36],x=[7,12,16,18,21,24,30,36],S=[7,12,19],C=[1,66],A={trace:function(){},yy:{},symbols_:{error:2,expressions:3,EOF:4,statements:5,float:6,INTEGER:7,DOTS:8,duration:9,FWDSLASH:10,pitch:11,PITCHCLASS:12,note:13,notelist:14,rest:15,REST:16,chord:17,OPENBRKT:18,CLOSEBRKT:19,chordSymbol:20,LPAREN:21,CSYM:22,IDENTIFIER:23,RPAREN:24,item:25,ratio:26,voice:27,LBRKT:28,list:29,RBRKT:30,propertydef:31,EQUALS:32,BOOL:33,propertylist:34,propscope:35,VAR:36,assignment:37,statement:38,$accept:0,$end:1},terminals_:{2:"error",4:"EOF",7:"INTEGER",8:"DOTS",10:"FWDSLASH",12:"PITCHCLASS",16:"REST",18:"OPENBRKT",19:"CLOSEBRKT",21:"LPAREN",22:"CSYM",23:"IDENTIFIER",24:"RPAREN",28:"LBRKT",30:"RBRKT",32:"EQUALS",33:"BOOL",36:"VAR"},productions_:[0,[3,1],[3,2],[6,3],[9,2],[9,3],[11,1],[11,1],[13,1],[13,2],[14,1],[14,2],[15,1],[15,2],[17,3],[17,4],[20,5],[20,6],[20,6],[25,1],[25,1],[25,1],[25,1],[26,3],[27,4],[31,3],[31,3],[31,3],[31,3],[31,3],[34,1],[34,2],[35,4],[35,4],[35,3],[29,1],[29,2],[29,1],[29,2],[29,1],[29,2],[37,3],[38,1],[38,1],[38,1],[38,1],[5,1],[5,2]],performAction:function(t,r,i,o,a,u,s){var c=u.length-1;switch(a){case 1:return{voices:o.voices,chordSymbols:o.chordSymbols};case 2:return u[c-1];case 3:this.$=parseFloat(u[c-2]+"."+u[c]);break;case 4:this.$={value:Number(u[c]),dots:0};break;case 5:this.$={value:Number(u[c-1]),dots:u[c].length};break;case 6:this.$={midi:Number(u[c])};break;case 7:this.$=n(u[c]);break;case 8:this.$=new o.NoteNode(u[c]);break;case 9:this.$=new o.NoteNode(Object.assign({},u[c-1],u[c]));break;case 10:case 35:case 46:this.$=[u[c]];break;case 11:case 36:case 40:case 47:this.$=u[c-1].concat(u[c]);break;case 12:this.$=new o.RestNode({});break;case 13:this.$=new o.RestNode({value:u[c].value,dots:u[c].dots});break;case 14:this.$=new o.ChordNode({},u[c-1]);break;case 15:this.$=new o.ChordNode({value:u[c].value,dots:u[c].dots},u[c-2]);break;case 16:var l={type:M,props:{value:u[c-2],measure:Number(u[c-1]),beat:0}};o.chordSymbols.push(l),this.$=l;break;case 17:case 18:var l={type:M,props:{value:u[c-3],measure:Number(u[c-2]),beat:Number(u[c-1])}};o.chordSymbols.push(l),this.$=l;break;case 19:case 20:case 21:case 22:case 39:case 42:case 43:case 44:case 45:this.$=u[c];break;case 23:this.$=""+u[c-2]+u[c-1]+u[c];break;case 24:o.voices[u[c-2]]?o.voices[u[c-2]]=o.voices[u[c-2]].concat(u[c-1]):o.voices[u[c-2]]=u[c-1],this.$=u[c-1];break;case 25:this.$={key:u[c-2],value:P(u[c])};break;case 26:this.$={key:u[c-2],value:Number(u[c])};break;case 27:case 28:case 29:this.$={key:u[c-2],value:u[c]};break;case 30:var f={};f[u[c].key]=u[c].value,this.$=f;break;case 31:var f={};f[u[c].key]=u[c].value,this.$=Object.assign({},u[c-1],f);break;case 32:this.$=u[c-1].map(function(t){var n={};return n[u[c-2]]=!0,e(t,n)});break;case 33:this.$=u[c-1].map(function(t){var e=Object.assign({},u[c-2],t.props);return t.clone(e)});break;case 34:this.$=u[c-1];break;case 37:var h=o.vars[u[c]];if(!h)throw new Error(k.unitializedVar(u[c],this));this.$=[].concat(h.reduce(function(t,n){return t.concat(e(n))},[]));break;case 38:var h=o.vars[u[c]];if(!h)throw new Error(k.unitializedVar(u[c],this));this.$=u[c-1].concat(h.reduce(function(t,n){return t.concat(e(n))},[]));break;case 41:o.vars[u[c-2]]=u[c],this.$=u[c]}},table:[{3:1,4:[1,2],5:3,7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,25:6,27:8,28:l,35:7,36:f,37:5,38:4},{1:[3]},{1:[2,1]},{4:[1,21],7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,25:6,27:8,28:l,35:7,36:f,37:5,38:22},i(h,[2,46]),i(h,[2,42]),i(h,[2,43]),i(h,[2,44]),i(h,[2,45]),{32:[1,23]},i(d,[2,19]),i(d,[2,20]),i(d,[2,21]),i(d,[2,22]),{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,22:[1,27],23:p,25:29,29:26,31:28,34:25,35:31,36:g},{23:[1,32]},i(v,[2,8],{9:33,10:_}),i(d,[2,12],{9:35,10:_}),{7:o,11:16,12:a,13:37,14:36},i(m,[2,6]),i(m,[2,7]),{1:[2,2]},i(h,[2,47]),{21:[1,39],35:38},{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,25:29,29:40,32:y,35:31,36:g},{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,23:[1,44],25:29,29:42,31:43,35:31,36:g},{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,24:[1,45],25:46,35:48,36:w},{23:[1,49]},i(b,[2,30]),i(x,[2,35]),i(x,[2,37]),i(x,[2,39]),{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,25:29,29:50,35:31,36:g},i(v,[2,9]),{7:[1,51]},i(d,[2,13]),{7:o,11:16,12:a,13:53,19:[1,52]},i(S,[2,10]),i(h,[2,41]),{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,23:p,25:29,29:26,31:28,34:25,35:31,36:g},{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,24:[1,54],25:46,35:48,36:w},{6:59,7:[1,56],23:[1,57],26:58,33:[1,55]},{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,24:[1,60],25:46,35:48,36:w},i(b,[2,31]),{32:y},i(d,[2,34]),i(x,[2,36]),i(x,[2,38]),i(x,[2,40]),{7:[1,61]},{7:o,11:16,12:a,13:10,15:11,16:u,17:12,18:s,20:13,21:c,25:46,30:[1,62],35:48,36:w},i(v,[2,4],{8:[1,63]}),i(d,[2,14],{9:64,10:_}),i(S,[2,11]),i(d,[2,32]),i(b,[2,25]),i(b,[2,26],{8:C,10:[1,65]}),i(b,[2,27]),i(b,[2,28]),i(b,[2,29]),i(d,[2,33]),{6:69,7:[1,68],24:[1,67]},i(h,[2,24]),i(v,[2,5]),i(d,[2,15]),{7:[1,70]},{7:[1,71]},i(d,[2,16]),{8:C,24:[1,72]},{24:[1,73]},i(b,[2,23]),i([7,12,16,18,21,23,24,36],[2,3]),i(d,[2,17]),i(d,[2,18])],defaultActions:{2:[2,1],21:[2,2]},parseError:function(t,e){function n(t,e){this.message=t,this.hash=e}if(!e.recoverable)throw n.prototype=Error,new n(t,e);this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",u=0,s=0,c=0,l=2,f=1,h=i.slice.call(arguments,1),d=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);d.setInput(t,p.yy),p.yy.lexer=d,p.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var v=d.yylloc;i.push(v);var _=d.options&&d.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,w,b,x,S,C,A,M,P=function(){var t;return t=d.lex()||f,"number"!=typeof t&&(t=e.symbols_[t]||t),t},k={};;){if(w=n[n.length-1],this.defaultActions[w]?b=this.defaultActions[w]:(null!==m&&void 0!==m||(m=P()),b=o[w]&&o[w][m]),void 0===b||!b.length||!b[0]){var O="";M=[];for(S in o[w])this.terminals_[S]&&S>l&&M.push("'"+this.terminals_[S]+"'");O=d.showPosition?"Parse error on line "+(u+1)+":\n"+d.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(u+1)+": Unexpected "+(m==f?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(O,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:v,expected:M})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+m);switch(b[0]){case 1:n.push(m),r.push(d.yytext),i.push(d.yylloc),n.push(b[1]),m=null,y?(m=y,y=null):(s=d.yyleng,a=d.yytext,u=d.yylineno,v=d.yylloc,c>0&&c--);break;case 2:if(C=this.productions_[b[1]][1],k.$=r[r.length-C],k._$={first_line:i[i.length-(C||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(C||1)].first_column,last_column:i[i.length-1].last_column},_&&(k._$.range=[i[i.length-(C||1)].range[0],i[i.length-1].range[1]]),void 0!==(x=this.performAction.apply(k,[a,s,u,p.yy,b[1],r,i].concat(h))))return x;C&&(n=n.slice(0,-1*C*2),r=r.slice(0,-1*C),i=i.slice(0,-1*C)),n.push(this.productions_[b[1]][0]),r.push(k.$),i.push(k._$),A=o[n[n.length-2]][n[n.length-1]],n.push(A);break;case 3:return!0}}return!0}},M="chordSymbol",P=function(t){return"false"!==t&&Boolean(t)};t.prototype.clone=function(){};var k={unitializedVar:function(t,e){return"Uninitialized variable: "+t+". Line: "+e._$.first_line+"-"+e._$.last_line+", Column: "+e._$.first_column+"-"+e._$.last_column+"."}},O=function(){return{EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if((t=this.test_match(n,i[o]))!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]))!==!1&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:break;case 2:break;case 3:return 21;case 4:return 24;case 5:return 28;case 6:return 30;case 7:return 18;case 8:return 19;case 9:return 10;case 10:return 32;case 11:return 16;case 12:return 8;case 13:return 33;case 14:return 7;case 15:return 22;case 16:return 12;case 17:return 36;case 18:return 23;case 19:return 4;case 20:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:;.*)/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:<)/,/^(?:>)/,/^(?:\/)/,/^(?:=)/,/^(?:r\b)/,/^(?:\.+)/,/^(?:true|false\b)/,/^(?:[0-9]+)/,/^(?:csym\b)/,/^(?:[a-gA-G][b|#]{0,2}(?![a-zA-Z])([0-9]+)?)/,/^(?:~[a-zA-Z][a-zA-Z0-9]*)/,/^(?:[a-zA-Z][a-zA-Z0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}}}();return A.lexer=O,r.prototype=A,A.Parser=r,new r}();e.parser=i,e.Parser=i.Parser,e.parse=function(){return i.parse.apply(i,arguments)},e.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),t.exit(1));var i=n(83).readFileSync(n(84).normalize(r[1]),"utf8");return e.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&e.main(t.argv.slice(1))}).call(e,n(46),n(23)(t))},function(t,e){t.exports={_id:"p/Star_Spangled_Banner/layout/1482699809626",_rev:"14-533492aca39b02f7f95ea2dbb87d3d4b",name:"",title:"Lead",composer:"",type:"score",timeSignatures:[{value:[4,4],measure:0,beat:0}],currentPage:0,pages:[{systems:4,staffSpacing:[]},{systems:4,staffSpacing:[]}],lines:[{name:"",clefs:[{value:"treble",measure:0,beat:0}],keys:[{root:"C",mode:"major",measure:0,beat:0}],voices:["mel"]}],systems:[{measures:3,lineSpacing:[0],length:800},{measures:4,lineSpacing:[],length:800},{measures:4,lineSpacing:[],length:800},{measures:4,lineSpacing:[],length:800},{measures:4,lineSpacing:[],length:800},{measures:4,lineSpacing:[],length:800},{measures:3,lineSpacing:[],length:800}]}},function(t,e){},function(t,e){},function(t,e,n){t.exports=n(47)}]);